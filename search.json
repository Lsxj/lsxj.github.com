[{"title":"Daily Dictation","url":"http://yoursite.com/2018/02/06/Daily-Dictation/","content":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p>å•çº¯ä¸ºäº†ç£ä¿ƒè‡ªå·±å­¦ä¹ è‹±è¯­å¼€çš„è‹±è¯­ç³»åˆ—ã€‚<br>æ¥è‡ªäºæ¶é­”å¥¶çˆ¸æ¨èçš„Daily Dictaion. æ¯å¤©ä¸‰ç¯‡ã€‚</p>\n<h1 id=\"2018-02-06\"><a href=\"#2018-02-06\" class=\"headerlink\" title=\"2018-02-06\"></a>2018-02-06</h1><h2 id=\"128\"><a href=\"#128\" class=\"headerlink\" title=\"128\"></a>128</h2><p>One curious 9-year<del>s</del> <strong>-old</strong>   girl <del>roads</del> <strong>wrote</strong> MacDonald<strong>â€˜sâ€™</strong> <del>buring</del> <strong>with</strong> that  <strong>burning</strong> question: Why <strong>does</strong> your food look different in the advertising <del>and</del> <strong>than</strong> whatâ€™s in the store?</p>\n<p>// advertisement : commercials </p>\n<h2 id=\"127\"><a href=\"#127\" class=\"headerlink\" title=\"127\"></a>127</h2><p>Tesla <del>sets</del> <strong>says</strong> the price range<strong>s</strong> from <strong>just under</strong> 50,000 <del>dollars</del>  to about  $100,000. depending on the battery size and option<strong>s</strong> you choose.</p>\n<h2 id=\"126\"><a href=\"#126\" class=\"headerlink\" title=\"126\"></a>126</h2><p><strong>A</strong> <del>60</del> <strong>68</strong>-year-old grandmother <del>tonned</del> <strong>taunted</strong> by 4 <del>kid</del> <strong>children</strong> on <del>the</del> <strong>a</strong> school bus all of <del>case</del> <strong>caught</strong> <del>un-take</del> <strong>on tape</strong>.</p>\n<p>// taunted: è¨€è¯­æ”»å‡» verbal attack</p>\n<p>// caught on tape: record</p>\n<h1 id=\"2018-02-05\"><a href=\"#2018-02-05\" class=\"headerlink\" title=\"2018-02-05\"></a>2018-02-05</h1><h2 id=\"125\"><a href=\"#125\" class=\"headerlink\" title=\"125\"></a>125</h2><p>Pre blessed food, we <del>bless</del> <strong>pray for it</strong> <del>food</del>, so you donâ€™t have to.</p>\n<h2 id=\"124\"><a href=\"#124\" class=\"headerlink\" title=\"124\"></a>124</h2><p>He was about 600 pounds at that point, 640 <strong>or so</strong> pounds , He <del>gone</del> <strong>got</strong> down to about <del>481</del> <strong>480 at one point</strong>. He died <del>about</del> <strong>at</strong> 1000 pounds. Oh my god.</p>\n<p>// #1: No.1; </p>\n<p>// 600#: 600 pounds.</p>\n<h2 id=\"123\"><a href=\"#123\" class=\"headerlink\" title=\"123\"></a>123</h2><p>Usually we just hang out , you know <strong>maybe</strong> we<strong>â€˜llâ€™</strong> go for a family <strong>hike or something</strong> , I donâ€™t know where, you know,  <strong>weâ€™ll be in Iceland </strong>that day <strong>, so</strong> <del>see</del>, weâ€™ll see <strong>what that</strong> does. we<strong>â€˜re</strong> gonna <del>keep</del> <strong>kick</strong> back on Sunday, so I donâ€™t know what the plans are.</p>\n<h1 id=\"2018-02-01\"><a href=\"#2018-02-01\" class=\"headerlink\" title=\"2018-02-01\"></a>2018-02-01</h1><h2 id=\"122\"><a href=\"#122\" class=\"headerlink\" title=\"122\"></a>122</h2><p>bilibiliæœåŠ¡å™¨è¿æ¥å¤±è´¥ã€‚ã€‚ã€‚</p>\n<h2 id=\"121\"><a href=\"#121\" class=\"headerlink\" title=\"121\"></a>121</h2><p>How <del>can</del> <strong>come</strong> you<strong>â€˜re</strong> wear<strong>ing</strong> a hat?</p>\n<p>I got a haircut.</p>\n<p>Can I see <strong>it</strong>?</p>\n<p><del>I donâ€™t know that thing.</del> <strong>Thereâ€™s nothing to see.</strong></p>\n<p>Come on let me see it. </p>\n<p>Forget <del>this</del> <strong>it</strong>.</p>\n<p>come on.</p>\n<p>All right. </p>\n<p>// How come you â€¦. : Why are you</p>\n<h1 id=\"2018-01-31\"><a href=\"#2018-01-31\" class=\"headerlink\" title=\"2018-01-31\"></a>2018-01-31</h1><h2 id=\"120\"><a href=\"#120\" class=\"headerlink\" title=\"120\"></a>120</h2><p>well, I guess I should remind you if you are <del>breaking</del> <strong>freaking</strong> out right now <strong>that</strong> this <del>might be</del> <strong>hasnâ€™t</strong> happen<strong>ed â€¦ yet</strong>. </p>\n<p>//freaking out: really worried, getting scared </p>\n<h2 id=\"119\"><a href=\"#119\" class=\"headerlink\" title=\"119\"></a>119</h2><p><del>So</del> <strong>Itâ€™s a</strong> rainy day <del>is a day</del> <strong>today</strong>, so I think <del>my suddenly soil may be lay down</del> <strong>I might do something thatâ€™s been needing to be done</strong>  for a while</p>\n<h2 id=\"118\"><a href=\"#118\" class=\"headerlink\" title=\"118\"></a>118</h2><p><del>This</del>. <strong>These</strong>  young <del>man</del> <strong>mountain</strong> bikers are spending their afternoon <del>ways</del> <strong>racing</strong> on the trials.</p>\n<p>// trials: paths</p>\n<h1 id=\"2018-01-30\"><a href=\"#2018-01-30\" class=\"headerlink\" title=\"2018-01-30\"></a>2018-01-30</h1><h2 id=\"117\"><a href=\"#117\" class=\"headerlink\" title=\"117\"></a>117</h2><p>Ted, I just want<strong>ed</strong> to ask you, do you believe in <del>the</del> <strong>an</strong> afterlife?</p>\n<p>Do I what?</p>\n<p>Do you believe in <del>the</del> <strong>an</strong> afterlife?</p>\n<p><del>I do believe</del> <strong>Well, Dougal,</strong>, generally speaking, <del>pristine</del> <strong>priests tend to</strong> have <strong>a</strong> very strong <del>believe</del> <strong>belief</strong> in the afterlife.</p>\n<p><del>All</del> <strong>Boy,</strong> I wish <strong>I</strong> <del>have</del> <strong>had</strong> your <del>federal</del> <strong>faith</strong>, Ted </p>\n<p>// faith: conviction, strong belief.</p>\n<h2 id=\"116\"><a href=\"#116\" class=\"headerlink\" title=\"116\"></a>116</h2><p>I donâ€™t trust anyone anymore.</p>\n<p>I donâ€™t blame you. I am not like those <del>so cold</del> <strong>so-called</strong> <del>feel whether</del> <strong>fair-weather</strong> your friends <del>with</del> <strong>of</strong> you<strong>rs</strong>. you can believe <del>you and</del> <strong>in</strong> me.</p>\n<p>// I donâ€™t blame you: Itâ€™s not your fault; I understandâ€¦</p>\n<h2 id=\"115\"><a href=\"#115\" class=\"headerlink\" title=\"115\"></a>115</h2><p>I think i could <del>give</del> <strong>use</strong> some black coffee.</p>\n<p>What size would you like?</p>\n<p>I<strong>â€˜ve</strong> got a lot <del>of context white</del> <strong>to ponder, so</strong> I think <del>itâ€™s</del> <strong>a</strong> large.</p>\n<p>Iâ€™m afraid we donâ€™t have large, sir.We have <del>pick-low? â€¦ ? â€¦ ?</del> <strong>piccolo, macho, mucho and mucho macho</strong>.</p>\n<p>// Could I get some black coffee? </p>\n<p>// I could use â€¦: when upset/angry/tiredâ€¦</p>\n<p>// ponder: think about </p>\n<h1 id=\"2018-01-29\"><a href=\"#2018-01-29\" class=\"headerlink\" title=\"2018-01-29\"></a>2018-01-29</h1><h2 id=\"114\"><a href=\"#114\" class=\"headerlink\" title=\"114\"></a>114</h2><p>When it comes to figuring out <del>how fingerâ€™s</del> <strong>feats of</strong> strength, <strong>it</strong> is all in the fingers <del>yield</del> <strong>here</strong>.</p>\n<p>// when it comes to + doing = Regarding</p>\n<p>// when it comes to â€¦. , it is all in the â€¦</p>\n<h2 id=\"113\"><a href=\"#113\" class=\"headerlink\" title=\"113\"></a>113</h2><p>Post-It Super Sticky Notes hold on stronger and longer, but of course remove cleanly.</p>\n<p>// ç»ˆäºå…¨å¯¹äº†ä¸€æ¬¡å•Šï¼ï¼ï¼ å–œæè€Œæ³£ ğŸ˜­</p>\n<h2 id=\"112\"><a href=\"#112\" class=\"headerlink\" title=\"112\"></a>112</h2><p>Itâ€™s <del>mindly</del> <strong>maddening</strong> â€” texting while walking. One town <del>has said</del> <strong>is saying</strong> itâ€™s time to <del>11</del> <strong>level</strong> fines <del>to</del> against people who walk<del>ing</del> <strong>into</strong> the street<strong>s</strong> heads down everybody else try to <del>doge</del> <strong>dodge</strong> them.</p>\n<p>// maddening: frustrating, make people crazy.</p>\n<p>// level fines against people: give fines to people / fine people </p>\n<p>// dodge: avoid</p>\n<h1 id=\"2018-01-26\"><a href=\"#2018-01-26\" class=\"headerlink\" title=\"2018-01-26\"></a>2018-01-26</h1><h2 id=\"111\"><a href=\"#111\" class=\"headerlink\" title=\"111\"></a>111</h2><p>Keeping future resources <del>and tact</del> <strong>intact</strong> means keeping present consumption <del>and</del> <strong>in</strong> check and thatâ€™s why we promote green <del>with</del> <strong>ways of</strong> living and working.</p>\n<p>// intact: complete and not damaged</p>\n<p>//çŠ¶æ€ä¸å¥½ï¼Œæ’¤é€€ã€‚</p>\n<h1 id=\"2018-01-25\"><a href=\"#2018-01-25\" class=\"headerlink\" title=\"2018-01-25\"></a>2018-01-25</h1><h2 id=\"110\"><a href=\"#110\" class=\"headerlink\" title=\"110\"></a>110</h2><p>Even from very <del>very young</del> <strong>early on when we were just building this thing for,</strong> <del>students stand</del> for one school, <strong>there was this concept of what it</strong> <del>they just come to before we</del> could <del>returing to</del> <strong>turn into</strong>, we just <del>want to</del> <strong>werenâ€™t</strong> sure <strong>then</strong> that we <strong>would be the ones who</strong> did it.</p>\n<p>// å¤ªéš¾äº†å¤ªéš¾äº†ï¼ŒçœŸæ˜¯å¤ªéš¾äº†ã€‚å“­å“­ã€‚ğŸ˜­ğŸ˜­ğŸ˜­</p>\n<h2 id=\"109\"><a href=\"#109\" class=\"headerlink\" title=\"109\"></a>109</h2><p>One of <del>the</del> Switzerland<strong>â€˜s</strong> predominant <del>city</del> <strong>cities</strong> Basel sits on the <del>switzer</del> <strong>swiss</strong> border <strong>of</strong> France and Germany.</p>\n<h2 id=\"108\"><a href=\"#108\" class=\"headerlink\" title=\"108\"></a>108</h2><p><del>Can I</del> <strong>Gonna</strong> eat <del>them</del> <strong>that</strong>?<br><del>Half had</del> <strong>Have at it.</strong><br><strong>Did</strong> you just ask my permission <del>to eat</del> <strong>before you took</strong> my food.</p>\n<p>//Have at it: help yourself; go ahead.</p>\n<h1 id=\"2018-01-24\"><a href=\"#2018-01-24\" class=\"headerlink\" title=\"2018-01-24\"></a>2018-01-24</h1><h2 id=\"107\"><a href=\"#107\" class=\"headerlink\" title=\"107\"></a>107</h2><p>When you <del>come</del> <strong>canâ€™t</strong> smoke, if you stand <strong>and stare out of the</strong> <del>stay at a</del> window on your own,<br>you are <del>naughty</del> <strong>an anti-</strong>social friend<strong>less</strong> <del>indias</del> <strong>idiot</strong>. If you stand <strong>and stare out of the</strong> <del>stay at a</del> window on your own with a cigeratte, you are fucking <del>v</del> <strong>philosopher</strong>.</p>\n<p>//philosopher: å“²å­¦å®¶</p>\n<h2 id=\"106\"><a href=\"#106\" class=\"headerlink\" title=\"106\"></a>106</h2><p>One of <del>the</del> <strong>his</strong> first trip<strong>s will</strong> <del>who would</del>  be <strong>to</strong> the US <del>in middle summer</del> <strong>for a NATO summit where he will</strong> <del>people</del> announce <del>itâ€™s about the truth</del> <strong>that he is pulling French troops out of Afghanistan</strong> by the end of <del>this</del> <strong>the</strong> year.</p>\n<p>// trip â€“&gt; bussiness trip<br>// summit: meeting of the highest people, like president. å³°ä¼š</p>\n<h2 id=\"105\"><a href=\"#105\" class=\"headerlink\" title=\"105\"></a>105</h2><p><strong>Alright,</strong> Whatâ€™s your name?<br>Iâ€™m <del>car Francis</del> <strong>Karl Fuentes</strong>.<br><del>car</del> <strong>Karl.</strong><br><del>car</del> <strong>Karl</strong> with a <del>cake</del> <strong>K</strong>.<br>A bird in <del>a</del> <strong>the</strong> hand <del>look was</del> <strong>is worth</strong><br>A million?<br>No.</p>\n<p>// A bird in the hand is worth two in the bush.</p>\n<h1 id=\"2018-01-23\"><a href=\"#2018-01-23\" class=\"headerlink\" title=\"2018-01-23\"></a>2018-01-23</h1><h2 id=\"104\"><a href=\"#104\" class=\"headerlink\" title=\"104\"></a>104</h2><p>ok? ready?<br>Iâ€™m readyâ€¦<br>1-1-6-8.<br>you know what?<br><strong>How about</strong> a little phone number <del>with them</del> <strong>rhythm</strong>, you know <strong>a</strong> little bangbangbangâ€¦<br><del>you</del> got it?<br>i got it.<br>ok.<br>1 six teen<br><del>are you really</del><strong>I already</strong> dial<strong>ed a</strong> <del>the</del> 6?<br>I canâ€™t <del>come</del> <strong>go</strong> back in time. <del>itâ€™s</del> <del>sleep</del> <strong>and slip a</strong> 1 in.</p>\n<h2 id=\"103\"><a href=\"#103\" class=\"headerlink\" title=\"103\"></a>103</h2><p>If people <del>feel â€¦</del> <strong>fail a test</strong> <del>he</del> <strong>you</strong> can do <del>the</del> two things, you can make the people smarter, or you can make the test easier.</p>\n<h2 id=\"102\"><a href=\"#102\" class=\"headerlink\" title=\"102\"></a>102</h2><p>Thatâ€™s <del>why</del> <strong>right</strong> this weekend is earth day, <del>natural</del> <strong>Not your</strong> birthday day, donâ€™t get it twisted. Earth day.</p>\n<h1 id=\"2018-01-22\"><a href=\"#2018-01-22\" class=\"headerlink\" title=\"2018-01-22\"></a>2018-01-22</h1><h2 id=\"101\"><a href=\"#101\" class=\"headerlink\" title=\"101\"></a>101</h2><p>why not be <del>fake</del> <strong>safe</strong>.<br>Why take a chance?</p>\n<p>// Letâ€™s be safe.<br>// Letâ€™s not take a chance.<br>// take a chance: å†’é™©ï¼Œç¢°è¿æ°”<br>//ç®€å•çš„è¿˜æ˜¯é”™äº†ã€‚ğŸ˜©</p>\n<h2 id=\"100\"><a href=\"#100\" class=\"headerlink\" title=\"100\"></a>100</h2><p>Whether you<strong>â€˜re</strong> new to the world <strong>of</strong> the paddling or <del>the</del> <strong>a</strong> season<strong>ed veteran</strong> <del>badâ€¦</del>, <strong>youâ€™re sure to</strong> <del>should</del> find <del>a</del> <strong>this</strong> video <strong>paddling</strong> guide<strong>book</strong> helpful <del>their</del> <strong>in your</strong> <del>re</del>quest to find new <strong>and</strong> exciting <del>world in school</del> <strong>rivers to explore</strong>.</p>\n<p>//seasoned veteran: ç»éªŒä¸°å¯Œçš„è€å°†</p>\n<h2 id=\"99\"><a href=\"#99\" class=\"headerlink\" title=\"99\"></a>99</h2><p>Itâ€™s <del>the</del> only <del>mideo compubal</del> <strong>the mediocre pupil who does not surpass his master, Lenardo</strong> writes. <strong>And legend has it,</strong> that <del>has hats</del> <strong>Verrocchio</strong>, after seeing <strong>Leonardoâ€™s angle</strong>, never <strong>painted</strong> again.</p>\n<p>// ğŸ˜­<br>// mediocre: not very good. æ™®é€šçš„ï¼Œå¹³å¸¸çš„<br>// pupil: student<br>// master: teacher</p>\n<h1 id=\"2018-01-21\"><a href=\"#2018-01-21\" class=\"headerlink\" title=\"2018-01-21\"></a>2018-01-21</h1><h2 id=\"98\"><a href=\"#98\" class=\"headerlink\" title=\"98\"></a>98</h2><p>The cheetah excels at <del>the celeration</del> <strong>acceleration</strong>, itâ€™s the sports car <strong>of the</strong> <del>survana</del> <strong>savannah</strong>.</p>\n<h2 id=\"97\"><a href=\"#97\" class=\"headerlink\" title=\"97\"></a>97</h2><p><del>These are</del> <strong>We were</strong> supposed to <del>meant</del> <strong>meet</strong> today, but i miss<strong>ed</strong> <del>the</del> <strong>our</strong> appointment. sorry.</p>\n<h2 id=\"96\"><a href=\"#96\" class=\"headerlink\" title=\"96\"></a>96</h2><p>Hey. Do you got anything to eat?<br>yes. Try <del>this</del> <strong>these</strong>.<br>I am not eating <del>this</del> <strong>that kid</strong> stuff.<br>just try <del>it</del> <strong>them</strong>.</p>\n<h1 id=\"2018-01-20\"><a href=\"#2018-01-20\" class=\"headerlink\" title=\"2018-01-20\"></a>2018-01-20</h1><h2 id=\"95\"><a href=\"#95\" class=\"headerlink\" title=\"95\"></a>95</h2><p>Hello<br>Oh gee,  i canâ€™t talk right now. why donâ€™t you give me your <del>phone</del> <strong>home</strong> number and iâ€™ll call you later.<br>Oh i guess you donâ€™t want people <del>to call</del> <strong>calling</strong> <del>your</del> <strong>you at</strong> home<br>well <del>then</del> <strong>now you know</strong> how i feel</p>\n<h2 id=\"94\"><a href=\"#94\" class=\"headerlink\" title=\"94\"></a>94</h2><p>It takes a lot of work. You have to work every day on it. And then thatâ€™s not <del>the</del> <strong>a</strong> downside. <del>They wasnâ€™t</del> <strong>There isnâ€™t a</strong> <del>the</del>  downside. Really.</p>\n<p>//downside: negative aspect</p>\n<h2 id=\"93\"><a href=\"#93\" class=\"headerlink\" title=\"93\"></a>93</h2><p>I had <del>a space outsides</del> <strong>it in spades on both sides.</strong> It <del>can</del> <strong>came</strong> really <del>nature</del> <strong>natural</strong> to me.</p>\n<p>// spades: â™ ï¸é»‘æ¡ƒ<br>// in spades: è‚¯å®šåœ°ï¼Œå¦ç‡åœ°</p>\n<h1 id=\"2018-01-18\"><a href=\"#2018-01-18\" class=\"headerlink\" title=\"2018-01-18\"></a>2018-01-18</h1><h2 id=\"92\"><a href=\"#92\" class=\"headerlink\" title=\"92\"></a>92</h2><p>The point is <del>that</del> you should <del>go</del> <strong>get</strong> to know <del>this</del> <strong>a</strong> person first then judge <del>that</del> <strong>them</strong>, you should never judge a book by its cover, judge it by <del>its another</del> <strong>the amount of</strong> pagesã€‚</p>\n<h2 id=\"91\"><a href=\"#91\" class=\"headerlink\" title=\"91\"></a>91</h2><p><del>not</del> <strong>My</strong> bad<br><strong>Tell me you have good</strong> <del>have you got a</del> insurance<br>yes i<strong>â€˜ve</strong> got <del>opstic</del> <strong>â€œAllstateâ€</strong><br>good<br>really</p>\n<p>//My bad; My fault.</p>\n<h2 id=\"90\"><a href=\"#90\" class=\"headerlink\" title=\"90\"></a>90</h2><p>1896, The first <del>model</del> <strong>modern</strong> Olympic games <del>opening happened</del> <strong>open</strong> in <strong>Athens</strong> Greece â€“<br><del>landed</del> <strong>land of</strong> the <del>18</del> <strong>ancient</strong> games <del>but actually about</del> <strong>with athletes from</strong> 14 countries.</p>\n<p>// 14 ä¸Šå‡è°ƒ T<br>// 40 ä¸‹é™è°ƒ d</p>\n<h1 id=\"2018-01-17\"><a href=\"#2018-01-17\" class=\"headerlink\" title=\"2018-01-17\"></a>2018-01-17</h1><h2 id=\"87\"><a href=\"#87\" class=\"headerlink\" title=\"87\"></a>87</h2><p>Go ahead.<br>yeah. sure. There areâ€¦ focus on â€¦ googleâ€¦</p>\n<p>// April fool â€¦..<br>// pronunciation tips: (cancellation matrix)<br>// å¼ºéŸ³(S N L)æ¶ˆç­å¼±éŸ³(d t th)ã€‚<br>// in the car : in nuh car<br>// in a car: i nuh car<br>// you and I : you an I</p>\n<h2 id=\"88\"><a href=\"#88\" class=\"headerlink\" title=\"88\"></a>88</h2><p>These are not the <del>things</del> <strong>dunes</strong> <del>in</del> <strong>of the</strong> Sahara. In fact they are found <del>based on</del> <strong>beyond</strong> the <del>sql and the</del> <strong>Arctic Circle in the permafrost</strong> of Russisaâ€™s <del>warf</del> <strong>north</strong>. </p>\n<p>// dune: a wave in desert like in the ocean. æ²™ä¸˜<br>//Arctic Circle: åŒ—æåœˆ<br>// permafrost: æ°¸ä¹…å†»åœŸ<br>// permanent â€“ always, forever<br>// frost: éœœ</p>\n<h2 id=\"89\"><a href=\"#89\" class=\"headerlink\" title=\"89\"></a>89</h2><p>April 4 <del>they will do</del> <strong>The day to</strong> show the <del>passion</del> <strong>compassion, care</strong> and act <strong>for</strong> stray animals all around the world.<br>//stray: èµ°å¤±ï¼Œè¿·è·¯ï¼Œæµæµª</p>\n<h1 id=\"2018-01-16\"><a href=\"#2018-01-16\" class=\"headerlink\" title=\"2018-01-16\"></a>2018-01-16</h1><h2 id=\"84\"><a href=\"#84\" class=\"headerlink\" title=\"84\"></a>84</h2><p>Trying <del>and have</del> <strong>having the intention</strong> attention to fail, <del>the other script that</del> <strong>you gotta scrap the</strong> word and <strong>from your</strong> vocabulary say <del>it and</del> <strong>youâ€™re gonna</strong> do it and you will.</p>\n<h2 id=\"85\"><a href=\"#85\" class=\"headerlink\" title=\"85\"></a>85</h2><p><strong>Well that</strong> I think <del>itâ€™s</del> <strong>is the</strong> real <del>quite a</del> <strong>crux of this issue</strong>.<br>// Crux: ç—‡ç»“ï¼Œå…³é”® key pointã€‚The most important thing.<br>// e.g. The crux of the matter.</p>\n<h2 id=\"86\"><a href=\"#86\" class=\"headerlink\" title=\"86\"></a>86</h2><p>look <del>at</del> imagination <del>fees exportation</del> <strong>feeds exploration</strong> , you have to image the possible before you can <del>gonna</del> <strong>go and</strong> do it.</p>\n","categories":["è‹±è¯­"],"tags":["Daily Dictation","English"]},{"title":"æ—¶æ€","url":"http://yoursite.com/2018/01/23/tense-note/","content":"<p>æ—¶é—´åˆ†ä¸ºä¸‰æ—¶</p>\n<ol>\n<li>ç°åœ¨ present</li>\n<li>è¿‡å» past</li>\n<li>å°†æ¥ future</li>\n</ol>\n<p>è¡¨ç¤ºå¸¸æ€æ—¶ï¼Œéƒ½ç”¨ç°åœ¨æ—¶ã€‚</p>\n<h1 id=\"è°“è¯­åŠ¨è¯çš„çŠ¶æ€\"><a href=\"#è°“è¯­åŠ¨è¯çš„çŠ¶æ€\" class=\"headerlink\" title=\"è°“è¯­åŠ¨è¯çš„çŠ¶æ€\"></a>è°“è¯­åŠ¨è¯çš„çŠ¶æ€</h1><ol>\n<li>ä¸€èˆ¬simpleã€‚å¼ºè°ƒåŠ¨ä½œå‘ç”Ÿçš„æ—¶é—´ï¼Œè€ŒéçŠ¶æ€<br>I play basketball.</li>\n<li>è¿›è¡Œcontinuousã€‚å¼ºè°ƒåŠ¨ä½œçš„è¿‡ç¨‹ï¼ˆæç»˜ï¼Œç”ŸåŠ¨ï¼‰<br>I am playing basketball.<br>be(am/was/will) + ç°åœ¨åˆ†æ—¶</li>\n<li>å®Œæˆperfectã€‚å¼ºè°ƒåŠ¨ä½œçš„ç»“æœ<br>I have played basketball.<br>have(had/will have) + è¿‡å»åˆ†è¯</li>\n<li>å®Œæˆ<strong>è¿›è¡Œ</strong>perfect continuousã€‚å¼ºè°ƒåŠ¨ä½œçš„ç»“æœå’Œè¿‡ç¨‹<br>I have been playing basketball.<br>have(had/will have) been + ç°åœ¨åˆ†è¯</li>\n</ol>\n<h2 id=\"ä¸€èˆ¬ç°åœ¨æ—¶\"><a href=\"#ä¸€èˆ¬ç°åœ¨æ—¶\" class=\"headerlink\" title=\"ä¸€èˆ¬ç°åœ¨æ—¶\"></a>ä¸€èˆ¬ç°åœ¨æ—¶</h2><p>è¡¨ç¤ºäº‹ç‰©ç°åœ¨çš„æƒ…å†µæˆ–çŠ¶æ€ï¼ˆä¸»ç³»è¡¨å¥å‹ï¼‰<br>You are a doctor.<br>è¡¨ç¤ºç»å¸¸æ€§ã€ä¹ æƒ¯æ€§åŠ¨ä½œï¼ˆä¸€èˆ¬ä¼šæœ‰æ—¶é—´å‰¯è¯ä¿®é¥°ï¼‰<br>I never get up early on Sunday.<br>å¸¸ä½¿ç”¨è¡¨ç¤ºé¢‘ç‡çš„å‰¯è¯ï¼ˆnever, often, alwaysï¼‰<br>è¡¨ç¤ºå®¢è§‚çœŸç†ã€æ ¼è¨€<br>Time flies.</p>\n<h2 id=\"ä¸€èˆ¬è¿‡å»æ—¶\"><a href=\"#ä¸€èˆ¬è¿‡å»æ—¶\" class=\"headerlink\" title=\"ä¸€èˆ¬è¿‡å»æ—¶\"></a>ä¸€èˆ¬è¿‡å»æ—¶</h2><p>è¡¨ç¤ºè¿‡å»çš„åŠ¨ä½œã€ä¹ æƒ¯ã€äº‹å®<br>Last summer, I went to Italy.<br>å¸¸ä½¿ç”¨è¿‡å»å…·ä½“æ—¶é—´çš„å‰¯è¯ï¼ˆyesterday, last week, in 1998ï¼‰</p>\n<h2 id=\"ä¸€èˆ¬å°†æ¥æ—¶\"><a href=\"#ä¸€èˆ¬å°†æ¥æ—¶\" class=\"headerlink\" title=\"ä¸€èˆ¬å°†æ¥æ—¶\"></a>ä¸€èˆ¬å°†æ¥æ—¶</h2><p>è¡¨ç¤ºå°†æ¥å‘ç”Ÿçš„åŠ¨ä½œæˆ–çŠ¶æ€æˆ–å€¾å‘<br>He will soon visit China.</p>\n<p>be going to + åŠ¨è¯åŸå‹ï¼Œè¡¨ç¤ºå°†æ¥æ—¶ï¼Œå¤šè¡¨ç¤ºâ€œè®¡åˆ’â€</p>\n<p>will è¡¨ç¤ºæ„æ„¿æ—¶ï¼Œä¸»è¯­ä¸ºäººã€‚</p>\n<h2 id=\"Practice\"><a href=\"#Practice\" class=\"headerlink\" title=\"Practice\"></a>Practice</h2><ol>\n<li>This convenience store is open 24 hours a day.(ä¸»ç³»è¡¨)</li>\n<li>My grandpa takes a walk in park every morning. (ä¸»è°“å®¾)</li>\n<li>I felt bored, so I went to the movies with my friends yesterday.</li>\n<li>He is going to New York tomorrow.</li>\n<li>Look! That boat is about to sink.</li>\n<li>We are going to have lunch soon.</li>\n<li>The sun rises in the east and sets in the west.</li>\n<li>I go to the gym twice a week.</li>\n<li>I saw him in the library yesterday.</li>\n<li>I am going to learn the computer science.</li>\n</ol>\n<h2 id=\"ç°åœ¨è¿›è¡Œæ—¶\"><a href=\"#ç°åœ¨è¿›è¡Œæ—¶\" class=\"headerlink\" title=\"ç°åœ¨è¿›è¡Œæ—¶\"></a>ç°åœ¨è¿›è¡Œæ—¶</h2><p>å¼ºè°ƒæ­¤æ—¶æ­¤åˆ»çš„çŠ¶æ€<br>è¡¨ç¤ºå³å°†å‘ç”Ÿçš„åŠ¨ä½œï¼ˆcome,go,arrive,leave,start,begin,return,die,takeï¼‰beè¡¨ç¤ºå³å°†</p>\n<h2 id=\"è¿‡å»è¿›è¡Œ\"><a href=\"#è¿‡å»è¿›è¡Œ\" class=\"headerlink\" title=\"è¿‡å»è¿›è¡Œ\"></a>è¿‡å»è¿›è¡Œ</h2><p>è¿‡å»æŸæ—¶æ­£åœ¨è¿›è¡Œ</p>\n<h2 id=\"å°†æ¥è¿›è¡Œ\"><a href=\"#å°†æ¥è¿›è¡Œ\" class=\"headerlink\" title=\"å°†æ¥è¿›è¡Œ\"></a>å°†æ¥è¿›è¡Œ</h2><p>è¿›è¡Œæ—¶æ€å¼ºè°ƒå¯¹åŠ¨ä½œæœ¬èº«çš„æå†™</p>\n<h1 id=\"å®Œæˆæ€\"><a href=\"#å®Œæˆæ€\" class=\"headerlink\" title=\"å®Œæˆæ€\"></a>å®Œæˆæ€</h1><p>å¼ºè°ƒåŠ¨ä½œçš„ç»“æœ</p>\n<h2 id=\"ç°åœ¨å®Œæˆæ—¶\"><a href=\"#ç°åœ¨å®Œæˆæ—¶\" class=\"headerlink\" title=\"ç°åœ¨å®Œæˆæ—¶\"></a>ç°åœ¨å®Œæˆæ—¶</h2><p>è¡¨ç¤ºåˆ°ç°åœ¨ä¸ºæ­¢å·²ç»å®Œæˆçš„åŠ¨ä½œ<br>He has gone to Shanghai.</p>\n<p>â€¦æœªå®Œå¾…ç»­</p>\n","categories":["è‹±è¯­"],"tags":["Daily Dictation","English"]},{"title":"äº”å¤§åŠ¨è¯äº”å¤§å¥å‹","url":"http://yoursite.com/2018/01/18/grammar/","content":"<h1 id=\"ç³»åŠ¨è¯-ä¸»ç³»è¡¨å¥å‹\"><a href=\"#ç³»åŠ¨è¯-ä¸»ç³»è¡¨å¥å‹\" class=\"headerlink\" title=\"ç³»åŠ¨è¯ ä¸»ç³»è¡¨å¥å‹\"></a>ç³»åŠ¨è¯ ä¸»ç³»è¡¨å¥å‹</h1><h2 id=\"ç³»åŠ¨è¯ï¼š\"><a href=\"#ç³»åŠ¨è¯ï¼š\" class=\"headerlink\" title=\"ç³»åŠ¨è¯ï¼š\"></a>ç³»åŠ¨è¯ï¼š</h2><ul>\n<li>åœ¨å¥å­ä¸­ä½œä¸ºè°“è¯­ï¼Œæ²¡æœ‰å®é™…æ„æ€ã€‚</li>\n<li>è¡¨è¾¾ä¸»è¯­æ€§è´¨</li>\n<li>æ˜¯å¦å¯ä»¥ç”¨â€œæ˜¯ï¼Œä¸ºâ€æ¥ç¿»è¯‘.<h2 id=\"ç³»åŠ¨è¯åˆ†ç±»\"><a href=\"#ç³»åŠ¨è¯åˆ†ç±»\" class=\"headerlink\" title=\"ç³»åŠ¨è¯åˆ†ç±»\"></a>ç³»åŠ¨è¯åˆ†ç±»</h2><h3 id=\"be-åŠ¨è¯-ï¼ˆam-is-areï¼‰\"><a href=\"#be-åŠ¨è¯-ï¼ˆam-is-areï¼‰\" class=\"headerlink\" title=\"be åŠ¨è¯ ï¼ˆam, is, areï¼‰\"></a>be åŠ¨è¯ ï¼ˆam, is, areï¼‰</h3>beåŠ¨è¯åæœ‰ä¸‰å¤§è¡¨è¯­ï¼š </li>\n<li>åè¯ <code>I am a girl.</code>ï¼›</li>\n<li>å½¢å®¹è¯ <code>The play was very interesting.</code>ï¼›  (ä»‹è¯çŸ­è¯­å¯ä»¥ä½œä¸ºå½¢å®¹è¯ï¼š <code>The milk is in the refrigerator.</code>)ï¼›</li>\n<li><strong>åœ°ç‚¹</strong>å‰¯è¯ <code>My bedroom is downstairs.</code><h3 id=\"çŠ¶æ€ä¿æŒåŠ¨è¯-ï¼ˆkeep-remain-stayï¼‰\"><a href=\"#çŠ¶æ€ä¿æŒåŠ¨è¯-ï¼ˆkeep-remain-stayï¼‰\" class=\"headerlink\" title=\"çŠ¶æ€ä¿æŒåŠ¨è¯ ï¼ˆkeep, remain, stayï¼‰\"></a>çŠ¶æ€ä¿æŒåŠ¨è¯ ï¼ˆkeep, remain, stayï¼‰</h3>åé¢åªèƒ½åŠ <strong>å½¢å®¹è¯</strong>åšè¡¨è¯­ï¼Œå’Œbeæ— ç¼åˆ‡æ¢ã€‚<br><code>You should keep quiet!</code> or <code>You should be quiet!</code><br><code>No one can remain youthful forever.</code><br><code>The weather stayed fine for a week.</code><h3 id=\"çŠ¶æ€è½¬å˜åŠ¨è¯\"><a href=\"#çŠ¶æ€è½¬å˜åŠ¨è¯\" class=\"headerlink\" title=\"çŠ¶æ€è½¬å˜åŠ¨è¯\"></a>çŠ¶æ€è½¬å˜åŠ¨è¯</h3></li>\n<li>become å˜æˆ+åè¯ã€‚ å˜å¾—+å½¢å®¹è¯ã€‚<br><code>He became a teacher.</code><br><code>He became very nervous.</code></li>\n<li>get å˜å¾—+å½¢å®¹è¯<br><code>He got very angry.</code></li>\n<li>go èµ°ï¼Œå»ï¼Œå˜å<br><code>The meat always goes bad in summer.</code></li>\n<li>come æ¥ï¼Œå˜å¥½<br><code>Thing will come right.</code></li>\n<li>grow æ…¢æ…¢å˜åŒ–<br><code>The weather grew cold in the night.</code></li>\n<li>turn å¿«é€Ÿå˜åŒ–<br><code>His face turned pale.</code><h3 id=\"æ„Ÿå®˜åŠ¨è¯-ï¼ˆlook-sound-smell-taste-feelï¼‰\"><a href=\"#æ„Ÿå®˜åŠ¨è¯-ï¼ˆlook-sound-smell-taste-feelï¼‰\" class=\"headerlink\" title=\"æ„Ÿå®˜åŠ¨è¯ ï¼ˆlook, sound, smell, taste, feelï¼‰\"></a>æ„Ÿå®˜åŠ¨è¯ ï¼ˆlook, sound, smell, taste, feelï¼‰</h3>åé¢æ¥<strong>å½¢å®¹è¯</strong>ä½œè¡¨è¯­ã€‚<br><code>He looked very angry.</code><br>å¦‚æœåé¢è¦åŠ åè¯ï¼Œæ„Ÿå®˜åŠ¨è¯+<strong>ä»‹è¯like</strong>+åè¯<br><code>The sun looks like an orange global.</code></li>\n</ul>\n<h2 id=\"Practice\"><a href=\"#Practice\" class=\"headerlink\" title=\"Practice\"></a>Practice</h2><p>Everything is in good order.<br>My house is here.<br>This car looks good.<br>Meat tastes like chicken.<br>You should keep calm during an earthquake.<br>Mike became a professional basketball player last year.<br>Weather has turned cold and windy.</p>\n<h1 id=\"ä¸åŠç‰©åŠ¨è¯-ä¸»è°“\"><a href=\"#ä¸åŠç‰©åŠ¨è¯-ä¸»è°“\" class=\"headerlink\" title=\"ä¸åŠç‰©åŠ¨è¯- ä¸»è°“\"></a>ä¸åŠç‰©åŠ¨è¯- ä¸»è°“</h1><p>ä¸åŠç‰©åŠ¨è¯ viã€‚ä¸éœ€è¦åŠ å®¾è¯­å°±å¯ä»¥æ„æˆå®Œæ•´çš„å¥å­ã€‚<br>å¦‚ä½•åˆ¤æ–­åŠç‰©è¿˜æ˜¯ä¸åŠç‰©ã€‚åœ¨åŠ¨è¯å‰é¢åŠ â€œè¢«â€ã€‚<br>æ­£å¸¸â€“åŠç‰©åŠ¨è¯ï¼ˆè¢«æ‰“ï¼Œè¢«å¤„ç½šï¼‰<br>ä¸æ­£å¸¸â€“ä¸åŠç‰©åŠ¨è¯ï¼ˆè¢«è·³èˆï¼Œè¢«åšæ¢¦ï¼‰<br>ä¸€èˆ¬åé¢éƒ½ä¼šåŠ çŠ¶è¯­ã€‚</p>\n<h2 id=\"Practice-1\"><a href=\"#Practice-1\" class=\"headerlink\" title=\"Practice\"></a>Practice</h2><p>The birds sing happily.<br>The rain will stop in the afternoon.<br>The children are playing in the park.<br>My teacher passed away in the hospital yesterday.</p>\n<h1 id=\"åŠç‰©åŠ¨è¯â€“ä¸»è°“å®¾\"><a href=\"#åŠç‰©åŠ¨è¯â€“ä¸»è°“å®¾\" class=\"headerlink\" title=\"åŠç‰©åŠ¨è¯â€“ä¸»è°“å®¾\"></a>åŠç‰©åŠ¨è¯â€“ä¸»è°“å®¾</h1><p>åŠç‰©åŠ¨è¯ vt<br><code>The bird covered the distance.</code><br><code>This plane carry 7 passengers</code></p>\n<h2 id=\"Practice-2\"><a href=\"#Practice-2\" class=\"headerlink\" title=\"Practice\"></a>Practice</h2><p>The teacher put up some pictures on the wall in the classroom.<br>You should respect the old in public places.<br>He began his diet a week ago.<br>He set up a new world record in 1935.9.<br>Only very few people can realize their dreams. </p>\n<h1 id=\"ä¸å®Œå…¨åŠç‰©åŠ¨è¯-â€“-ä¸»è°“å®¾å®¾è¡¥\"><a href=\"#ä¸å®Œå…¨åŠç‰©åŠ¨è¯-â€“-ä¸»è°“å®¾å®¾è¡¥\" class=\"headerlink\" title=\"ä¸å®Œå…¨åŠç‰©åŠ¨è¯ â€“ ä¸»è°“å®¾å®¾è¡¥\"></a>ä¸å®Œå…¨åŠç‰©åŠ¨è¯ â€“ ä¸»è°“å®¾å®¾è¡¥</h1><p>ä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼ŒåŠ äº†å®¾è¯­åæ„æ€ä»ä¸å®Œæ•´ï¼Œè¿˜éœ€è¦åŠ ä¸Šè¡¥è¯­ã€‚<br>è¡¥è¯­ï¼šè¡¥å……è¯´æ˜å®¾è¯­çš„åŠ¨ä½œæˆ–çŠ¶æ€ã€‚<br>ä¸€èˆ¬æ˜¯ä½¿å½¹åŠ¨è¯ã€‚ï¼ˆmake,have,let,getï¼‰<br>ä½¿â€¦â€¦åšâ€¦â€¦ </p>\n<h2 id=\"å¥å‹\"><a href=\"#å¥å‹\" class=\"headerlink\" title=\"å¥å‹\"></a>å¥å‹</h2><p>make/have/let + å®¾è¯­ + åŠ¨è¯åŸå½¢ï¼ˆè¡¥è¯­ï¼‰<br>get + å®¾è¯­ + åŠ¨è¯ä¸å®šå¼ ï¼ˆè¡¥è¯­ï¼‰<br><code>I made him wash the car.</code><br><code>I got him to wash the car</code><br>å®¾è¯­å’Œè¡¥è¯­å¯ä»¥ç»„æˆä¸€ä¸ªå®Œæ•´çš„å¥å­ã€‚<br><code>he wash the car</code></p>\n<h2 id=\"Practice-3\"><a href=\"#Practice-3\" class=\"headerlink\" title=\"Practice\"></a>Practice</h2><p>The hot weather made me feel lethargic.</p>\n<h1 id=\"æˆäºˆåŠ¨è¯â€“ä¸»è°“åŒå®¾\"><a href=\"#æˆäºˆåŠ¨è¯â€“ä¸»è°“åŒå®¾\" class=\"headerlink\" title=\"æˆäºˆåŠ¨è¯â€“ä¸»è°“åŒå®¾\"></a>æˆäºˆåŠ¨è¯â€“ä¸»è°“åŒå®¾</h1><p>give, send, tell, teach, pay, show, offer<br><code>I send him a book</code><br>åŒå®¾ï¼š himï¼Œ book<br><code>The scientist told us many stories.</code><br>åŒå®¾ï¼š us, stories</p>\n<h1 id=\"ä¸»è°“å®¾å®¾è¡¥-vs-ä¸»è°“åŒå®¾\"><a href=\"#ä¸»è°“å®¾å®¾è¡¥-vs-ä¸»è°“åŒå®¾\" class=\"headerlink\" title=\"ä¸»è°“å®¾å®¾è¡¥ vs ä¸»è°“åŒå®¾\"></a>ä¸»è°“å®¾å®¾è¡¥ vs ä¸»è°“åŒå®¾</h1><p>å¦‚æœè°“è¯­çš„åŠ¨ä½œï¼Œä½œç”¨äºä¸¤ä¸ªä¸åŒåè¯ï¼Œå³ä¸¤ä¸ªå®¾è¯­ï¼Œåˆ™æ˜¯ä¸»è°“åŒå®¾çš„å¥å‹ã€‚<br>ä¸»è°“å®¾è¡¥ï¼Œè¡¥è¯­æ˜¯å®¾è¯­çš„åŠ¨ä½œæˆ–çŠ¶æ€ã€‚</p>\n<h2 id=\"Practice-4\"><a href=\"#Practice-4\" class=\"headerlink\" title=\"Practice\"></a>Practice</h2><p>He gave his girlfriend a bunch of flowers in Valentineâ€™s day.<br>He gave a bunch of flowers to his girlfriend in Valentineâ€™s day<br>Please send me a receipt for the money.<br>He told me some magical stories about English teacher.</p>\n<h1 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h1><ul>\n<li><p>å¤šä¸ªæ—¶é—´çŠ¶è¯­æˆ–åœ°ç‚¹çŠ¶è¯­ï¼Œä»å°åˆ°å¤§çš„é¡ºåº<br><code>We landed in China at 8:00 am on June 15th, 2012.</code><br><code>We live at number 35, South Renmin Road, Chengdu.</code></p>\n</li>\n<li><p>å¤šç§çŠ¶è¯­çš„é¡ºåºï¼š æ–¹å¼â€“åœ°ç‚¹â€“æ—¶é—´<br><code>He put his milk bottles carefully on the doorstep every morning.</code></p>\n</li>\n</ul>\n","categories":["è‹±è¯­"],"tags":["Daily Dictation","English"]},{"title":"GraphQLç¬”è®°","url":"http://yoursite.com/2018/01/14/GraphQL-note/","content":"<h1 id=\"What-is-GraphQL\"><a href=\"#What-is-GraphQL\" class=\"headerlink\" title=\"What is GraphQL\"></a>What is GraphQL</h1><blockquote>\n<p>new API standard.<br>enables declaratative data fetching<br>ç®€å•æ¥è¯´ï¼ŒGraphQLæ˜¯ç”¨äºAPIçš„æŸ¥è¯¢è¯­è¨€ï¼Œä¸RESTFulä¸€æ ·ï¼Œæ˜¯ä¸€ç§æŸ¥è¯¢è§„èŒƒã€‚</p>\n</blockquote>\n<h1 id=\"GraphQL-vs-REST\"><a href=\"#GraphQL-vs-REST\" class=\"headerlink\" title=\"GraphQL vs REST\"></a>GraphQL vs REST</h1><p>åœ¨æ¼«é•¿çš„å²æœˆä¸­ï¼ŒRESTå·²ç»æˆä¸ºäº†WEB APIè®¾è®¡æ ‡å‡†äº†ã€‚å®ƒæä¾›äº†ä¸€äº› <code>stateless servers</code>å’Œ<code>structured access to resources</code>çš„å¥½çš„æƒ³æ³•ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ç€ä»¥ä¸‹è¿™äº›é—®é¢˜ï¼š</p>\n<ol>\n<li>æ¥å£çµæ´»æ€§å·®ã€‚è¿”å›çš„æ•°æ®å¯èƒ½æ˜¯æ— ç”¨æˆ–è€…å¤šä½™çš„ï¼›æˆ–è€…ä¸€ä»½æ•°æ®éœ€è¦è°ƒç”¨å¤šä¸ªæ¥å£æ‰èƒ½æ‹¿åˆ°ã€‚</li>\n<li>æ“ä½œæµç¨‹ç¹çã€‚å…ˆæ„é€ HTTPï¼Œå†è¿›è¡Œæ¥å—ï¼Œè§£æç­‰ç­‰</li>\n<li>å½“åŠŸèƒ½éœ€è¦æ‹“å±•çš„æ—¶å€™ï¼Œä¹Ÿæ„å‘³ç€éœ€è¦å¢åŠ æ–°çš„æ¥å£ã€‚</li>\n</ol>\n<p>GraphQLæ˜¯å£°æ˜å¼æ•°æ®è·å–ã€‚</p>\n<ol>\n<li>æ›´èƒ½é€‚åº”ä¸åŒçš„å‰ç«¯æ¡†æ¶ä»¥åŠå®¢æˆ·ç«¯å¹³å°</li>\n<li>æ›´å¿«çš„å¼€å‘é€Ÿåº¦</li>\n<li>å¯ç”¨äºä»»æ„è¯­è¨€ã€ä»»æ„å¹³å°</li>\n</ol>\n<p>ä½†GraphQLä¹Ÿé¢ä¸´ç€ä¸€äº›å®‰å…¨é—®é¢˜ï¼š</p>\n<ol>\n<li>å› ä¸ºä¸€æ¬¡æŸ¥è¯¢å¯ä»¥åŒ…å«å¾ˆå¤šæ•°æ®æ“ä½œï¼Œå½“æ•°æ®æ“ä½œè¿‡å¤šæ—¶ï¼Œä¹Ÿä¼šé€ æˆè¿‡å¤§çš„æŸ¥è¯¢å‹åŠ›ã€‚</li>\n<li>æŸ¥è¯¢æ ¼å¼ä¼šæš´éœ²APIçš„ç»“æ„ï¼Œä½†å¯ä»¥é€šè¿‡æŒä¹…åŒ–æŸ¥è¯¢æ“ä½œæ¥è§£å†³ï¼Œå…·ä½“å¯è§ï¼š<a href=\"https://medium.com/m/global-identity?redirectUrl=https://dev-blog.apollodata.com/persisted-graphql-queries-with-apollo-client-119fd7e6bba5\" target=\"_blank\" rel=\"noopener\">æŒä¹…åŒ–æŸ¥è¯¢</a></li>\n</ol>\n<p>â€¦å¾…ç»­</p>\n","categories":["å‰ç«¯å¼€å‘"],"tags":["GraphQL","What do I learn"]},{"title":"å³å°†å…¥èŒ6ä¸ªæœˆçš„ç¢ç¢å¿µ","url":"http://yoursite.com/2017/12/10/work-dairy/","content":"<p>å¾ˆæµ®èºã€‚</p>\n<p>çŸ¥é“è‡ªå·±æ¬ ç¼ºçš„å¾ˆå¤šï¼Œä½†æ˜¯å¥½åƒå› ä¸ºéƒ½æƒ³å­¦ä¹ ï¼Œåè€Œä¸çŸ¥ä»è€Œä¸‹æ‰‹ã€‚ä¸‰å¿ƒäºŒæ„ï¼Œä¸€ä¼šæƒ³ç€Angularä¸€ä¼šæƒ³ç€Businessï¼Œä¸€ä¼šåˆæƒ³ç€è¿˜æ˜¯çœ‹çœ‹åŸºç¡€ï¼Œçœ‹çœ‹è‹±è¯­ã€‚æœ€åä»€ä¹ˆéƒ½æ²¡åšã€‚</p>\n<p>å¾ˆå¿«å°±è¿‡è¯•ç”¨æœŸäº†ã€‚ä»7æœˆåˆ°12æœˆï¼Œæ—¶é—´å¾ˆå¿«ã€‚è¿˜æ˜¯æ€»ç»“ä¸€ä¸‹è‡ªå·±åšäº†ä»€ä¹ˆï¼Œå­¦äº†ä»€ä¹ˆå§ã€‚</p>\n<ul>\n<li>å•å…ƒæµ‹è¯•ä¹‹æ•°æ®åº“schema Auto-migration to H2ã€‚è™½ç„¶åŠŸèƒ½å¾ˆç®€å•ï¼Œä½†å½“åˆç¡®å®èŠ±äº†å¾ˆå¤šç²¾åŠ›å•Šï¼Œä»¥åŠè¿˜æœ‰å¾ˆå¤šéœ€è¦æ”¹è¿›çš„éƒ¨åˆ†ï¼Œå¸Œæœ›ä¹‹åå¯ä»¥ç»§ç»­å®Œå–„ğŸ™ˆ</li>\n<li>angularjs ä¹‹åœ¨Dealé¡µé¢æ–°å¢å­—æ®µpost deal follow upï¼Œäº†è§£é¡¹ç›®çš„æ•´ä½“é€»è¾‘ã€‚ä¸­é€”è¿˜å› ä¸ºBAæ”¹éœ€æ±‚ï¼Œåˆ é™¤äº†å¥½å¤šä»£ç ï¼Œä¸è¿‡ç¬¬ä¸€æ¬¡æŠŠè‡ªå·±å†™çš„ä»£ç mergeåˆ°developåˆ†æ”¯ï¼Œå¹¶ä¸”release ä¸Šçº¿ï¼ŒçœŸçš„å¾ˆå¼€å¿ƒå‘â˜ºï¸</li>\n<li>æ–°å¢å­—æ®µFinancial Advisorï¼Œå‰åç«¯æ•´ä½“å®ç°ï¼Œä»DDLåˆ°åå°DAOï¼Œä»Serviceåˆ°Controllerï¼Œä»Angularjsåˆ°Select2ï¼Œäº†è§£RFPéƒ¨åˆ†çš„æ•´ä½“é€»è¾‘ï¼Œå¹¶ä¸”ç†Ÿæ‚‰å‘å¸ƒDDLçš„æµç¨‹ï¼Œéƒ¨ç½²é¡¹ç›®çš„æµç¨‹ã€‚è™½ç„¶å‡ºç°äº†ä¸€ä¸ªå¾ˆä¸¥é‡çš„Easy-to-find bugï¼Œä¹Ÿæ˜¯ä¸ºæˆ‘æäº†ä¸€ä¸ªâš ï¸ï¼šIEå…¼å®¹æ€§!!!</li>\n<li>iTicket ä¹‹ Angular4 å‰ç«¯å®ç°ã€‚è™½ç„¶å¤§éƒ¨åˆ†éƒ½æ˜¯å­¦å§åœ¨åšï¼Œä½†æ˜¯ä¹Ÿå­¦äº†ä¸å°‘ä¸œè¥¿ï¼Œè¿˜æ˜¯éœ€è¦é™ä¸‹å¿ƒå»å­¦ä¹ å•Šå•Šå•Šå•Šå•ŠğŸ˜¥</li>\n</ul>\n<p>ç›¸æ¯”äºå…¶ä»–å…¬å¸ï¼Œç¡®å®è½»æ¾å¾ˆå¤šï¼Œä½†ä¸ªä¸­æ»‹å‘³ä¹Ÿåªæ˜¯è‡ªå·±çŸ¥é“ã€‚è™½ç„¶å½“æ—¶å®ŒæˆFAåŠŸèƒ½ä¹Ÿæ˜¯è¿ç»­åŠ ç­äº†å¿«ä¸¤ä¸ªæ˜ŸæœŸï¼Œä½†è¿˜æ˜¯è§‰å¾—å……å®å¿«ä¹ã€‚ä»¥åŠéå¸¸æ„Ÿè°¢è€æ¿çš„çŸ¥é‡ä¹‹æ©å’Œä¸€è·¯ä¸Šå¾—åˆ°çš„å„ç§è‚¯å®šå’Œè®¤å¯ã€‚</p>\n<p>å°±åƒè€å¤§1-1è¯´çš„ï¼Œè‹±è¯­è¡¨è¾¾èƒ½åŠ›è¿˜ä¸å¤Ÿï¼Œè¯´åˆ°åº•è¿˜æ˜¯è‡ªå·±ä¸å¤Ÿå‹‡æ•¢ï¼Œç•æ‰‹ç•è„šã€‚<br>å¸Œæœ›æ¥ä¸‹æ¥èƒ½åŠ å¼ºå‘€ï½</p>\n","categories":["éšç¬”"],"tags":["å·¥ä½œæ—¥è®°"]},{"title":"linux-commands","url":"http://yoursite.com/2017/07/18/linux-commands/","content":"<h1 id=\"Concepts\"><a href=\"#Concepts\" class=\"headerlink\" title=\"Concepts\"></a>Concepts</h1><p>Unix is multi-user, multi-process, mutli-access operating system.</p>\n<p>Each command is executed as a new process, and is the child of the process which invoked it.</p>\n<h2 id=\"Kernel-Responsibilities\"><a href=\"#Kernel-Responsibilities\" class=\"headerlink\" title=\"Kernel Responsibilities\"></a>Kernel Responsibilities</h2><ul>\n<li>Process Management</li>\n<li>Memory Management</li>\n<li>File System Management</li>\n<li>Device Management</li>\n</ul>\n<h1 id=\"Basic-Commands\"><a href=\"#Basic-Commands\" class=\"headerlink\" title=\"Basic Commands\"></a>Basic Commands</h1><h2 id=\"who-vs-whoami\"><a href=\"#who-vs-whoami\" class=\"headerlink\" title=\"who vs whoami\"></a><code>who</code> vs <code>whoami</code></h2><p><code>who</code> it gives the list of all users currently logged in to the machine<br><code>whoami</code> let you know the current user who is in the shell.</p>\n<h2 id=\"Keyboard-Control\"><a href=\"#Keyboard-Control\" class=\"headerlink\" title=\"Keyboard Control\"></a>Keyboard Control</h2><table>\n<thead>\n<tr>\n<th>options</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>^C</td>\n<td style=\"text-align:right\">interrupt command</td>\n</tr>\n<tr>\n<td>^Z</td>\n<td style=\"text-align:right\">suspend command</td>\n</tr>\n<tr>\n<td>^D</td>\n<td style=\"text-align:right\">end of file</td>\n</tr>\n<tr>\n<td>^S</td>\n<td style=\"text-align:right\">suspend output</td>\n</tr>\n<tr>\n<td>^Q</td>\n<td style=\"text-align:right\">continue output</td>\n</tr>\n<tr>\n<td>^H (^?)</td>\n<td style=\"text-align:right\">delete last character</td>\n</tr>\n<tr>\n<td>^W</td>\n<td style=\"text-align:right\">delete last word</td>\n</tr>\n<tr>\n<td>^U</td>\n<td style=\"text-align:right\">delete line</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"File-System\"><a href=\"#File-System\" class=\"headerlink\" title=\"File System\"></a>File System</h1><h2 id=\"commands\"><a href=\"#commands\" class=\"headerlink\" title=\"commands\"></a>commands</h2><p><code>ls</code> - list directory contents<br><code>ls -F</code> - append indicator (one of */=&gt;@|) to entries (â€˜/â€˜ means directory)<br><code>ls -l</code> - use a long listing format<br><code>ls -i</code> - print the index number of each file<br><code>wc</code> - print newline, word, and byte counts for each file<br><code>cat</code> - concatenate files and print on the standard output<br><code>mkdir</code> - creates directories<br><code>rmdir</code> - removes directories<br><code>cp</code> - copies files and directories around the file system<br>(P.S. wildcards cannot be used for names which donâ€™t exist)<br><code>mv</code> - move files and sub-directories<br><code>rm</code> - deletes files and direcotry structures<br><code>rm -i</code> requests confirmation before deleting files<br><code>head</code> - displays the first lines of a file<br><code>tail</code> - displays the last lines of a file<br>(e.g. head -4 userlist - display the first 4 lines of userlist)<br>(e.g. tail -3 userlist - display the last 3 lines of userlist)<br><code>grep</code> - searches files for strings</p>\n<h2 id=\"Hierarchical-Structure\"><a href=\"#Hierarchical-Structure\" class=\"headerlink\" title=\"Hierarchical Structure\"></a>Hierarchical Structure</h2><p>Directories can be viewed as branches and files as leaves.</p>\n<h2 id=\"Linking-Files\"><a href=\"#Linking-Files\" class=\"headerlink\" title=\"Linking Files\"></a>Linking Files</h2><p><code>ln</code> - create links<br><code>ln -s</code> -  make symbolic links instead of hard links<br>(P.S.Symbolic links source can be files or directories.Hard links source only files.ç±»ä¼¼æŒ‡é’ˆ)</p>\n<h2 id=\"Searching-Files\"><a href=\"#Searching-Files\" class=\"headerlink\" title=\"Searching Files\"></a>Searching Files</h2><p><code>grep</code> options</p>\n<table>\n<thead>\n<tr>\n<th>option</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-c</td>\n<td style=\"text-align:right\">display count of matching lines</td>\n</tr>\n<tr>\n<td>-i</td>\n<td style=\"text-align:right\">case insensitive</td>\n</tr>\n<tr>\n<td>-l</td>\n<td style=\"text-align:right\">list names of files containing matching lines</td>\n</tr>\n<tr>\n<td>-n</td>\n<td style=\"text-align:right\">precede each line by its line number</td>\n</tr>\n<tr>\n<td>-v</td>\n<td style=\"text-align:right\">only display lines that do <em>not match</em></td>\n</tr>\n<tr>\n<td>-w</td>\n<td style=\"text-align:right\">search for the expression as a word</td>\n</tr>\n</tbody>\n</table>\n<p>can use Regex expressions for strings.</p>\n<h2 id=\"Quoting\"><a href=\"#Quoting\" class=\"headerlink\" title=\"Quoting\"></a>Quoting</h2><p>Quoting allows characters to be hidden from the shell.</p>\n<pre><code>e.g. $ echo hello      world\nhello world\n$ echo &quot;hello   world&quot;\nhello   world\n</code></pre><h2 id=\"Sorting-Files\"><a href=\"#Sorting-Files\" class=\"headerlink\" title=\"Sorting Files\"></a>Sorting Files</h2><p><code>sort</code> - organises files into alpha-numeric order<br><code>sort -n</code> - sort on numeric value<br><code>sort -r</code> - reverse the sort<br><code>sort +#</code> - skip # fields to start of sort key<br>(e.g. <code>sort +3n</code> means from 3rd fields to start sort on numeric value)</p>\n<h2 id=\"Comparing-Files\"><a href=\"#Comparing-Files\" class=\"headerlink\" title=\"Comparing Files\"></a>Comparing Files</h2><p><code>diff</code> - displays the differences between two files<br><code>diff -e</code> - displays the differences in second files</p>\n<h2 id=\"Cutting-Fields\"><a href=\"#Cutting-Fields\" class=\"headerlink\" title=\"Cutting Fields\"></a>Cutting Fields</h2><p><code>cut</code> - removes selected fields from each line of the file<br><code>cut -d</code> -  use DELIM instead of TAB for field delimiter.è‡ªå®šä¹‰åˆ†éš”ç¬¦ï¼Œé€šå¸¸æ˜¯åˆ¶è¡¨ç¬¦ã€‚<br><code>cut -f</code>-  f means fields. select only these fields;  also print anyline that contains  no delimiter character, unless the -s option is specified<br><code>cut -b</code> - select bypes</p>\n<h2 id=\"Duplicate-Lines\"><a href=\"#Duplicate-Lines\" class=\"headerlink\" title=\"Duplicate Lines\"></a>Duplicate Lines</h2><p><code>uniq</code> - removes duplicate adjacent lines from files<br><code>uniq -c</code> - count number of duplicate line before files lines<br><code>uniq -d</code> - only print repeated lines<br><code>uniq -u</code> - only print non-repeated lines</p>\n<h2 id=\"Transliterating-Files\"><a href=\"#Transliterating-Files\" class=\"headerlink\" title=\"Transliterating Files\"></a>Transliterating Files</h2><p><code>tr</code> - translate characters from input to output.<br>(Default input is STDIN. Default output is STDOUT. )<br><code>tr SET1 [SET2]</code> - translate SET1 in input to SET2.</p>\n<h2 id=\"Printing-Files\"><a href=\"#Printing-Files\" class=\"headerlink\" title=\"Printing Files\"></a>Printing Files</h2><p><code>lpr</code> - send files to a printer<br><code>lpq</code> - queries the state of the print queue<br><code>lprm</code> - dequeues jobs from the print queue.remove the jobs.</p>\n<h2 id=\"Searching-for-Files\"><a href=\"#Searching-for-Files\" class=\"headerlink\" title=\"Searching for Files\"></a>Searching for Files</h2><p><code>find</code> - searches any part of the file system.</p>\n<ul>\n<li>it can apply any Unix command to the files found</li>\n<li>it can print the file name found</li>\n<li>it can search for files based on several file attributes</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>options</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-name</td>\n<td style=\"text-align:right\">filename pattern</td>\n</tr>\n<tr>\n<td>-user</td>\n<td style=\"text-align:right\">user name</td>\n</tr>\n<tr>\n<td>-group</td>\n<td style=\"text-align:right\">group name</td>\n</tr>\n<tr>\n<td>-size</td>\n<td style=\"text-align:right\">[+/-] size in blocks</td>\n</tr>\n<tr>\n<td>-perm</td>\n<td style=\"text-align:right\">[-] octal number</td>\n</tr>\n<tr>\n<td>-atime</td>\n<td style=\"text-align:right\">[+/-] days</td>\n</tr>\n<tr>\n<td>-mtime</td>\n<td style=\"text-align:right\">[+/-] days</td>\n</tr>\n<tr>\n<td>-ctime</td>\n<td style=\"text-align:right\">[+/-] days</td>\n</tr>\n<tr>\n<td>-type</td>\n<td style=\"text-align:right\">[d/f/l]</td>\n</tr>\n<tr>\n<td>-inum</td>\n<td style=\"text-align:right\">i-node number</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"File-Access-Control\"><a href=\"#File-Access-Control\" class=\"headerlink\" title=\"File Access Control\"></a>File Access Control</h1><h2 id=\"Permissions\"><a href=\"#Permissions\" class=\"headerlink\" title=\"Permissions\"></a>Permissions</h2><h3 id=\"Access-rights-for-files\"><a href=\"#Access-rights-for-files\" class=\"headerlink\" title=\"Access rights for files\"></a>Access rights for files</h3><table>\n<thead>\n<tr>\n<th>rights</th>\n<th style=\"text-align:center\">meaning</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>r</td>\n<td style=\"text-align:center\">read</td>\n<td style=\"text-align:right\">read contens</td>\n</tr>\n<tr>\n<td>w</td>\n<td style=\"text-align:center\">write</td>\n<td style=\"text-align:right\">update and implies delete</td>\n</tr>\n<tr>\n<td>x</td>\n<td style=\"text-align:center\">execute</td>\n<td style=\"text-align:right\">attempt to run program</td>\n</tr>\n<tr>\n<td>s</td>\n<td style=\"text-align:center\">set ID</td>\n<td style=\"text-align:right\">change the UID or GID of process</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Access-rights-for-directories\"><a href=\"#Access-rights-for-directories\" class=\"headerlink\" title=\"Access rights for directories\"></a>Access rights for directories</h3><table>\n<thead>\n<tr>\n<th>rights</th>\n<th style=\"text-align:center\">meaning</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>r</td>\n<td style=\"text-align:center\">list</td>\n<td style=\"text-align:right\">list contens</td>\n</tr>\n<tr>\n<td>w</td>\n<td style=\"text-align:center\">write</td>\n<td style=\"text-align:right\">create and delete any files</td>\n</tr>\n<tr>\n<td>x</td>\n<td style=\"text-align:center\">search</td>\n<td style=\"text-align:right\">search directory(cd)</td>\n</tr>\n<tr>\n<td>t</td>\n<td style=\"text-align:center\">sticky</td>\n<td style=\"text-align:right\">control write access to directories</td>\n</tr>\n</tbody>\n</table>\n<p>use <code>ls -l</code> to display access rights. The order is type, user, group, others.<br>e.g. drwxrw-râ€“</p>\n<table>\n<thead>\n<tr>\n<th>type</th>\n<th style=\"text-align:center\">user</th>\n<th style=\"text-align:center\">group</th>\n<th style=\"text-align:right\">others</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>d</td>\n<td style=\"text-align:center\">rwx</td>\n<td style=\"text-align:center\">rw-</td>\n<td style=\"text-align:right\">râ€“</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Setting-Permissions\"><a href=\"#Setting-Permissions\" class=\"headerlink\" title=\"Setting Permissions\"></a>Setting Permissions</h2><p><code>chmod</code> - change permissions<br><code>chomd -R</code> -  enables recursion through a directory(é€’å½’éå†)</p>\n<p>The permission mode is set using a symbolic notation and a numeric notation.</p>\n<h3 id=\"Symbolic-Notation\"><a href=\"#Symbolic-Notation\" class=\"headerlink\" title=\"Symbolic Notation\"></a>Symbolic Notation</h3><p>e.g. <code>chmod go+r aFile</code> means group and others add r access rights.</p>\n<h3 id=\"Numeric-Notation\"><a href=\"#Numeric-Notation\" class=\"headerlink\" title=\"Numeric Notation\"></a>Numeric Notation</h3><p>treats the permissions as a bit pattern.<br>e.g. </p>\n<table>\n<thead>\n<tr>\n<th>r</th>\n<th style=\"text-align:center\">w</th>\n<th style=\"text-align:right\">x</th>\n<th>total</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>4</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:right\">1</td>\n<td>7 means rwx</td>\n</tr>\n<tr>\n<td>4</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:right\">1</td>\n<td>5 means rx</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Default-Permissions\"><a href=\"#Default-Permissions\" class=\"headerlink\" title=\"Default Permissions\"></a>Default Permissions</h2><p><code>umask</code> - defines the default permission bits. in numeric notation to show permission.</p>\n<h1 id=\"Editing-Files\"><a href=\"#Editing-Files\" class=\"headerlink\" title=\"Editing Files\"></a>Editing Files</h1><p>| â€”â€”â€”â€”- | â€”â€“:|<br>| <code>ed</code> | interactive, buffered, line oriented |<br>| <code>vi</code> | interactive, buffered, screen oriented |<br>| <code>sed</code> | non-interactive, non-buffered, stream oriented |</p>\n<h2 id=\"ed\"><a href=\"#ed\" class=\"headerlink\" title=\"ed\"></a>ed</h2><p><code>ed [-p prompt] [filename]</code></p>\n<p><code>[addr,[addr]]&lt;character command&gt; [parameters]</code></p>\n<table>\n<thead>\n<tr>\n<th>command</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>i</td>\n<td style=\"text-align:right\">insert</td>\n</tr>\n<tr>\n<td>a</td>\n<td style=\"text-align:right\">append</td>\n</tr>\n<tr>\n<td>c</td>\n<td style=\"text-align:right\">change</td>\n</tr>\n<tr>\n<td>d</td>\n<td style=\"text-align:right\">delete</td>\n</tr>\n<tr>\n<td>p</td>\n<td style=\"text-align:right\">print</td>\n</tr>\n<tr>\n<td>w</td>\n<td style=\"text-align:right\">write to file</td>\n</tr>\n<tr>\n<td>r</td>\n<td style=\"text-align:right\">read from file</td>\n</tr>\n<tr>\n<td>s/RE/RS/g</td>\n<td style=\"text-align:right\">substitute RE for RS</td>\n</tr>\n<tr>\n<td>t addr</td>\n<td style=\"text-align:right\">transfer to addr</td>\n</tr>\n<tr>\n<td>q</td>\n<td style=\"text-align:right\">quit</td>\n</tr>\n<tr>\n<td>Q</td>\n<td style=\"text-align:right\">really quit</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"vi\"><a href=\"#vi\" class=\"headerlink\" title=\"vi\"></a>vi</h2><p><code>vi [-r] [filename]</code></p>\n<h3 id=\"command-mode\"><a href=\"#command-mode\" class=\"headerlink\" title=\"command mode\"></a>command mode</h3><table>\n<thead>\n<tr>\n<th>command</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>h</td>\n<td style=\"text-align:right\">cursor left</td>\n</tr>\n<tr>\n<td>j</td>\n<td style=\"text-align:right\">cursor down</td>\n</tr>\n<tr>\n<td>k</td>\n<td style=\"text-align:right\">cursor up</td>\n</tr>\n<tr>\n<td>l</td>\n<td style=\"text-align:right\">cursor right</td>\n</tr>\n<tr>\n<td>w</td>\n<td style=\"text-align:right\">word forward</td>\n</tr>\n<tr>\n<td>b</td>\n<td style=\"text-align:right\">word backward</td>\n</tr>\n<tr>\n<td>^u</td>\n<td style=\"text-align:right\">page up</td>\n</tr>\n<tr>\n<td>^d</td>\n<td style=\"text-align:right\">page down</td>\n</tr>\n<tr>\n<td>^</td>\n<td style=\"text-align:right\">start of line</td>\n</tr>\n<tr>\n<td>$</td>\n<td style=\"text-align:right\">end of line</td>\n</tr>\n<tr>\n<td>G</td>\n<td style=\"text-align:right\">go to line</td>\n</tr>\n<tr>\n<td>i</td>\n<td style=\"text-align:right\">insert before cursor</td>\n</tr>\n<tr>\n<td>I</td>\n<td style=\"text-align:right\">insert at start of line</td>\n</tr>\n<tr>\n<td>a</td>\n<td style=\"text-align:right\">insert after cursor</td>\n</tr>\n<tr>\n<td>A</td>\n<td style=\"text-align:right\">insert at the end of line</td>\n</tr>\n<tr>\n<td>r</td>\n<td style=\"text-align:right\">replace character</td>\n</tr>\n<tr>\n<td>R</td>\n<td style=\"text-align:right\">overwrite rest of line</td>\n</tr>\n<tr>\n<td>o</td>\n<td style=\"text-align:right\">open line below</td>\n</tr>\n<tr>\n<td>O</td>\n<td style=\"text-align:right\">open line above</td>\n</tr>\n<tr>\n<td>x</td>\n<td style=\"text-align:right\">delete current character</td>\n</tr>\n<tr>\n<td>X</td>\n<td style=\"text-align:right\">delete character before cursor</td>\n</tr>\n<tr>\n<td>d</td>\n<td style=\"text-align:right\">delete text</td>\n</tr>\n<tr>\n<td>D</td>\n<td style=\"text-align:right\">delete the rest of the line</td>\n</tr>\n<tr>\n<td>y</td>\n<td style=\"text-align:right\">yank text into buffer</td>\n</tr>\n<tr>\n<td>p</td>\n<td style=\"text-align:right\">paste buffer before</td>\n</tr>\n<tr>\n<td>P</td>\n<td style=\"text-align:right\">paste buffer after</td>\n</tr>\n<tr>\n<td>/</td>\n<td style=\"text-align:right\">search forward for RE</td>\n</tr>\n<tr>\n<td>?</td>\n<td style=\"text-align:right\">search back for RE</td>\n</tr>\n<tr>\n<td>n</td>\n<td style=\"text-align:right\">repeat search</td>\n</tr>\n<tr>\n<td>.</td>\n<td style=\"text-align:right\">repeat last change</td>\n</tr>\n<tr>\n<td>u</td>\n<td style=\"text-align:right\">undo last change</td>\n</tr>\n<tr>\n<td>N</td>\n<td style=\"text-align:right\">reverse search</td>\n</tr>\n<tr>\n<td>ZZ</td>\n<td style=\"text-align:right\">write file then quit</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"ex-Mode\"><a href=\"#ex-Mode\" class=\"headerlink\" title=\"ex Mode\"></a>ex Mode</h3><p>allows you to enter ex(ed) commands</p>\n<table>\n<thead>\n<tr>\n<th>command</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>:wq</td>\n<td style=\"text-align:right\">write file then quit</td>\n</tr>\n<tr>\n<td>:x</td>\n<td style=\"text-align:right\">write file then quit</td>\n</tr>\n<tr>\n<td>:q!</td>\n<td style=\"text-align:right\">force quit without save</td>\n</tr>\n<tr>\n<td>:q</td>\n<td style=\"text-align:right\">quit</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"Process-Commands\"><a href=\"#Process-Commands\" class=\"headerlink\" title=\"Process Commands\"></a>Process Commands</h1><p><code>more</code> - used to paginate files.<br><code>more</code> is invoked as a new process by the shell.<br><code>cd</code> and <code>pwd</code> are commands to the shell itself and donâ€™t give rise to new processes.</p>\n<h1 id=\"The-Shell\"><a href=\"#The-Shell\" class=\"headerlink\" title=\"The Shell\"></a>The Shell</h1><p>Login shell is invoked as the user logs in, dies when the user logs out.<br>Wildcards be used to generate filenames.</p>\n<table>\n<thead>\n<tr>\n<th>wildcards</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>*</td>\n<td style=\"text-align:right\">any number of characters</td>\n</tr>\n<tr>\n<td>?</td>\n<td style=\"text-align:right\">any single character</td>\n</tr>\n<tr>\n<td>[ab]</td>\n<td style=\"text-align:right\">a or b or specified range</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Shell-I-O-Redirection\"><a href=\"#Shell-I-O-Redirection\" class=\"headerlink\" title=\"Shell I/O Redirection\"></a>Shell I/O Redirection</h2><p>Standard I/O is STDIN, STDOUT, STDERR(producing error messages)</p>\n<table>\n<thead>\n<tr>\n<th>symbol</th>\n<th style=\"text-align:right\">meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>&gt;</code></td>\n<td style=\"text-align:right\">redirect output</td>\n</tr>\n<tr>\n<td><code>&gt;&gt;</code></td>\n<td style=\"text-align:right\">append to existing file</td>\n</tr>\n<tr>\n<td><code>&lt;</code></td>\n<td style=\"text-align:right\">redirect input</td>\n</tr>\n<tr>\n<td><code>&lt;&lt;</code></td>\n<td style=\"text-align:right\">redirect STDIN from command itself</td>\n</tr>\n<tr>\n<td>`</td>\n<td style=\"text-align:right\">`</td>\n<td>pipeline commands</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Background-Jobs\"><a href=\"#Background-Jobs\" class=\"headerlink\" title=\"Background Jobs\"></a>Background Jobs</h2><p>use <code>&amp;</code> to put jobs into the background.<br><code>jobs</code> - list all jobs in the shell</p>\n<p><code>bg %n</code> - move a job to the background<br><code>fg %n</code> - move a job into the foreground<br><code>stop %n</code> - stop a background job - a stopped job can be restarted<br><code>^Z</code> - stop a foreground job</p>\n<p>%n â€“ n is the number in the square brackets from the <code>jobs</code> command.</p>\n<h2 id=\"new-processes\"><a href=\"#new-processes\" class=\"headerlink\" title=\"new processes\"></a>new processes</h2><p>The parent process waits until the child process ends.<br>The child process inherits the parent attributes.<br>When the child process dies, its exit code is sent to its parent, waking the parent process up.</p>\n<h2 id=\"Shell-Variables\"><a href=\"#Shell-Variables\" class=\"headerlink\" title=\"Shell Variables\"></a>Shell Variables</h2><p><code>set</code> - displays local variables<br><code>env</code> - displays environment variables<br><code>aliases</code> - create alternative commands</p>\n<h2 id=\"Shell-Program\"><a href=\"#Shell-Program\" class=\"headerlink\" title=\"Shell Program\"></a>Shell Program</h2><p>$0 - Command nae<br>$# - Number of arguments<br>$<em>, $@ - All of the arguments<br>â€œ$</em>â€œ - one argument of all parameters from $1, like â€œ$1 $2 â€¦ $nâ€<br>â€œ$@â€ - All aruments from $1, like â€œ$1â€ â€œ$2â€ â€¦ â€œ$nâ€<br><code>shift</code> - moves arguments down to access others (å¼¹å‡ºä¸€ä¸ªå‚æ•°)<br><code>read</code> - reads from standard input</p>\n<pre><code>read name address\necho goodbye $name of $address\n</code></pre><p><code>test</code> - evaluates general conditions. succeed return 0, otherwise non zero.<br><code>expr</code> - evaluate expressions, cuz shell does not understand numbers, each argument must be separated by spaces.</p>\n<h2 id=\"sed\"><a href=\"#sed\" class=\"headerlink\" title=\"sed\"></a>sed</h2><ul>\n<li>A non-interactive, stream-oriented editor.</li>\n<li>works on lines of text</li>\n<li>input flows through the program and is directed to standard output</li>\n</ul>\n<p>| option | meaning |<br>| -f | allows a sed script file to be specified |<br>| -e | Precedes each edit when multiple edits are defined |<br>| -n | Suppress the default output |</p>\n","categories":["åå°å¼€å‘","Linux"],"tags":["Linux","Unix"]},{"title":"æšä¸¾ä¸æ³¨è§£--ã€ŠEffective Javaã€‹","url":"http://yoursite.com/2017/02/10/effective-java-ch6-Enums-and-Annotations/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æœ¬æ–‡ä¸ºé˜…è¯»ã€ŠEffective Javaã€‹ç¬¬å…­ç« ç¬”è®°ã€‚</p>\n<hr>\n<h2 id=\"ç”¨enumä»£æ›¿intå¸¸é‡\"><a href=\"#ç”¨enumä»£æ›¿intå¸¸é‡\" class=\"headerlink\" title=\"ç”¨enumä»£æ›¿intå¸¸é‡\"></a>ç”¨enumä»£æ›¿intå¸¸é‡</h2><p>æšä¸¾ç±»å‹ï¼ˆenum typeï¼‰æ˜¯å€¼ç”±ä¸€ç»„å›ºå®šçš„å¸¸é‡ç»„æˆåˆæ³•å€¼çš„ç±»å‹ã€‚</p>\n<pre><code>public enum Apple { FUJI, PIPPIN, GRANNY_SMITH }\npublic enum Orange { NAVEL, TEMPLE, BLOOD }\n</code></pre><p>Javaçš„æšä¸¾æœ¬è´¨ä¸Šæ˜¯intå€¼ã€‚é€šè¿‡å…¬æœ‰çš„é™æ€finalåŸŸä¸ºæ¯ä¸ªæšä¸¾å¸¸é‡å¯¼å‡ºå®ä¾‹çš„ç±»ã€‚</p>\n<p>æšä¸¾ç±»å‹æ˜¯å®ä¾‹æ“æ§çš„ï¼Œæ˜¯å•ä¾‹çš„æ³›å‹åŒ–ï¼Œæœ¬è´¨ä¸Šæ˜¯å•å…ƒç´ çš„æšä¸¾ã€‚</p>\n<p>æšä¸¾ç±»å‹è¿˜å…è®¸æ·»åŠ ä»»æ„çš„æ–¹æ³•å’ŒåŸŸï¼Œå¹¶å®ç°ä»»æ„çš„æ¥å£ã€‚</p>\n<pre><code>//Enum type with data and behavior\npublic enum Planet {\n    MERCURY(3.302e+23, 2.439e6),\n    VENUS(4.869E+24, 6.052E6),\n    EARTH(5.975E+24, 6.378E6),\n    MARS(6.419E+23, 3.393E6);\n    ...\n\n    private final double mass;\n    private final double radius;\n    private final double surfaceGravity;\n\n    private static final double G = 6.67300E-11;\n\n    //Constructor\n    Planet(double mass, double radius) {\n        this.mass = mass;\n        this.radius = radius;\n        surfaceGravity = G * mass / (radius * radius);\n    }\n\n    public double mass() { return mass; }\n    public double radius() { return radius; }\n    public double surfaceGravity() { return surfaceGravity; }\n\n    public double surfaceWeighty(double mass) {\n        return mass * surfaceGravity;\n    }\n\n}\n</code></pre><p>ä¸ºäº†å°†æ•°æ®ä¸æšä¸¾å¸¸é‡å…³è”èµ·æ¥ï¼Œå¾—å£°æ˜å®ä¾‹åŸŸï¼Œå¹¶ç¼–å†™ä¸€ä¸ªå¸¦æœ‰æ•°æ®å¹¶å°†æ•°æ®ä¿å­˜åœ¨åŸŸä¸­çš„æ„é€ å™¨ã€‚</p>\n<pre><code>public class WeightTable {\n    public static void main(String[] args) {\n        double earthWeight = Double.parseDouble(args[0]);\n        double mass = earthWeight / Planet.EARTH.surfaceGravity();\n        for(Planet p : Planet.values()){\n            System.out.printf(&quot;Weight on %s is %f%n&quot;,\n                p, p.surfaceWeighty(mass));\n        }\n    }\n}\n\n//Result\n//Weight on MERCURY is 66.133672\n//Weight on VENUS is 158.383926\n//Weight on EARTH is 175.000000\n//Weight on MARS is 66.430699\n</code></pre><p>ç­–ç•¥æšä¸¾æ¥å®ç°å·¥èµ„æšä¸¾ã€‚</p>\n<pre><code>enum PayrollDay {\n    MONDAY(PayType.WEEKDAY), TUEDAY(PayType.WEEKDAY),\n    WEDNESDAY(PayType.WEEKDAY), THURSDAY(PayType.WEEKDAY),\n    FRIDAY(PayType.WEEKDAY),\n    SATURDAY(PayType.WEEKEND), SUNDAY(PayType.WEEKEND);\n\n    private final PayType payType;\n    PayrollDay(PayType payType) {\n        this.payType = payType;\n    }\n\n    double pay(double hoursWorked, double payRate) {\n        return payType.pay(hoursWorked, payRate);\n    }\n\n    //The strategy enum type\n    private enum PayType {\n        WEEKDAY {\n            double overtimePay(double hours, double payRate) {\n                return hours &lt;= HOURS_PER_SHIFT ? 0 :\n                    (hours - HOURS_PER_SHIFT) * payRate / 2; \n            }\n        },\n        WEEKEND {\n            double overtimePay(double hours, double payRate) {\n                return hours * payRate / 2;\n            }\n        };\n\n        private static final int HOURS_PER_SHIFT = 8;\n\n        abstract double overtimePay(double hrs, double payRate);\n\n        double pay(double hoursWorked, double payRate) {\n            double basePay = hoursWorked * payRate;\n            return basePay + overtimePay(hoursWorked, payRate);\n        }\n    }\n}\n</code></pre><p>æšä¸¾è¦æ›´åŠ æ˜“è¯»ï¼Œä¹Ÿæ›´åŠ å®‰å…¨ï¼ŒåŠŸèƒ½æ›´ä¸ºå¼ºå¤§ã€‚è®¸å¤šæšä¸¾éƒ½ä¸éœ€è¦æ˜¾å¼çš„æ„é€ å™¨æˆ–æˆå‘˜ï¼Œä½†è®¸å¤šå…¶ä»–æšä¸¾åˆ™å—ç›Šäºâ€œæ¯ä¸ªå¸¸é‡ä¸å±æ€§çš„å…³è”â€ä»¥åŠâ€œæä¾›è¡Œä¸ºå—è¿™ä¸ªå±æ€§å½±å“çš„æ–¹æ³•â€ã€‚å¦‚æœå¤šä¸ªæšä¸¾å¸¸é‡åŒæ—¶å…±äº«ç›¸åŒçš„è¡Œä¸ºï¼Œåˆ™è€ƒè™‘ç­–ç•¥æšä¸¾ã€‚</p>\n<hr>\n<h2 id=\"ç”¨å®ä¾‹åŸŸä»£æ›¿åºæ•°\"><a href=\"#ç”¨å®ä¾‹åŸŸä»£æ›¿åºæ•°\" class=\"headerlink\" title=\"ç”¨å®ä¾‹åŸŸä»£æ›¿åºæ•°\"></a>ç”¨å®ä¾‹åŸŸä»£æ›¿åºæ•°</h2><p>æ°¸è¿œä¸è¦æ ¹æ®æšä¸¾çš„åºæ•°å¯¼å‡ºä¸å®ƒå…³è”çš„å€¼ï¼Œè€Œæ˜¯è¦å°†å®ƒä¿å­˜åœ¨ä¸€ä¸ªå®ä¾‹åŸŸä¸­ã€‚</p>\n<pre><code>public enum Ensemble {\n    SOLO(1), DUET(2), TRIO(3), QUARTET(4), QUINTET(5),\n    SEXTET(6), SEPTET(7), OCTET(8), DOUBLE_QUARTET(8),\n    NONET(9), DECTET(10), TRIPLE_QUARTET(12);\n\n    private final int numberOfMusicians;\n    Ensemble(int size) { this.numberOfMusicians = size; }\n    public int numberOfMusicians() { return numberOfMusicians; }\n\n}\n</code></pre><hr>\n<h2 id=\"ç”¨EnumSetä»£æ›¿ä½åŸŸ\"><a href=\"#ç”¨EnumSetä»£æ›¿ä½åŸŸ\" class=\"headerlink\" title=\"ç”¨EnumSetä»£æ›¿ä½åŸŸ\"></a>ç”¨EnumSetä»£æ›¿ä½åŸŸ</h2><p>å¾…ç»­â€¦â€¦</p>\n","categories":["åå°å¼€å‘","JAVAå¼€å‘"],"tags":["JAVA","Effective Java"]},{"title":"æ³›å‹--ã€ŠEffective Javaã€‹","url":"http://yoursite.com/2017/02/09/effective-java-ch5-generics/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æœ¬æ–‡ä¸ºé˜…è¯»ã€ŠEffective Javaã€‹ç¬¬äº”ç« é˜…è¯»ç¬”è®°ã€‚</p>\n<h2 id=\"ä¸è¦åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨åŸç”Ÿæ€ç±»å‹\"><a href=\"#ä¸è¦åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨åŸç”Ÿæ€ç±»å‹\" class=\"headerlink\" title=\"ä¸è¦åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨åŸç”Ÿæ€ç±»å‹\"></a>ä¸è¦åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨åŸç”Ÿæ€ç±»å‹</h2><p>å£°æ˜ä¸­å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹å‚æ•°çš„ç±»/æ¥å£ â€“ æ³›å‹ç±»/æ¥å£ </p>\n<p>ä½¿ç”¨åŸç”Ÿæ€ç±»å‹ä¼šåœ¨è¿è¡Œæ—¶å¯¼è‡´å¼‚å¸¸ã€‚åŸç”Ÿæ€åªæ˜¯ä¸ºäº†ä¸å¼•å…¥æ³›å‹ä¹‹å‰çš„é—ç•™ä»£ç è¿›è¡Œå…¼å®¹å’Œäº’ç”¨è€Œæä¾›çš„ã€‚</p>\n<p><code>Set&lt;Object&gt;</code>æ˜¯ä¸ªå‚æ•°åŒ–ç±»å‹ï¼Œè¡¨ç¤ºå¯ä»¥åŒ…å«ä»»ä½•å¯¹è±¡ç±»å‹çš„ä¸€ä¸ªé›†åˆã€‚</p>\n<p><code>Set&lt;?&gt;</code>æ˜¯ä¸€ä¸ªé€šé…ç¬¦ç±»å‹ï¼Œè¡¨ç¤ºåªèƒ½åŒ…å«æŸç§æœªçŸ¥å¯¹è±¡ç±»å‹çš„ä¸€ä¸ªé›†åˆã€‚</p>\n<p><code>Set</code>æ˜¯ä¸ªåŸç”Ÿæ€ç±»å‹ï¼Œè„±ç¦»äº†æ³›å‹ç³»ç»Ÿï¼Œæ˜¯ä¸å®‰å…¨çš„ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>æœ¯è¯­</th>\n<th>å®ä¾‹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>å‚æ•°åŒ–çš„ç±»å‹</td>\n<td>List<string></string></td>\n</tr>\n<tr>\n<td>å®é™…ç±»å‹å‚æ•°</td>\n<td>String</td>\n</tr>\n<tr>\n<td>æ³›å‹</td>\n<td>List<e></e></td>\n</tr>\n<tr>\n<td>å½¢å¼ç±»å‹å‚æ•°</td>\n<td>E</td>\n</tr>\n<tr>\n<td>æ— é™åˆ¶é€šé…ç¬¦ç±»å‹</td>\n<td>List&lt;?&gt;</td>\n</tr>\n<tr>\n<td>åŸç”Ÿæ€ç±»å‹</td>\n<td>List</td>\n</tr>\n<tr>\n<td>æœ‰é™åˆ¶ç±»å‹å‚æ•°</td>\n<td>&lt; E extends Number&gt;</td>\n</tr>\n<tr>\n<td>é€’å½’ç±»å‹é™åˆ¶</td>\n<td>&lt; T extends Comparable<t>&gt;</t></td>\n</tr>\n<tr>\n<td>æœ‰é™åˆ¶é€šé…ç¬¦ç±»å‹</td>\n<td>List&lt;? extends Number&gt;</td>\n</tr>\n<tr>\n<td>æ³›å‹æ–¹æ³•</td>\n<td>static <e> List<e> asList(E[] a)</e></e></td>\n</tr>\n<tr>\n<td>ç±»å‹ä»¤ç‰Œ</td>\n<td>String class</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2 id=\"æ¶ˆé™¤éå—æ£€è­¦å‘Š\"><a href=\"#æ¶ˆé™¤éå—æ£€è­¦å‘Š\" class=\"headerlink\" title=\"æ¶ˆé™¤éå—æ£€è­¦å‘Š\"></a>æ¶ˆé™¤éå—æ£€è­¦å‘Š</h2><p>ä¸è¦å¿½ç•¥éå—æ£€è­¦å‘Šã€‚æ¯æ¡è­¦å‘Šéƒ½è¡¨ç¤ºå¯èƒ½åœ¨è¿è¡Œæ—¶æŠ›å‡ºClassCastExceptionå¼‚å¸¸ï¼Œè¦å°½æœ€å¤§åŠªåŠ›æ¶ˆé™¤è¿™äº›è­¦å‘Šã€‚</p>\n<p>å¦‚æœæ— æ³•æ¶ˆé™¤éå—æ£€è­¦å‘Šï¼ŒåŒæ—¶å¯ä»¥è¯æ˜å¼•èµ·è­¦å‘Šçš„ä»£ç æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå°±å¯ä»¥åœ¨å°½å¯èƒ½å°çš„èŒƒå›´ä¸­ï¼Œç”¨<code>@SuppressWarnings(&quot;unchecked&quot;)</code>æ³¨è§£ç¦æ­¢è¯¥è­¦å‘Šï¼Œè¦ç”¨æ³¨é‡ŠæŠŠç¦æ­¢è¯¥è­¦å‘Šçš„åŸå› è®°å½•ä¸‹æ¥ã€‚</p>\n<hr>\n<h2 id=\"åˆ—è¡¨ä¼˜å…ˆäºæ•°ç»„\"><a href=\"#åˆ—è¡¨ä¼˜å…ˆäºæ•°ç»„\" class=\"headerlink\" title=\"åˆ—è¡¨ä¼˜å…ˆäºæ•°ç»„\"></a>åˆ—è¡¨ä¼˜å…ˆäºæ•°ç»„</h2><p>æ•°ç»„æ˜¯å…·ä½“åŒ–çš„ï¼Œåœ¨è¿è¡Œæ—¶æ‰çŸ¥é“å¹¶æ£€æŸ¥å®ƒä»¬çš„å…ƒç´ ç±»å‹çº¦æŸã€‚</p>\n<p>æ³›å‹æ˜¯é€šè¿‡erasure(ä½¿æ³›å‹å¯ä»¥ä¸æ²¡æœ‰ä½¿ç”¨æ³›å‹çš„ä»£ç éšæ„è¿›è¡Œäº’ç”¨)æ¥å®ç°çš„ã€‚åªåœ¨ç¼–è¯‘æ—¶å¼ºåŒ–å®ƒä»¬çš„ç±»å‹ä¿¡æ¯ï¼Œå¹¶åœ¨è¿è¡Œæ—¶ä¸¢å¼ƒå…ƒç´ ç±»å‹ä¿¡æ¯ã€‚</p>\n<p>æ•°ç»„æä¾›äº†è¿è¡Œæ—¶çš„ç±»å‹å®‰å…¨ï¼Œä½†æ˜¯æ²¡æœ‰ç¼–è¯‘æ—¶çš„ç±»å‹å®‰å…¨ã€‚åä¹‹æ³›å‹ã€‚</p>\n<hr>\n<h2 id=\"ä¼˜å…ˆè€ƒè™‘æ³›å‹\"><a href=\"#ä¼˜å…ˆè€ƒè™‘æ³›å‹\" class=\"headerlink\" title=\"ä¼˜å…ˆè€ƒè™‘æ³›å‹\"></a>ä¼˜å…ˆè€ƒè™‘æ³›å‹</h2><p>ä½¿ç”¨æ³›å‹æ¯”ä½¿ç”¨éœ€è¦åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­è¿›è¡Œè½¬æ¢çš„ç±»å‹æ›´ä¸ºå®‰å…¨ï¼Œä¹Ÿæ›´ç®€å•ã€‚</p>\n<hr>\n<h2 id=\"ä¼˜å…ˆè€ƒè™‘æ³›å‹æ–¹æ³•\"><a href=\"#ä¼˜å…ˆè€ƒè™‘æ³›å‹æ–¹æ³•\" class=\"headerlink\" title=\"ä¼˜å…ˆè€ƒè™‘æ³›å‹æ–¹æ³•\"></a>ä¼˜å…ˆè€ƒè™‘æ³›å‹æ–¹æ³•</h2><p>é™æ€å·¥å…·æ–¹æ³•å°¤å…¶é€‚åˆäºæ³›å‹åŒ–ã€‚</p>\n<p>æ³›å‹æ–¹æ³• æ— éœ€æ˜ç¡®æŒ‡å®šç±»å‹å‚æ•°çš„å€¼ã€‚</p>\n<p>æ³›å‹é™æ€å·¥å‚æ–¹æ³•</p>\n<pre><code>//Generic static factory method\npublic static &lt;K, V&gt; HashMap&lt;K, V&gt; newHashMap() {\n    return new HashMap&lt;K,V&gt;();\n}\n\n//Parameterized type instance creation with static factory\nMap&lt;String, List&lt;String&gt;&gt; anagrams = newHashMap();\n</code></pre><hr>\n<h2 id=\"åˆ©ç”¨æœ‰é™åˆ¶é€šé…ç¬¦æ¥æå‡APIçš„çµæ´»æ€§\"><a href=\"#åˆ©ç”¨æœ‰é™åˆ¶é€šé…ç¬¦æ¥æå‡APIçš„çµæ´»æ€§\" class=\"headerlink\" title=\"åˆ©ç”¨æœ‰é™åˆ¶é€šé…ç¬¦æ¥æå‡APIçš„çµæ´»æ€§\"></a>åˆ©ç”¨æœ‰é™åˆ¶é€šé…ç¬¦æ¥æå‡APIçš„çµæ´»æ€§</h2><p>å‚æ•°åŒ–ç±»å‹æ˜¯ä¸å¯å˜çš„ã€‚</p>\n<p>PECSè¡¨ç¤ºproducer-extends, consumer-super</p>\n<p>å¦‚æœå‚æ•°åŒ–ç±»å‹è¡¨ç¤ºä¸€ä¸ªTç”Ÿäº§è€…ï¼Œå°±ä½¿ç”¨<code>&lt;? extends T&gt;</code>; å¦‚æœè¡¨ç¤ºä¸€ä¸ªTæ¶ˆè´¹è€…ï¼Œå°±ä½¿ç”¨<code>&lt;? super T&gt;</code>ã€‚ </p>\n<p>ä¸è¦ç”¨é€šé…ç¬¦ç±»å‹ä½œä¸ºè¿”å›ç±»å‹ã€‚</p>\n<p>å¦‚æœç±»å‹å‚æ•°æ—¨åœ¨æ–¹æ³•å£°æ˜ä¸­å‡ºç°ä¸€æ¬¡ï¼Œå°±å¯ä»¥ç”¨é€šé…ç¬¦å–ä»£å®ƒã€‚</p>\n<pre><code>public static void swap(List&lt;?&gt; list, int i, int j) {\n    swapHelper(list, i, j);\n}\n\n//private helper method for wildcard capture\nprivate static &lt;E&gt; void swapHelper(List&lt;E&gt; list, int i, int j) {\n    list.set(i, list.set(j, list.get(i)));\n}\n</code></pre><hr>\n<h2 id=\"ä¼˜å…ˆè€ƒè™‘ç±»å‹å®‰å…¨çš„å¼‚æ„å®¹å™¨\"><a href=\"#ä¼˜å…ˆè€ƒè™‘ç±»å‹å®‰å…¨çš„å¼‚æ„å®¹å™¨\" class=\"headerlink\" title=\"ä¼˜å…ˆè€ƒè™‘ç±»å‹å®‰å…¨çš„å¼‚æ„å®¹å™¨\"></a>ä¼˜å…ˆè€ƒè™‘ç±»å‹å®‰å…¨çš„å¼‚æ„å®¹å™¨</h2><pre><code>//Typesafe heterogeneous container pattern - client\npublic static void main(String[] args){\n    Favorites f = new Favorites();\n\n    f.putFavorite(String.class, &quot;Java&quot;);\n    f.putFavorite(Integer.class, 0xcafebabe);\n    f.putFavorite(Class.class, Favorites.class);\n\n    String favoriteString = f.getFavorite(String.class);\n    int favoriteInteger = f.getFavorite(Integer.class);\n    Class&lt;?&gt; favoriteClass = f.getFavorite(Class.class);\n\n    System.out.printf(&quot;%s %x %s%n, favoriteString,\n        favoriteInteger, favoriteClass.getName());\n    //Java cafebabe Favorites.\n}\n\n\n//Typesafe heterogeneous container pattern - implementation\npublic class Favorites {\n    private Map&lt;Class&lt;?&gt;, Object&gt; favorites = \n        new HashMap&lt;Class&lt;?&gt;, Object&gt;();\n\n    public &lt;T&gt; void putFavorite(Class&lt;T&gt; type, T instance) {\n        if(type == null)\n            throw new NullPointerException(&quot;Type is null&quot;);\n        favorites.put(type, instance);\n    }\n\n    public &lt;T&gt; T getFavorite(Class&lt;T&gt; type) {\n        return type.cast(favorites.get(type));\n    }\n}\n</code></pre><p>åˆ©ç”¨asSubclassåœ¨ç¼–è¯‘æ—¶è¯»å–ç±»å‹æœªçŸ¥çš„æ³¨è§£ã€‚</p>\n<pre><code>//Use of asSubclass to safely cast to a bounded type token\nstatic Annotation getAnnotation(AnnotatedElement element,\n                                String annotationTypeName) {\n    Class&lt;?&gt; annotationType = null; //Unbounded type token\n    try {\n        annotationType = Class.forName(annotationTypeName);\n    } catch(Excetion ex) {\n        throw new IllegalArgumentExcetion(ex);\n    }\n    return element.getAnnotation(\n        annotationType.asSubclass(Annotation.class);\n    )\n}\n</code></pre><p>é›†åˆAPIè¯´æ˜äº†æ³›å‹çš„ä¸€èˆ¬ç”¨æ³•ï¼Œé™åˆ¶ä½ æ¯ä¸ªå®¹å™¨åªèƒ½æœ‰å›ºå®šæ•°ç›®çš„ç±»å‹å‚æ•°ï¼Œå¯ä»¥é€šè¿‡å°†ç±»å‹å‚æ•°æ”¾åœ¨é”®ä¸Šè€Œä¸æ˜¯å®¹å™¨ä¸Šæ¥é¿å¼€è¿™ä¸€é™åˆ¶ã€‚</p>\n<p>å¯¹äºè¿™ç§ç±»å‹å®‰å…¨çš„å¼‚æ„å®¹å™¨ï¼Œå¯ä»¥ç”¨Classå¯¹è±¡ä½œä¸ºé”®ã€‚ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨çš„Classå¯¹è±¡ç§°ä½œç±»å‹ä»¤ç‰Œã€‚</p>\n","categories":["åå°å¼€å‘","JAVAå¼€å‘"],"tags":["JAVA","Effective Java"]},{"title":"ç±»ä¸æ¥å£--ã€ŠEffective Javaã€‹","url":"http://yoursite.com/2017/02/08/effective-java-ch4-Classes-Interfaces/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æœ¬æ–‡ä¸ºé˜…è¯»ã€ŠEffective Javaã€‹ç¬¬å››ç« é˜…è¯»ç¬”è®°ã€‚</p>\n<hr>\n<h2 id=\"æœ€å°åŒ–ç±»å’Œæˆå‘˜çš„å¯è®¿é—®æ€§\"><a href=\"#æœ€å°åŒ–ç±»å’Œæˆå‘˜çš„å¯è®¿é—®æ€§\" class=\"headerlink\" title=\"æœ€å°åŒ–ç±»å’Œæˆå‘˜çš„å¯è®¿é—®æ€§\"></a>æœ€å°åŒ–ç±»å’Œæˆå‘˜çš„å¯è®¿é—®æ€§</h2><h3 id=\"ä¿¡æ¯éšè—-information-hiding-å°è£…-encapsulationï¼š\"><a href=\"#ä¿¡æ¯éšè—-information-hiding-å°è£…-encapsulationï¼š\" class=\"headerlink\" title=\"ä¿¡æ¯éšè— information hiding/å°è£… encapsulationï¼š\"></a>ä¿¡æ¯éšè— information hiding/å°è£… encapsulationï¼š</h3><p>è‰¯å¥½çš„æ¨¡å—éšè—æ‰€æœ‰çš„å®ç°ç»†èŠ‚ï¼ŒæŠŠAPIä¸å®ç°æ¸…æ™°åœ°éš”ç¦»å¼€ã€‚æ¨¡å—ä¹‹é—´åªé€šè¿‡APIè¿›è¡Œé€šä¿¡ï¼Œå¹¶ä¸éœ€è¦çŸ¥é“å…¶ä»–æ¨¡å—å†…éƒ¨å·¥ä½œæƒ…å†µã€‚</p>\n<h3 id=\"ä¿¡æ¯éšè—çš„å¥½å¤„\"><a href=\"#ä¿¡æ¯éšè—çš„å¥½å¤„\" class=\"headerlink\" title=\"ä¿¡æ¯éšè—çš„å¥½å¤„\"></a>ä¿¡æ¯éšè—çš„å¥½å¤„</h3><p>æœ‰æ•ˆè§£é™¤å„æ¨¡å—ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œä½¿å…¶å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ã€ä¼˜åŒ–ã€ä½¿ç”¨ã€ç†è§£å’Œä¿®æ”¹ï¼Œä»è€ŒåŠ å¿«ç³»ç»Ÿå¼€å‘é€Ÿåº¦ï¼Œä¹Ÿå‡è½»äº†ç»´æŠ¤çš„è´Ÿæ‹…ï¼Œå¯ä»¥æœ‰æ•ˆåœ°è°ƒèŠ‚æ€§èƒ½ã€‚<br>ä¿¡æ¯éšè—æé«˜äº†è½¯ä»¶çš„å¯é‡ç”¨æ€§ã€‚é™ä½äº†æ„å»ºå¤§å‹ç³»ç»Ÿçš„é£é™©ã€‚</p>\n<h3 id=\"è§„åˆ™\"><a href=\"#è§„åˆ™\" class=\"headerlink\" title=\"è§„åˆ™\"></a>è§„åˆ™</h3><p>å°½å¯èƒ½ä½¿æ¯ä¸ªç±»æˆ–æˆå‘˜ä¸è¢«å¤–ç•Œè®¿é—®ã€‚<br>è®¿é—®çº§åˆ«å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>private â€“ åªæœ‰åœ¨å£°æ˜è¯¥æˆå‘˜çš„é¡¶å±‚ç±»å†…éƒ¨æ‰å¯è®¿é—®</li>\n<li>package-private â€“ é»˜è®¤è®¿é—®çº§åˆ«ã€‚å£°æ˜è¯¥æˆå‘˜çš„åŒ…å†…éƒ¨çš„ä»»ä½•ç±»éƒ½å¯ä»¥è®¿é—®è¯¥æˆå‘˜ã€‚</li>\n<li>protected â€“ å£°æ˜è¯¥æˆå‘˜çš„ç±»çš„å­ç±»å¯è®¿é—®ï¼Œå£°æ˜è¯¥æˆå‘˜çš„åŒ…å†…éƒ¨çš„ä»»ä½•ç±»ä¹Ÿå¯è®¿é—®è¯¥æˆå‘˜ã€‚</li>\n<li>public â€“ ä»»ä½•åœ°æ–¹éƒ½å¯è®¿é—®ã€‚</li>\n</ul>\n<p>å®ä¾‹åŸŸç»ä¸èƒ½æ˜¯å…¬æœ‰çš„ã€‚é™¤äº†å…¬æœ‰é™æ€finalåŸŸçš„ç‰¹æ®Šæƒ…å½¢ä¹‹å¤–ï¼Œå…¬æœ‰åŸŸéƒ½ä¸åº”è¯¥åŒ…å«å…¬æœ‰åŸŸï¼Œå¹¶è¦ç¡®ä¿å…¬æœ‰é™æ€finalåŸŸå¼•ç”¨çš„å¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„ã€‚</p>\n<hr>\n<h2 id=\"åœ¨å…¬æœ‰ç±»ä¸­ä½¿ç”¨è®¿é—®æ–¹æ³•è€Œä¸æ˜¯å…¬æœ‰åŸŸ\"><a href=\"#åœ¨å…¬æœ‰ç±»ä¸­ä½¿ç”¨è®¿é—®æ–¹æ³•è€Œä¸æ˜¯å…¬æœ‰åŸŸ\" class=\"headerlink\" title=\"åœ¨å…¬æœ‰ç±»ä¸­ä½¿ç”¨è®¿é—®æ–¹æ³•è€Œä¸æ˜¯å…¬æœ‰åŸŸ\"></a>åœ¨å…¬æœ‰ç±»ä¸­ä½¿ç”¨è®¿é—®æ–¹æ³•è€Œä¸æ˜¯å…¬æœ‰åŸŸ</h2><p>å¦‚æœç±»å¯ä»¥åœ¨å®ƒæ‰€åœ¨çš„åŒ…çš„å¤–éƒ¨è¿›è¡Œè®¿é—®ï¼Œå°±æä¾›è®¿é—®æ–¹æ³•ã€‚<br>å…¬æœ‰ç±»æ°¸è¿œä¸åº”è¯¥æš´éœ²å¯å˜çš„åŸŸã€‚</p>\n<hr>\n<h2 id=\"ä½¿å¯å˜æ€§æœ€å°åŒ–\"><a href=\"#ä½¿å¯å˜æ€§æœ€å°åŒ–\" class=\"headerlink\" title=\"ä½¿å¯å˜æ€§æœ€å°åŒ–\"></a>ä½¿å¯å˜æ€§æœ€å°åŒ–</h2><p>ä¸ºäº†ä½¿ç±»æˆä¸ºä¸å¯å˜ï¼Œè¦éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p>\n<ol>\n<li>ä¸è¦æä¾›ä»»ä½•ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„æ–¹æ³•</li>\n<li>ä¿è¯ç±»ä¸ä¼šè¢«æ‰©å±•</li>\n<li>ä½¿æ‰€æœ‰çš„åŸŸéƒ½æ˜¯finalçš„</li>\n<li>ä½¿æ‰€æœ‰çš„åŸŸéƒ½æˆä¸ºç§æœ‰çš„ã€‚</li>\n<li>ç¡®ä¿å¯¹äºä»»ä½•å¯å˜ç»„ä»¶çš„äº’æ–¥è®¿é—®ã€‚</li>\n</ol>\n<p>ä¸å¯å˜å¯¹è±¡æœ¬è´¨ä¸Šæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸è¦æ±‚åŒæ­¥ã€‚<br>ä¸å¯å˜å¯¹è±¡å¯ä»¥è¢«è‡ªç”±åœ°å…±äº«ã€‚</p>\n<p>ä¸å¯å˜ç±»çš„ç¼ºç‚¹ï¼š å¯¹äºæ¯ä¸ªä¸åŒçš„å€¼éƒ½éœ€è¦ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ã€‚</p>\n<hr>\n<h2 id=\"å¤åˆä¼˜å…ˆäºç»§æ‰¿ï¼ˆä¸åŒ…æ‹¬æ¥å£ç»§æ‰¿ï¼‰\"><a href=\"#å¤åˆä¼˜å…ˆäºç»§æ‰¿ï¼ˆä¸åŒ…æ‹¬æ¥å£ç»§æ‰¿ï¼‰\" class=\"headerlink\" title=\"å¤åˆä¼˜å…ˆäºç»§æ‰¿ï¼ˆä¸åŒ…æ‹¬æ¥å£ç»§æ‰¿ï¼‰\"></a>å¤åˆä¼˜å…ˆäºç»§æ‰¿ï¼ˆä¸åŒ…æ‹¬æ¥å£ç»§æ‰¿ï¼‰</h2><p>ç»§æ‰¿çš„é—®é¢˜åœ¨äºè¶…ç±»æ”¹å˜åï¼Œå­ç±»ä¼šå‡ºç°ç›¸åº”çš„é”™è¯¯ã€‚<br>åªæœ‰å½“å­ç±»æ˜¯è¶…ç±»çš„å­ç±»å‹(â€œis-aâ€å…³ç³»)æ—¶ï¼Œæ‰é€‚åˆç”¨ç»§æ‰¿ã€‚</p>\n<h3 id=\"å¤åˆ-composition\"><a href=\"#å¤åˆ-composition\" class=\"headerlink\" title=\"å¤åˆ composition\"></a>å¤åˆ composition</h3><p>åœ¨æ–°çš„ç±»ä¸­å¢åŠ ä¸€ä¸ªç§æœ‰åŸŸï¼Œå¼•ç”¨ç°æœ‰ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚<br>è½¬å‘ forwarding â€“ æ–°ç±»ä¸­çš„æ¯ä¸ªå®ä¾‹æ–¹æ³•éƒ½å¯ä»¥è°ƒç”¨è¢«åŒ…å«çš„ç°æœ‰ç±»å®ä¾‹ä¸­å¯¹åº”çš„æ–¹æ³•å¹¶è¿”å›å…¶ç»“æœã€‚<br>è½¬å‘æ–¹æ³• forwarding method â€“ æ–°ç±»ä¸­çš„æ–¹æ³•</p>\n<p>ä¼˜åŠ¿ï¼š ä¸ä¾èµ–äºç°æœ‰ç±»çš„å®ç°ç»†èŠ‚ã€‚å³ä½¿ç°æœ‰ç±»å¢åŠ äº†æ–°æ–¹æ³•ä¹Ÿä¸ä¼šå½±å“æ–°çš„ç±»ã€‚</p>\n<hr>\n<h2 id=\"è¦ä¹ˆä¸ºç»§æ‰¿è€Œè®¾è®¡ï¼Œå¹¶æä¾›æ–‡æ¡£è¯´æ˜ï¼Œè¦ä¹ˆå°±ç¦æ­¢ç»§æ‰¿\"><a href=\"#è¦ä¹ˆä¸ºç»§æ‰¿è€Œè®¾è®¡ï¼Œå¹¶æä¾›æ–‡æ¡£è¯´æ˜ï¼Œè¦ä¹ˆå°±ç¦æ­¢ç»§æ‰¿\" class=\"headerlink\" title=\"è¦ä¹ˆä¸ºç»§æ‰¿è€Œè®¾è®¡ï¼Œå¹¶æä¾›æ–‡æ¡£è¯´æ˜ï¼Œè¦ä¹ˆå°±ç¦æ­¢ç»§æ‰¿\"></a>è¦ä¹ˆä¸ºç»§æ‰¿è€Œè®¾è®¡ï¼Œå¹¶æä¾›æ–‡æ¡£è¯´æ˜ï¼Œè¦ä¹ˆå°±ç¦æ­¢ç»§æ‰¿</h2><p>ä¸ºäº†å…è®¸ç»§æ‰¿ï¼Œç±»çš„æ„é€ å™¨ç»ä¸èƒ½è°ƒç”¨å¯è¢«è¦†ç›–çš„æ–¹æ³•ã€‚å› ä¸ºè¶…ç±»çš„æ„é€ å™¨åœ¨å­ç±»çš„æ„é€ å™¨ä¹‹å‰è¿è¡Œï¼Œæ‰€ä»¥å­ç±»ä¸­è¦†ç›–ç‰ˆæœ¬çš„æ–¹æ³•ä¼šåœ¨å­ç±»æ„é€ å™¨ä¹‹å‰å°±å…ˆè¢«è°ƒç”¨ã€‚</p>\n<p>å¯¹äºé‚£äº›å¹¶éä¸ºäº†å®‰å…¨åœ°è¿›è¡Œå­ç±»åŒ–è€Œè®¾è®¡å’Œç¼–å†™æ–‡æ¡£çš„ç±»ï¼Œè¦ç¦æ­¢å­ç±»åŒ–ã€‚<br>è¦ä¹ˆæŠŠè¿™ä¸ªç±»å£°æ˜ä¸ºfinalï¼Œè¦ä¹ˆæŠŠæ‰€æœ‰æ„é€ å™¨å˜ä¸ºç§æœ‰æˆ–åŒ…çº§ç§æœ‰ï¼Œå¹¶å¢åŠ ä¸€äº›å…¬æœ‰çš„é™æ€å·¥å‚æ¥æ›¿ä»£æ„é€ å™¨ã€‚</p>\n<hr>\n<h2 id=\"æ¥å£ä¼˜äºæŠ½è±¡ç±»\"><a href=\"#æ¥å£ä¼˜äºæŠ½è±¡ç±»\" class=\"headerlink\" title=\"æ¥å£ä¼˜äºæŠ½è±¡ç±»\"></a>æ¥å£ä¼˜äºæŠ½è±¡ç±»</h2><p>æŠ½è±¡ç±»å…è®¸åŒ…å«æŸäº›æ–¹æ³•çš„å®ç°ï¼Œä½†æ¥å£ä¸è¡Œã€‚<br>ä¸ºäº†å®ç°ç”±æŠ½è±¡ç±»å®šä¹‰çš„ç±»å‹ï¼Œç±»å¿…é¡»æˆä¸ºæŠ½è±¡ç±»çš„ä¸€ä¸ªå­ç±»ã€‚Javaåªå…è®¸å•ç»§æ‰¿ã€‚</p>\n<p>æ¥å£å…è®¸æ„é€ éå±‚æ¬¡ç»“æ„çš„ç±»å‹æ¡†æ¶ã€‚</p>\n<hr>\n<h2 id=\"æ¥å£åªç”¨äºå®šä¹‰ç±»å‹\"><a href=\"#æ¥å£åªç”¨äºå®šä¹‰ç±»å‹\" class=\"headerlink\" title=\"æ¥å£åªç”¨äºå®šä¹‰ç±»å‹\"></a>æ¥å£åªç”¨äºå®šä¹‰ç±»å‹</h2><p>å¸¸é‡æ¥å£æ¨¡å¼æ˜¯å¯¹æ¥å£çš„ä¸è‰¯ä½¿ç”¨ï¼Œå°†å®ç°ç»†èŠ‚æ³„æ¼åˆ°è¯¥ç±»çš„å¯¼å‡ºAPIä¸­ã€‚</p>\n<p>å¦‚æœå¤§é‡åˆ©ç”¨å·¥å…·ç±»å¯¼å‡ºçš„å¸¸é‡ï¼Œå¯ä»¥åˆ©ç”¨é™æ€å¯¼å…¥æœºåˆ¶ï¼Œé¿å…ç”¨ç±»åæ¥ä¿®é¥°å¸¸é‡åã€‚</p>\n<p>æ¥å£åº”è¯¥åªè¢«ç”¨æ¥å®šä¹‰ç±»å‹ï¼Œä¸åº”è¯¥è¢«ç”¨æ¥å¯¼å‡ºå¸¸é‡ã€‚</p>\n<hr>\n<h2 id=\"ç±»å±‚æ¬¡ä¼˜äºæ ‡ç­¾ç±»\"><a href=\"#ç±»å±‚æ¬¡ä¼˜äºæ ‡ç­¾ç±»\" class=\"headerlink\" title=\"ç±»å±‚æ¬¡ä¼˜äºæ ‡ç­¾ç±»\"></a>ç±»å±‚æ¬¡ä¼˜äºæ ‡ç­¾ç±»</h2><p>æ ‡ç­¾ç±» tagged class è¿‡äºå†—é•¿ï¼Œå®¹æ˜“å‡ºé”™ï¼Œæ•ˆç‡åº•ä¸‹ã€‚<br>ä¸¾ä¾‹ï¼š Figure ç±»åŒæ—¶åŒ…å« CIRCLE,RECTANGLE çš„å„ç§å±æ€§å’Œæ–¹æ³•ã€‚<br>è§£å†³æ–¹æ¡ˆï¼š<br>å°†æ ‡ç­¾ç±»è½¬æ¢ä¸ºç±»å±‚æ¬¡ã€‚ä¾‹å¦‚ Figureç±»åªéœ€è¦<code>area</code>çš„æ–¹æ³•ï¼Œè€Œå…¶ä»–çš„ä¸œè¥¿ç±»ä¼¼radiusé’ˆå¯¹äºåœ†å½¢ã€lengthå’Œwidthé’ˆå¯¹äºçŸ©å½¢çš„æ”¾åœ¨å„è‡ªå­ç±»ä¸­ã€‚</p>\n<p>ç±»å±‚æ¬¡çš„å¥½å¤„ï¼š<br>åæ˜ ç±»å‹ä¹‹é—´æœ¬è´¨ä¸Šçš„å±‚æ¬¡å…³ç³»ï¼Œæœ‰åŠ©äºå¢å¼ºçµæ´»æ€§ï¼Œå¹¶è¿›è¡Œæ›´å¥½çš„ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ã€‚</p>\n<hr>\n<h2 id=\"ç”¨å‡½æ•°å¯¹è±¡è¡¨ç¤ºç­–ç•¥\"><a href=\"#ç”¨å‡½æ•°å¯¹è±¡è¡¨ç¤ºç­–ç•¥\" class=\"headerlink\" title=\"ç”¨å‡½æ•°å¯¹è±¡è¡¨ç¤ºç­–ç•¥\"></a>ç”¨å‡½æ•°å¯¹è±¡è¡¨ç¤ºç­–ç•¥</h2><p>å‡½æ•°æŒ‡é’ˆçš„ä¸»è¦ç”¨é€”å°±æ˜¯å®ç°ç­–ç•¥æ¨¡å¼ã€‚åœ¨JAVAä¸­ï¼Œè¦å£°æ˜ä¸€ä¸ªæ¥å£æ¥è¡¨ç¤ºè¯¥ç­–ç•¥ï¼Œå¹¶ä¸ºæ¯ä¸ªå…·ä½“ç­–ç•¥å£°æ˜ä¸€ä¸ªå®ç°äº†è¯¥æ¥å£çš„ç±»ã€‚å½“ä¸€ä¸ªå…·ä½“ç­–ç•¥åªè¢«ä½¿ç”¨ä¸€æ¬¡æ—¶ï¼Œé€šå¸¸ä½¿ç”¨åŒ¿åç±»æ¥å£°æ˜å’Œå®ä¾‹åŒ–è¿™ä¸ªå…·ä½“ç­–ç•¥ç±»ã€‚ å½“ä¸€ä¸ªå…·ä½“ç­–ç•¥æ˜¯è®¾è®¡ç”¨æ¥é‡å¤ä½¿ç”¨çš„æ—¶å€™ï¼Œå®ƒçš„ç±»é€šå¸¸å°±è¦è¢«å®ç°ä¸ºç§æœ‰çš„é™æ€æˆå‘˜ç±»ï¼Œå¹¶é€šè¿‡å…¬æœ‰çš„é™æ€finalåŸŸè¢«å¯¼å‡ºï¼Œå…¶ç±»å‹ä¸ºè¯¥ç­–ç•¥æ¥å£ã€‚</p>\n<hr>\n<h2 id=\"ä¼˜å…ˆè€ƒè™‘é™æ€æˆå‘˜ç±»\"><a href=\"#ä¼˜å…ˆè€ƒè™‘é™æ€æˆå‘˜ç±»\" class=\"headerlink\" title=\"ä¼˜å…ˆè€ƒè™‘é™æ€æˆå‘˜ç±»\"></a>ä¼˜å…ˆè€ƒè™‘é™æ€æˆå‘˜ç±»</h2><p>åµŒå¥—ç±» â€“ è¢«å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨çš„ç±»ã€‚<br>åµŒå¥—ç±»æœ‰å››ç§ï¼š</p>\n<ol>\n<li><p>é™æ€æˆå‘˜ç±» static member class<br>å¯ä»¥è®¿é—®å¤–å›´ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬å£°æ˜ä¸ºç§æœ‰çš„æˆå‘˜ã€‚<br>é™æ€æˆå‘˜ç±»çš„å£°æ˜ä¸­åŒ…å«<code>static</code><br>å¦‚æœå£°æ˜æˆå‘˜ç±»ä¸è¦æ±‚è®¿é—®å¤–å›´å®ä¾‹ï¼Œå°±è¦ä½¿ç”¨é™æ€æˆå‘˜ã€‚</p>\n</li>\n<li><p>éé™æ€æˆå‘˜ç±» nonstatic member class<br>åœ¨å…¶å†…éƒ¨ï¼Œå¯ä»¥è°ƒç”¨å¤–å›´å®ä¾‹çš„æ–¹æ³•ï¼Œæˆ–åˆ©ç”¨ä¿®é¥°è¿‡çš„thisæ„é€ è·å¾—å¤–å›´å®ä¾‹çš„å¼•ç”¨ã€‚<br>å¦‚æœåµŒå¥—ç±»çš„å®ä¾‹å¯ä»¥åœ¨å®ƒå¤–å›´ç±»çš„å®ä¾‹ä¹‹å¤–ç‹¬ç«‹å­˜åœ¨ï¼Œè¿™ä¸ªåµŒå¥—ç±»å¿…é¡»æ˜¯é™æ€æˆå‘˜ç±»ã€‚<br>åœ¨æ²¡æœ‰å¤–å›´å®ä¾‹çš„æƒ…å†µä¸‹ï¼Œè¦æƒ³åˆ›å»ºéé™æ€æˆå‘˜ç±»çš„å®ä¾‹æ˜¯ä¸å¯èƒ½çš„ã€‚<br>å¸¸è§ç”¨æ³•ï¼š å®šä¹‰ä¸€ä¸ªAdapter</p>\n</li>\n<li>åŒ¿åç±» anouymous class<br>å¸¸è§ç”¨æ³•ï¼š åŠ¨æ€åœ°åˆ›å»ºå‡½æ•°å¯¹è±¡ï¼› åˆ›å»ºè¿‡ç¨‹å¯¹è±¡ï¼› åœ¨é™æ€å·¥å‚æ–¹æ³•å†…éƒ¨ã€‚</li>\n<li>å±€éƒ¨ç±» local class</li>\n</ol>\n<p>å¦‚æœåµŒå¥—ç±»éœ€è¦åœ¨å•ä¸ªæ–¹æ³•ä¹‹å¤–ä»å¯è§æˆ–è€…å¤ªé•¿äº†ä¸é€‚åˆæ”¾åœ¨æ–¹æ³•å†…éƒ¨ï¼Œå°±åº”è¯¥ä½¿ç”¨æˆå‘˜ç±»ã€‚å¦‚æœæˆå‘˜ç±»çš„æ¯ä¸ªå®ä¾‹éƒ½éœ€è¦ä¸€ä¸ªæŒ‡å‘å…¶å¤–å›´å®ä¾‹çš„å¼•ç”¨ï¼Œå°±åšæˆéé™æ€ï¼›å¦åˆ™å°±åšæˆé™æ€çš„ã€‚<br>å‡è®¾è¿™ä¸ªåµŒå¥—ç±»å±äºä¸€ä¸ªæ–¹æ³•çš„å†…éƒ¨ï¼Œå¦‚æœåªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹åˆ›å»ºå®ä¾‹ï¼Œå¹¶ä¸”å·²ç»æœ‰äº†ä¸€ä¸ªé¢„ç½®çš„ç±»å‹å¯ä»¥è¯´æ˜è¿™ä¸ªç±»çš„ç‰¹å¾ï¼Œå°±åšæˆåŒ¿åç±»ï¼Œå¦åˆ™å°±åšæˆå±€éƒ¨ç±»ã€‚</p>\n","categories":["åå°å¼€å‘","JAVAå¼€å‘"],"tags":["JAVA","Effective Java"]},{"title":"å¯¹äºæ‰€æœ‰å¯¹è±¡éƒ½é€šç”¨çš„æ–¹æ³•--ã€ŠEffective Javaã€‹","url":"http://yoursite.com/2017/02/07/effective-java-ch3-function/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æœ¬æ–‡ä¸ºé˜…è¯»ã€ŠEffective Javaã€‹ç¬¬ä¸‰ç« é˜…è¯»ç¬”è®°ã€‚</p>\n<hr>\n<h2 id=\"è¦†ç›–equalsæ—¶è¯·éµå®ˆé€šç”¨çº¦å®š\"><a href=\"#è¦†ç›–equalsæ—¶è¯·éµå®ˆé€šç”¨çº¦å®š\" class=\"headerlink\" title=\"è¦†ç›–equalsæ—¶è¯·éµå®ˆé€šç”¨çº¦å®š\"></a>è¦†ç›–equalsæ—¶è¯·éµå®ˆé€šç”¨çº¦å®š</h2><h3 id=\"ä»€ä¹ˆæ—¶å€™åº”è¯¥è¦†ç›–Object-equalsï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ—¶å€™åº”è¯¥è¦†ç›–Object-equalsï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ—¶å€™åº”è¯¥è¦†ç›–Object.equalsï¼Ÿ\"></a>ä»€ä¹ˆæ—¶å€™åº”è¯¥è¦†ç›–<code>Object.equals</code>ï¼Ÿ</h3><p>-å¦‚æœç±»å…·æœ‰è‡ªå·±çš„â€œé€»è¾‘ç›¸ç­‰â€ï¼Œä¸”è¶…ç±»æ²¡æœ‰è¦†ç›–equalsæ¥å®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚</p>\n<h3 id=\"è¦†ç›–equalsæ–¹æ³•çš„çº¦å®š\"><a href=\"#è¦†ç›–equalsæ–¹æ³•çš„çº¦å®š\" class=\"headerlink\" title=\"è¦†ç›–equalsæ–¹æ³•çš„çº¦å®š\"></a>è¦†ç›–equalsæ–¹æ³•çš„çº¦å®š</h3><ul>\n<li>è‡ªåæ€§<br>å¯¹äºä»»ä½•énullçš„å¼•ç”¨å€¼xï¼Œ <code>x.equals(x)</code>å¿…é¡»è¿”å›true</li>\n<li>å¯¹ç§°æ€§<br>å¯¹äºä»»ä½•énullçš„å¼•ç”¨å€¼xå’Œyï¼Œå½“ä¸”ä»…å½“<code>y.equals(x)</code>è¿”å›trueæ—¶ï¼Œ<code>x.equals(y)</code>å¿…é¡»è¿”å›trueã€‚</li>\n<li>ä¼ é€’æ€§<br>å¯¹äºä»»ä½•énullçš„å¼•ç”¨å€¼xã€yå’Œzï¼Œå¦‚æœ<code>x.equals(y)</code>è¿”å›trueï¼Œå¹¶ä¸”<code>y.equals(z)</code>ä¹Ÿtrueï¼Œåˆ™<code>x.equals(z)</code>å¿…é¡»trueã€‚</li>\n<li>ä¸€è‡´æ€§<br>å¯¹äºä»»ä½•énullçš„å¼•ç”¨å€¼xå’Œyï¼Œåªè¦æ¯”è¾ƒæ“ä½œåœ¨å¯¹è±¡ä¸­æ‰€ç”¨çš„ä¿¡æ¯æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå¤šæ¬¡è°ƒç”¨<code>x.equals(y)</code>ç»“æœéƒ½ä¼šä¸€è‡´ã€‚</li>\n<li>å¯¹äºä»»ä½•énullçš„å¼•ç”¨å€¼xï¼Œ<code>x.equals(null) = false</code></li>\n</ul>\n<h3 id=\"å®ç°é«˜è´¨é‡equalsæ–¹æ³•è¯€çª\"><a href=\"#å®ç°é«˜è´¨é‡equalsæ–¹æ³•è¯€çª\" class=\"headerlink\" title=\"å®ç°é«˜è´¨é‡equalsæ–¹æ³•è¯€çª\"></a>å®ç°é«˜è´¨é‡equalsæ–¹æ³•è¯€çª</h3><ol>\n<li>ä½¿ç”¨ == æ“ä½œç¬¦æ£€æŸ¥â€œå‚æ•°æ˜¯å¦ä¸ºè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨â€ã€‚å¦‚æœæ˜¯åˆ™è¿”å›trueã€‚</li>\n<li>ä½¿ç”¨ instanceof æ“ä½œç¬¦æ£€æŸ¥â€œå‚æ•°æ˜¯å¦ä¸ºæ­£ç¡®ç±»å‹â€ã€‚å¦‚æœä¸æ˜¯åˆ™è¿”å›falseã€‚</li>\n<li>æŠŠå‚æ•°è½¬æ¢ä¸ºæ­£ç¡®ç±»å‹</li>\n<li>å¯¹äºè¯¥ç±»ä¸­æ¯ä¸ªâ€œå…³é”®â€åŸŸï¼Œæ£€æŸ¥å‚æ•°ä¸­çš„åŸŸæ˜¯å¦ä¸è¯¥å¯¹è±¡ä¸­å¯¹åº”çš„åŸŸç›¸åŒ¹é…ã€‚</li>\n<li>ç¼–å†™å®Œæˆåè§æ£€æŸ¥æ˜¯å¦å¯¹ç§°ã€ä¼ é€’ã€ä¸€è‡´</li>\n<li>è¦†ç›–equalsæ—¶æ€»è¦è¦†ç›–hashCode</li>\n<li>ä¸å•Šå“Ÿå°†equalså£°æ˜ä¸­çš„Objectå¯¹è±¡æ›¿æ¢ä¸ºå…¶ä»–ç±»å‹</li>\n</ol>\n<hr>\n<h2 id=\"è¦†ç›–equalsæ—¶æ€»è¦è¦†ç›–hashCode\"><a href=\"#è¦†ç›–equalsæ—¶æ€»è¦è¦†ç›–hashCode\" class=\"headerlink\" title=\"è¦†ç›–equalsæ—¶æ€»è¦è¦†ç›–hashCode\"></a>è¦†ç›–equalsæ—¶æ€»è¦è¦†ç›–hashCode</h2><p>Objectè§„èŒƒä¸­ï¼š </p>\n<ul>\n<li>åœ¨åº”ç”¨ç¨‹åºæ‰§è¡ŒæœŸé—´ï¼Œåªè¦å¯¹è±¡çš„equalsæ–¹æ³•çš„æ¯”è¾ƒæ“ä½œæ‰€ç”¨åˆ°ä¿¡æ¯æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œè¿™åŒä¸€ä¸ªå¯¹è±¡è°ƒç”¨å¤šæ¬¡ï¼ŒhashCodeæ–¹æ³•å¿…é¡»è¿”å›ä¸€è‡´çš„ç­”æ¡ˆã€‚åœ¨åŒä¸€ä¸ªåº”ç”¨ç¨‹åºçš„å¤šæ¬¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡æ‰§è¡Œè¿”å›çš„æ•´æ•°å¯ä»¥ä¸ä¸€è‡´ã€‚</li>\n<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡æ ¹æ®equalsæ–¹æ³•æ¯”è¾ƒæ˜¯ç›¸ç­‰çš„ï¼Œé‚£ä¹ˆè°ƒç”¨ä¸¤ä¸ªå¯¹è±¡ä¸­ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„hashCodeæ–¹æ³•éƒ½å¿…é¡»äº§ç”ŸåŒæ ·çš„æ•´æ•°ç»“æœã€‚</li>\n<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡æ ¹æ®equalsæ–¹æ³•æ¯”è¾ƒæ˜¯ä¸ç­‰ï¼Œé‚£ä¹ˆè°ƒç”¨ä¸¤ä¸ªå¯¹è±¡ä¸­ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„hashCodeæ–¹æ³•ä¸ä¸€å®šè¦äº§ç”Ÿä¸åŒçš„æ•´æ•°ç»“æœã€‚ä½†æ˜¯ç»™ä¸ç›¸ç­‰çš„å¯¹è±¡äº§ç”Ÿæˆªç„¶ä¸åŒçš„æ•´æ•°ç»“æœï¼Œæœ‰å¯èƒ½æé«˜æ•£åˆ—è¡¨æ€§èƒ½ã€‚</li>\n</ul>\n<hr>\n<h2 id=\"å§‹ç»ˆè¦è¦†ç›–toString\"><a href=\"#å§‹ç»ˆè¦è¦†ç›–toString\" class=\"headerlink\" title=\"å§‹ç»ˆè¦è¦†ç›–toString\"></a>å§‹ç»ˆè¦è¦†ç›–toString</h2><p><code>java.lang.Object</code>çš„toStringå®ç°è¿”å›çš„å­—ç¬¦ä¸²æ˜¯ ç±»åç§°+ @ + æ•£åˆ—ç çš„æ— ç¬¦å·åå…­æœºåˆ¶è¡¨ç¤ºæ³•ã€‚<br>å½“è°ƒç”¨<code>println</code>ã€<code>printf</code>ã€<code>+</code>ä»¥åŠ<code>assert</code>æˆ–è¢«è°ƒè¯•å™¨æ‰“å°å‡ºæ¥ï¼ŒtoStringæ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚</p>\n<hr>\n<h2 id=\"è°¨æ…åœ°è¦†ç›–clone\"><a href=\"#è°¨æ…åœ°è¦†ç›–clone\" class=\"headerlink\" title=\"è°¨æ…åœ°è¦†ç›–clone\"></a>è°¨æ…åœ°è¦†ç›–clone</h2><p>å®ç°å¯¹è±¡æ‹·è´çš„æ–¹æ³•æœ‰ä»¥ä¸‹ï¼š</p>\n<ul>\n<li>ä¸€ä¸ªå®ç°äº†<code>Cloneable</code>æ¥å£çš„ç±»ï¼Œç”¨ä¸€ä¸ªå…¬æœ‰æ–¹æ³•è¦†ç›–<code>loneã€‚å…ˆè°ƒç”¨</code>super.clone`ç„¶åä¿®æ­£ä»»ä½•éœ€è¦ä¿®æ­£çš„åŸŸã€‚</li>\n<li>æä¾›ä¸€ä¸ªæ‹·è´æ„é€ å™¨æˆ–æ‹·è´å·¥å‚ã€‚</li>\n</ul>\n<p>ç¬¬äºŒç§æ–¹æ³•æ›´å…·ä¼˜åŠ¿ã€‚<br>æ‹·è´æ„é€ å™¨:</p>\n<pre><code>public Yum(Yum yum);\n</code></pre><p>æ‹·è´å·¥å‚æ˜¯ç±»ä¼¼äºæ‹·è´æ„é€ å™¨çš„é™æ€å·¥å‚ï¼š</p>\n<pre><code>public static Yum newInstance(Yum yum);\n</code></pre><hr>\n<h2 id=\"è€ƒè™‘å®ç°Comparableæ¥å£\"><a href=\"#è€ƒè™‘å®ç°Comparableæ¥å£\" class=\"headerlink\" title=\"è€ƒè™‘å®ç°Comparableæ¥å£\"></a>è€ƒè™‘å®ç°Comparableæ¥å£</h2><p><code>compareTo</code>æ–¹æ³•æ˜¯<code>Comparable</code>æ¥å£ä¸­å”¯ä¸€çš„æ–¹æ³•ã€‚ä¸ä½†å…è®¸è¿›è¡Œç®€å•çš„ç­‰åŒæ€§æ¯”è¾ƒï¼Œè€Œä¸”å…è®¸æ‰§è¡Œé¡ºåºæ¯”è¾ƒã€‚<br>ä¸€æ—¦ç±»å®ç°Comparableæ¥å£ï¼Œå°±å¯ä»¥å’Œè®¸å¤šæ³›å‹ç®—æ³•å’Œä¾èµ–äºè¯¥æ¥å£çš„é›†åˆå®ç°è¿›è¡Œåä½œã€‚</p>\n","categories":["åå°å¼€å‘","JAVAå¼€å‘"],"tags":["JAVA","Effective Java"]},{"title":"JAVAåˆ›å»ºå’Œé”€æ¯å¯¹è±¡--ã€ŠEffective Javaã€‹","url":"http://yoursite.com/2017/02/06/effective-java-ch2-object/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æœ¬æ–‡ä¸ºé˜…è¯»ã€ŠEffective Javaã€‹ç¬¬äºŒç« çš„ç¬”è®°ã€‚</p>\n<h2 id=\"ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨\"><a href=\"#ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨\" class=\"headerlink\" title=\"ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨\"></a>ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨</h2><h3 id=\"é™æ€å·¥å‚æ–¹æ³•ä¼˜åŠ¿\"><a href=\"#é™æ€å·¥å‚æ–¹æ³•ä¼˜åŠ¿\" class=\"headerlink\" title=\"é™æ€å·¥å‚æ–¹æ³•ä¼˜åŠ¿\"></a>é™æ€å·¥å‚æ–¹æ³•ä¼˜åŠ¿</h3><ul>\n<li>æœ‰åç§°-è°ƒç”¨æ›´æ¸…æ™°</li>\n<li>æ¯æ¬¡è°ƒç”¨æ—¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</li>\n<li>å¯ä»¥è¿”å›åŸè¿”å›ç±»å‹çš„ä»»ä½•å­ç±»å‹çš„å¯¹è±¡</li>\n<li>åˆ›å»ºå‚æ•°åŒ–ç±»å‹å®ä¾‹çš„æ—¶å€™ï¼Œä½¿ä»£ç æ›´ç®€æ´<h3 id=\"é™æ€å·¥å‚æ–¹æ³•ç¼ºç‚¹\"><a href=\"#é™æ€å·¥å‚æ–¹æ³•ç¼ºç‚¹\" class=\"headerlink\" title=\"é™æ€å·¥å‚æ–¹æ³•ç¼ºç‚¹\"></a>é™æ€å·¥å‚æ–¹æ³•ç¼ºç‚¹</h3></li>\n<li>ç±»å¦‚æœä¸å«å…±æœ‰çš„æˆ–å—ä¿æŠ¤çš„æ„é€ å™¨ï¼Œå°±ä¸èƒ½è¢«å­ç±»åŒ–</li>\n<li>ä¸å…¶ä»–é™æ€æ–¹æ³•å®é™…ä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«</li>\n</ul>\n<hr>\n<h2 id=\"é‡åˆ°å¤šä¸ªæ„é€ å™¨å‚æ•°æ—¶è¦è€ƒè™‘ç”¨æ„å»ºå™¨\"><a href=\"#é‡åˆ°å¤šä¸ªæ„é€ å™¨å‚æ•°æ—¶è¦è€ƒè™‘ç”¨æ„å»ºå™¨\" class=\"headerlink\" title=\"é‡åˆ°å¤šä¸ªæ„é€ å™¨å‚æ•°æ—¶è¦è€ƒè™‘ç”¨æ„å»ºå™¨\"></a>é‡åˆ°å¤šä¸ªæ„é€ å™¨å‚æ•°æ—¶è¦è€ƒè™‘ç”¨æ„å»ºå™¨</h2><h3 id=\"é‡å æ„é€ å™¨æ¨¡å¼\"><a href=\"#é‡å æ„é€ å™¨æ¨¡å¼\" class=\"headerlink\" title=\" é‡å æ„é€ å™¨æ¨¡å¼\"></a><strong> é‡å æ„é€ å™¨æ¨¡å¼</strong></h3><p>ä½†æ˜¯ï¼Œåœ¨æœ‰å¾ˆå¤šå‚æ•°æ—¶ï¼Œå®¢æˆ·ç«¯ä»£ç éš¾ä»¥ç¼–å†™ä¸”éš¾ä»¥é˜…è¯»ã€‚</p>\n<h3 id=\"JavaBeansæ¨¡å¼-ã€‚\"><a href=\"#JavaBeansæ¨¡å¼-ã€‚\" class=\"headerlink\" title=\" JavaBeansæ¨¡å¼ ã€‚\"></a><strong> JavaBeansæ¨¡å¼</strong> ã€‚</h3><p>è°ƒç”¨ä¸€ä¸ªæ— å‚æ„é€ å™¨æ¥åˆ›å»ºå¯¹è±¡ï¼Œè°ƒç”¨<code>setter</code>æ–¹æ³•æ¥è®¾ç½®å‚æ•°ã€‚<br>ç¼ºç‚¹ï¼šæ„é€ è¿‡ç¨‹è¢«åˆ†åˆ°äº†å‡ ä¸ªè°ƒç”¨ï¼Œå¯¼è‡´å¯èƒ½å¤„äºä¸ä¸€è‡´çŠ¶æ€ã€‚</p>\n<h3 id=\"Builderæ¨¡å¼\"><a href=\"#Builderæ¨¡å¼\" class=\"headerlink\" title=\"Builderæ¨¡å¼\"></a>Builderæ¨¡å¼</h3><p>è®©å®¢æˆ·ç«¯åˆ©ç”¨æ‰€æœ‰å¿…è¦å‚æ•°è°ƒç”¨æ„é€ å™¨/é™æ€å·¥å‚ï¼Œå¾—åˆ°builderå¯¹è±¡ï¼Œå†è°ƒç”¨ç±»ä¼¼äºsetteræ–¹æ³•ï¼Œæœ€åè°ƒç”¨æ— å‚çš„buildæ–¹æ³•æ¥ç”Ÿæˆä¸å¯å˜å¯¹è±¡ã€‚</p>\n<pre><code>public class NutritionFacts {\n    private final int servingSize;\n    private final int servings;\n    private final int calories;\n    private final int fat;\n    private final int sodium;\n    private final int carbohydrate;\n\n    public static class Builder {\n        //Required parameters\n        private final int servingSize;\n        private final int servings;\n\n        //Optional parameters - initialized to default values\n        private int calories     = 0;\n        private int fat          = 0;\n        private int carbohydrate = 0;\n        private int sodium       = 0;\n\n\n        public Builder(int servingSize, int servings) {\n            this.servingSize = servingSize;\n            this.servings = servings;\n        }\n\n        public Builder calories(int val){\n            calories = val; return this;\n        }\n        public Builder fat(int val){\n            fat = val; return this;\n        }\n        public Builder carbohydrate(int val){\n            carbohydrate = val; return this;\n        }\n        public Builder sodium(int val){\n            sodium = val; return this;\n        }\n\n        public NutritionFacts build(){\n            return new NutritionFacts(this);\n        }\n    }\n\n    private NutritionFacts(Builder builder) {\n        servings     = builder.servings;\n        servingSize  = builder.servingSize;\n        calories     = builder.calories;\n        fat          = builder.fat;\n        sodium       = builder.sodium;\n        carbohydrate = builder.carbohydrate;\n    }\n}\n\n//Client\nNutritionFacts cocaCola = new NutritionFacts.Builder(240, 8).\n    calories(100).sodium(35).carbohydrate(27).build();\n</code></pre><p>builderå¯ä»¥æ£€éªŒçº¦æŸæ¡ä»¶ï¼Œå¹¶ä¸”å¯æœ‰å¤šä¸ªå¯å˜å‚æ•°ã€‚<br>ä½†æ˜¯Builderæ¨¡å¼æ›´ä¸ºå†—é•¿ï¼Œåªæœ‰åœ¨å¾ˆå¤šå‚æ•°ï¼ˆ&gt;=4ï¼‰æ—¶æ‰ä½¿ç”¨ã€‚</p>\n<hr>\n<h2 id=\"ç”¨ç§æœ‰æ„é€ å™¨æˆ–æšä¸¾ç±»å‹å¼ºåŒ–Singletonå±æ€§\"><a href=\"#ç”¨ç§æœ‰æ„é€ å™¨æˆ–æšä¸¾ç±»å‹å¼ºåŒ–Singletonå±æ€§\" class=\"headerlink\" title=\"ç”¨ç§æœ‰æ„é€ å™¨æˆ–æšä¸¾ç±»å‹å¼ºåŒ–Singletonå±æ€§\"></a>ç”¨ç§æœ‰æ„é€ å™¨æˆ–æšä¸¾ç±»å‹å¼ºåŒ–Singletonå±æ€§</h2><p>å•å…ƒç´ çš„æšä¸¾ç±»å‹å·²ç»æˆä¸ºå®ç°Singletonçš„æœ€ä½³æ–¹æ³•ã€‚</p>\n<pre><code>public enum Elvis {\n    INSTANCE;\n\n    public void leaveTheBuilding() {...}\n}\n</code></pre><p>è¿™ç§æ–¹å¼æä¾›äº†åºåˆ—åŒ–æœºåˆ¶ï¼Œå¹¶å¯é˜²æ­¢å¤šæ¬¡å®ä¾‹åŒ–ã€‚</p>\n<hr>\n<h2 id=\"é€šè¿‡ç§æœ‰æ„é€ å™¨å¼ºåŒ–ä¸å¯å®ä¾‹åŒ–çš„èƒ½åŠ›\"><a href=\"#é€šè¿‡ç§æœ‰æ„é€ å™¨å¼ºåŒ–ä¸å¯å®ä¾‹åŒ–çš„èƒ½åŠ›\" class=\"headerlink\" title=\"é€šè¿‡ç§æœ‰æ„é€ å™¨å¼ºåŒ–ä¸å¯å®ä¾‹åŒ–çš„èƒ½åŠ›\"></a>é€šè¿‡ç§æœ‰æ„é€ å™¨å¼ºåŒ–ä¸å¯å®ä¾‹åŒ–çš„èƒ½åŠ›</h2><p>ä¸ºäº†ä¸è¢«å®ä¾‹åŒ–ï¼Œå¯ä½¿ç”¨ç§æœ‰æ„é€ å™¨æ¥å®ç°ã€‚</p>\n<pre><code>//Noninstantiable utility class\npublic class UtilityClass {\n    private UtilityClass() {\n        throw new AssertionError();\n    }\n\n    ... // Remainder omitted\n}\n</code></pre><p>è¿™ç§æ–¹å¼ä½¿å¾—ä¸€ä¸ªç±»ä¸èƒ½è¢«å­ç±»åŒ–ã€‚<br>æ‰€æœ‰æ„é€ å™¨å¿…é¡»æ˜¾å¼æˆ–éšå¼è°ƒç”¨è¶…ç±»æ„é€ å™¨ï¼Œåœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œå­ç±»å°±æ²¡æœ‰å¯è®¿é—®çš„è¶…ç±»æ„é€ å™¨è°ƒç”¨ã€‚</p>\n<hr>\n<h2 id=\"é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡\"><a href=\"#é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡\" class=\"headerlink\" title=\"é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡\"></a>é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡</h2><p>é‡ç”¨ä¸å¯å˜å¯¹è±¡ï¼Œé‡ç”¨å·²çŸ¥ä¸ä¼šè¢«ä¿®æ”¹çš„å¯å˜å¯¹è±¡ã€‚</p>\n<p>å¯¹äºåŒæ—¶æä¾›äº†é™æ€å·¥å‚æ–¹æ³•å’Œæ„é€ å™¨çš„ä¸å¯å˜ç±»ï¼Œé€šå¸¸å¯ä»¥ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•ï¼Œé¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡ã€‚æ„é€ å™¨æ¯æ¬¡è¢«è°ƒç”¨æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p>\n<p>è‡ªåŠ¨è£…ç®±ï¼ˆautoboxingï¼‰â€“ åˆ›å»ºå¤šä½™å¯¹è±¡çš„æ–°æ–¹æ³•ã€‚è¦ä¼˜å…ˆä½¿ç”¨åŸºæœ¬ç±»å‹è€Œä¸æ˜¯è£…ç®±åŸºæœ¬ç±»å‹ã€‚</p>\n<hr>\n<h2 id=\"æ¶ˆé™¤è¿‡æœŸçš„å¯¹è±¡è°ƒç”¨\"><a href=\"#æ¶ˆé™¤è¿‡æœŸçš„å¯¹è±¡è°ƒç”¨\" class=\"headerlink\" title=\"æ¶ˆé™¤è¿‡æœŸçš„å¯¹è±¡è°ƒç”¨\"></a>æ¶ˆé™¤è¿‡æœŸçš„å¯¹è±¡è°ƒç”¨</h2><p>åªè¦ç±»æ˜¯è‡ªå·±ç®¡ç†å†…å­˜ï¼Œå°±åº”è¯¥è­¦æƒ•å†…å­˜æ³„æ¼é—®é¢˜ã€‚ä¸€æ—¦å…ƒç´ è¢«é‡Šæ”¾æ‰ï¼Œåˆ™è¯¥å…ƒç´ ä¸­åŒ…å«çš„ä»»ä½•å¯¹è±¡å¼•ç”¨éƒ½åº”è¯¥è¢«æ¸…ç©ºã€‚<br>å¸¸è§çš„å†…å­˜æ³„æ¼è¿˜æœ‰ï¼š ç¼“å­˜ã€ç›‘å¬å™¨å’Œå…¶ä»–å›è°ƒã€‚<br>ç¡®ä¿å›è°ƒç«‹å³è¢«å½“ä½œåƒåœ¾å›æ”¶çš„æœ€ä½³æ–¹æ³•æ˜¯åªä¿å­˜å®ƒä»¬çš„å¼±å¼•ç”¨ã€‚</p>\n<hr>\n<h2 id=\"é¿å…ä½¿ç”¨ç»ˆç»“æ–¹æ³•\"><a href=\"#é¿å…ä½¿ç”¨ç»ˆç»“æ–¹æ³•\" class=\"headerlink\" title=\"é¿å…ä½¿ç”¨ç»ˆç»“æ–¹æ³•\"></a>é¿å…ä½¿ç”¨ç»ˆç»“æ–¹æ³•</h2><p>ç»ˆç»“æ–¹æ³•çš„ç¼ºç‚¹åœ¨äºä¸èƒ½ä¿è¯ä¼šè¢«åŠæ—¶åœ°æ‰§è¡Œã€‚<br>ä¸åº”è¯¥ä¾èµ–ç»ˆç»“æ–¹æ³•æ¥æ›´æ–°é‡è¦çš„æŒä¹…çŠ¶æ€ã€‚<br>æ˜¾å¼çš„ç»ˆæ­¢æ–¹æ³•é€šå¸¸ä¸try-finallyç»“æ„ç»“åˆä½¿ç”¨ï¼Œä»¥ç¡®ä¿åŠæ—¶ç»ˆæ­¢ã€‚</p>\n<h4 id=\"ç»ˆæ­¢æ–¹æ³•çš„ç”¨é€”\"><a href=\"#ç»ˆæ­¢æ–¹æ³•çš„ç”¨é€”\" class=\"headerlink\" title=\"ç»ˆæ­¢æ–¹æ³•çš„ç”¨é€”\"></a>ç»ˆæ­¢æ–¹æ³•çš„ç”¨é€”</h4><ul>\n<li>å½“å¯¹è±¡æ‰€æœ‰è€…å¿˜è®°è°ƒç”¨æ˜¾å¼ç»ˆæ­¢æ–¹æ³•æ—¶ï¼Œç»ˆç»“æ–¹æ³•å¯å……å½“â€œå®‰å…¨ç½‘â€ â€“ ç»ˆç»“æ–¹æ³•å‘ç°èµ„æºè¿˜æœªè¢«ç»ˆæ­¢ï¼Œåº”åœ¨æ—¥å¿—ä¸­è®°å½•ä¸€æ¡è­¦å‘Šã€‚</li>\n<li>ç»ˆæ­¢éå…³é”®çš„æœ¬åœ°èµ„æºã€‚</li>\n</ul>\n<p>ä½¿ç”¨äº†ç»ˆç»“æ–¹æ³•å°±è¦è®°ä½è°ƒç”¨<code>super.finalize</code>ã€‚</p>\n","categories":["åå°å¼€å‘","JAVAå¼€å‘"],"tags":["JAVA","Effective Java"]},{"title":"å…³äºè·¨åŸŸ","url":"http://yoursite.com/2016/09/14/cross-domain/","content":"<h1 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h1><p>è½¬çœ¼å°±æ˜¯ç§‹æ‹›å­£å•¦ã€‚ç»å†äº†å‡ åœºç¬”è¯•é¢è¯•ï¼Œå±¡æ¬¡è¢«é—®åˆ°å…³äºå¦‚ä½•å®ç°è·¨åŸŸã€‚è€å®è¯´ï¼Œä¹‹å‰éƒ½æ˜¯çº¸ä¸Šè°ˆå…µï¼Œä¹Ÿæ²¡æœ‰é¡¹ç›®éœ€è¦è·¨åŸŸï¼Œç”šè‡³è§‰å¾—è¿™ä¸ªä¸œè¥¿æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚ç›´åˆ°ä»Šå¤©é¡¹ç›®ä¸­é‡åˆ°äº†è·¨åŸŸé—®é¢˜ï¼Œçœ‹äº†ä¸å°‘èµ„æ–™æ‰ç†è§£è·¨åŸŸçš„æ™®éæ€§å’Œæ„ä¹‰ã€‚ç‰¹å†™æ­¤ç¯‡æ–‡ç« æ•´ç†è‡ªå·±æ‰€å¾—ã€‚</p>\n<h1 id=\"ä»€ä¹ˆæ˜¯è·¨åŸŸ\"><a href=\"#ä»€ä¹ˆæ˜¯è·¨åŸŸ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯è·¨åŸŸ\"></a>ä»€ä¹ˆæ˜¯è·¨åŸŸ</h1><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä½ åœ¨å¼€å‘ä¸­éœ€è¦è¿›è¡Œè·¨åŸŸæ“ä½œï¼ˆä»ä¸€ä¸ªéåŒæºç½‘ç«™å‘é€è¯·æ±‚è·å–æ•°æ®ï¼‰ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œä½ åœ¨æµè§ˆå™¨æ§åˆ¶å°çœ‹åˆ°çš„ç»“æœä¸ºï¼š</p>\n<p><code>XMLHttpRequest cannot load http://external-domain/service. No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource. Origin â€˜http://my-domainâ€™ is therefore not allowed access.</code></p>\n<h2 id=\"åŒæºç­–ç•¥\"><a href=\"#åŒæºç­–ç•¥\" class=\"headerlink\" title=\"åŒæºç­–ç•¥\"></a>åŒæºç­–ç•¥</h2><p>è¯´åˆ°è·¨åŸŸå°±ä¸å¾—ä¸æâ€œåŒæºç­–ç•¥â€ã€‚<br>åŒæºç­–ç•¥æ˜¯Webæµè§ˆå™¨é’ˆå¯¹æ¶æ„çš„ä»£ç æ‰€è¿›è¡Œçš„æªæ–½ï¼Œä¸ºäº†é˜²æ­¢ä¸–ç•Œè¢«ç ´åï¼Œä¸ºäº†ä¿æŠ¤ä¸–ç•Œçš„å’Œå¹³ï¼ŒWebæµè§ˆå™¨ï¼Œé‡‡å–äº†åŒæºç­–ç•¥ï¼Œåªå…è®¸è„šæœ¬è¯»å–å’Œæ‰€å±æ–‡æ¡£æ¥æºç›¸åŒçš„çª—å£å’Œæ–‡æ¡£çš„å±æ€§ã€‚<br>é‚£ä¹ˆï¼Œæ€ä¹ˆåˆ¤æ–­æ–‡æ¡£æ¥æºæ˜¯å¦ç›¸åŒå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œçœ‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š <strong>åè®®</strong>ã€<strong>ä¸»æœº</strong>ã€<strong>ç«¯å£å·</strong>ã€‚åªè¦å…¶ä¸­ä¸€ä¸ªéƒ¨åˆ†ä¸åŒï¼Œåˆ™ä¸åŒæºã€‚</p>\n<h2 id=\"è·¨åŸŸçš„åº”ç”¨åœºæ™¯\"><a href=\"#è·¨åŸŸçš„åº”ç”¨åœºæ™¯\" class=\"headerlink\" title=\"è·¨åŸŸçš„åº”ç”¨åœºæ™¯\"></a>è·¨åŸŸçš„åº”ç”¨åœºæ™¯</h2><ol>\n<li>æ¥è‡ª <code>home.example.com</code> çš„æ–‡æ¡£é‡Œçš„è„šæœ¬è¯»å– <code>developer.example.com</code>è½½å…¥çš„æ–‡æ¡£çš„å±æ€§ã€‚</li>\n<li>æ¥è‡ª <code>home.example.com</code> çš„æ–‡æ¡£é‡Œçš„è„šæœ¬è¯»å– <code>text.segmentfault.com</code>è½½å…¥çš„æ–‡æ¡£çš„å±æ€§</li>\n</ol>\n<h1 id=\"å¦‚ä½•è·¨åŸŸ\"><a href=\"#å¦‚ä½•è·¨åŸŸ\" class=\"headerlink\" title=\"å¦‚ä½•è·¨åŸŸ\"></a>å¦‚ä½•è·¨åŸŸ</h1><h2 id=\"è®¾ç½®domainå±æ€§\"><a href=\"#è®¾ç½®domainå±æ€§\" class=\"headerlink\" title=\"è®¾ç½®domainå±æ€§\"></a>è®¾ç½®<code>domain</code>å±æ€§</h2><p>é’ˆå¯¹ä¸Šè¿°åº”ç”¨åœºæ™¯çš„ç¬¬ä¸€ç§æƒ…å†µï¼Œå¯ä»¥è®¾ç½®<code>Document</code>å¯¹è±¡çš„<code>domain</code>å±æ€§ã€‚ä½†æ˜¯è®¾ç½®æ—¶ä½¿ç”¨çš„å­—ç¬¦ä¸²å¿…é¡»å…·æœ‰æœ‰æ•ˆçš„åŸŸå‰ç¼€æˆ–è€…å®ƒæœ¬èº«ã€‚<br>PS: <code>domain</code>å€¼ä¸­å¿…é¡»æœ‰ä¸€ä¸ªç‚¹å·ã€‚<br>PS: <code>domain</code>ä¸èƒ½ç”±æ¾æ•£çš„å˜ä¸ºç´§ç»·çš„ã€‚</p>\n<pre><code>//åˆå§‹å€¼ &quot;home.example.com&quot; \ndocument.domain = &quot;example.com&quot;; //OK\ndocument.domain = &quot;home.example.com&quot;; //NO,ä¸èƒ½ç”±æ¾æ•£å˜ç´§ç»·\ndocument.domain = &quot;example&quot;; //NOï¼Œå¿…é¡»æœ‰ä¸€ä¸ªç‚¹å·\ndocument.domain = &quot;another.com&quot;; //NOï¼Œ å¿…é¡»æ˜¯æœ‰æ•ˆåŸŸå‰ç¼€æˆ–å…¶æœ¬èº«\n</code></pre><h2 id=\"JSONP\"><a href=\"#JSONP\" class=\"headerlink\" title=\"JSONP\"></a>JSONP</h2><p>JSONPç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š å›è°ƒå‡½æ•°å’Œæ•°æ®ã€‚<br>åŸç†ï¼šé€šè¿‡åŠ¨æ€<code>&lt;script&gt;</code>å…ƒç´ æ¥ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡<code>src</code>å±æ€§æŒ‡å®šä¸€ä¸ªè·¨åŸŸURLã€‚</p>\n<pre><code>function handler(data){\n    console.log(data);\n}\n\nvar script = document.createElement(&quot;script&quot;);\nscript.src = &quot;https://segmentfault.com/json/?callback=handler&quot;;\ndocument.body.insertBefore(script, document.body.firstChild);\n</code></pre><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åˆ©ç”¨<code>jQuery</code>æ¥å®ç°ã€‚</p>\n<pre><code>function jsonCallback(json){\n  console.log(json);\n}\n\n$.ajax({\n  url: &quot;http://run.plnkr.co/plunks/v8xyYN64V4nqCshgjKms/data-2.json&quot;,\n  dataType: &quot;jsonp&quot;\n});\n</code></pre><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š<br><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0918_1.png\" alt=\"ç»“æœ\"></p>\n<p>æŸäº›API(ä¾‹å¦‚<a href=\"https://developer.github.com/v3/#json-p-callbacks\" title=\"Github API\" target=\"_blank\" rel=\"noopener\">Github API</a>)å…è®¸ä½ å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“è¯·æ±‚è¿”å›æ—¶æ‰§è¡Œè¯¥å‡½æ•°ã€‚</p>\n<pre><code>function logResults(json){\n  console.log(json);\n}\n\n$.ajax({\n  url: &quot;https://api.github.com/users/jeresig&quot;,\n  dataType: &quot;jsonp&quot;,\n  jsonpCallback: &quot;logResults&quot;\n});\n</code></pre><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š<br><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0918_2.png\" alt=\"ç»“æœ\"></p>\n<p>ä¼˜ç‚¹:   </p>\n<ol>\n<li>å…¼å®¹æ€§å¼ºã€‚   </li>\n<li>ç®€å•æ˜“ç”¨ï¼Œèƒ½ä¹‹é—´è®¿é—®å“åº”æ–‡æœ¬ï¼Œæ”¯æŒæµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´åŒå‘é€šä¿¡ã€‚</li>\n</ol>\n<p>ä¸è¶³ï¼š   </p>\n<ol>\n<li>åªèƒ½ç”¨<code>GET</code>æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨<code>POST</code>æ–¹æ³•   </li>\n<li>æ— æ³•åˆ¤æ–­è¯·æ±‚æ˜¯å¦å¤±è´¥ï¼Œæ²¡æœ‰é”™è¯¯å¤„ç†ã€‚</li>\n</ol>\n<h2 id=\"è·¨åŸŸèµ„æºå…±äº«CORS\"><a href=\"#è·¨åŸŸèµ„æºå…±äº«CORS\" class=\"headerlink\" title=\"è·¨åŸŸèµ„æºå…±äº«CORS\"></a>è·¨åŸŸèµ„æºå…±äº«CORS</h2><p>éœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒã€‚<br>åŸç†ï¼šä½¿ç”¨<code>&quot;Origin:&quot;</code>è¯·æ±‚å¤´å’Œ<code>&quot;Access-Control-Allow-Origin&quot;</code>å“åº”å¤´æ¥æ‰©å±•HTTPã€‚å…¶å®å°±æ˜¯åˆ©ç”¨æ–°çš„HTTPå¤´éƒ¨æ¥è¿›è¡Œæµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„æ²Ÿé€šã€‚</p>\n<p>é’ˆå¯¹å‰ç«¯ä»£ç è€Œè¨€ï¼Œå˜åŒ–çš„åœ°æ–¹åœ¨äº<strong>ç›¸å¯¹è·¯å¾„éœ€æ”¹ä¸ºç»å¯¹è·¯å¾„</strong>ã€‚</p>\n<pre><code>//ä»¥å‰çš„æ–¹å¼\nvar xhr = new XMLHttpRequest(); \nxhr.open(&quot;GET&quot;, &quot;/test&quot;, true); \nxhr.send(); \n//CORSæ–¹å¼\nvar xhr = new XMLHttpRequest(); \nxhr.open(&quot;GET&quot;, &quot;http://segmentfault.com/test&quot;, true); \nxhr.send(); \n</code></pre><p>é’ˆå¯¹æœåŠ¡å™¨ä»£ç è€Œè¨€ï¼Œéœ€è¦è®¾ç½®<code>Access-Control-Allow-Origin</code>ï¼Œæ˜¾å¼åœ°åˆ—å‡ºæºæˆ–ä½¿ç”¨é€šé…ç¬¦æ¥åŒ¹é…æ‰€æœ‰æºã€‚</p>\n<p>ä¼˜ç‚¹ï¼š   </p>\n<ol>\n<li>CORSæ”¯æŒæ‰€æœ‰ç±»å‹çš„HTTPè¯·æ±‚ã€‚   </li>\n<li>ä½¿ç”¨CORSï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨æ™®é€šçš„<code>XMLHttpRequest</code>å‘èµ·è¯·æ±‚å’Œè·å¾—æ•°æ®   </li>\n</ol>\n<p>ä¸è¶³ï¼š   </p>\n<ol>\n<li>ä¸èƒ½å‘é€å’Œæ¥æ”¶<code>cookie</code><br><strong>æ›´æ–°ï¼š</strong>æœåŠ¡ç«¯å¯ä»¥é€šè¿‡è®¾ç½®<code>Access-Control-Allow-Credentials</code>è¯¥å­—æ®µæ¥è¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚å‘é€ajaxè¯·æ±‚æ—¶ï¼Œéœ€é…ç½®<code>withCredentials</code>å±æ€§ã€‚(æ„Ÿè°¢sfå°ä¼™ä¼´@lloyd_zhou æŒ‡æ­£)<br>å…·ä½“å¯æŸ¥çœ‹   <a href=\"http://www.ruanyifeng.com/blog/2016/04/cors.html\" target=\"_blank\" rel=\"noopener\">é˜®ä¸€å³°å¤§å¤§çš„åšå®¢</a>ã€‚   </li>\n<li>ä¸èƒ½ä½¿ç”¨<code>setRequestHeader()</code>è®¾ç½®è‡ªå®šä¹‰å¤´éƒ¨   </li>\n<li>å…¼å®¹IE10+</li>\n</ol>\n<h2 id=\"postMessage\"><a href=\"#postMessage\" class=\"headerlink\" title=\"postMessage\"></a>postMessage</h2><p><code>postMessge()</code>æ˜¯HTML5æ–°å®šä¹‰çš„é€šä¿¡æœºåˆ¶ã€‚æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½å·²å®ç°ã€‚è¯¥APIå®šä¹‰åœ¨Windowå¯¹è±¡ã€‚</p>\n<pre><code>otherWindow.postMessage(message, targetOrigin);\n</code></pre><p><code>message</code>: è¦ä¼ é€’çš„æ¶ˆæ¯ã€‚<br><code>targetOrigin</code>: æŒ‡å®š<strong>ç›®æ ‡çª—å£</strong>çš„æºã€‚åœ¨å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå¦‚æœç›®æ ‡çª—å£çš„åè®®ã€ä¸»æœºåœ°å€æˆ–ç«¯å£è¿™ä¸‰è€…çš„ä»»æ„ä¸€é¡¹ä¸åŒ¹é…targetOriginæä¾›çš„å€¼ï¼Œé‚£ä¹ˆæ¶ˆæ¯å°±ä¸ä¼šè¢«å‘é€ï¼›åªæœ‰ä¸‰è€…å®Œå…¨åŒ¹é…ï¼Œæ¶ˆæ¯æ‰ä¼šè¢«å‘é€ã€‚è¿™ä¸ªæœºåˆ¶ç”¨æ¥æ§åˆ¶æ¶ˆæ¯å¯ä»¥å‘é€åˆ°å“ªäº›çª—å£ï¼›</p>\n<p>å½“æºåŒ¹é…æ—¶ï¼Œè°ƒç”¨<code>postMessage()</code>æ–¹æ³•æ—¶ï¼Œç›®æ ‡çª—å£çš„Windowå¯¹è±¡ä¼šè§¦å‘ä¸€ä¸ª<code>message</code>äº‹ä»¶ã€‚åœ¨è¿›è¡Œç›‘å¬äº‹ä»¶æ—¶ï¼Œåº”å…ˆåˆ¤æ–­<code>origin</code>å±æ€§ï¼Œå¿½ç•¥æ¥è‡ªæœªçŸ¥æºçš„æ¶ˆæ¯ã€‚</p>\n<pre><code>//&lt;http://example.com:8080&gt;ä¸Šçš„è„šæœ¬:\nvar popup = window.open(...popup details...);\npopup.postMessage(&quot;The user is &apos;bob&apos; and the password is &apos;secret&apos;&quot;,\n              &quot;https://secure.example.net&quot;);  \npopup.postMessage(&quot;hello there!&quot;, &quot;http://example.org&quot;);\n\nfunction receiveMessage(event)\n{\n  if (event.origin !== &quot;http://example.org&quot;)\n    return;\n  // event.source is popup\n  // event.data is &quot;hi there yourself!  the secret response is: rheeeeet!&quot;ã€è§ä¸‹é¢ä¸€æ®µä»£ç å¯çŸ¥ã€‘\n}\nwindow.addEventListener(&quot;message&quot;, receiveMessage, false);\n</code></pre><p>é’ˆå¯¹ä¸Šé¢çš„è„šæœ¬è¿›è¡Œæ¥å—æ•°æ®çš„æ“ä½œï¼š</p>\n<pre><code>/*\n * popupçš„è„šæœ¬ï¼Œè¿è¡Œåœ¨&lt;http://example.org&gt;:\n */\n\n//å½“postMessageåè§¦å‘çš„ç›‘å¬äº‹ä»¶\nfunction receiveMessage(event)\n{\n  //å…ˆåˆ¤æ–­æº\n  if (event.origin !== &quot;http://example.com:8080&quot;)\n    return;\n\n  // event.sourceï¼šwindow.opener\n  // event.dataï¼š&quot;hello there!&quot;\n\n  event.source.postMessage(&quot;hi there yourself!  the secret response &quot; +\n                           &quot;is: rheeeeet!&quot;,\n                           event.origin);\n}\n\nwindow.addEventListener(&quot;message&quot;, receiveMessage, false);     \n</code></pre><h1 id=\"åç»­\"><a href=\"#åç»­\" class=\"headerlink\" title=\"åç»­\"></a>åç»­</h1><p>æ”¶åˆ°äº†å¾ˆå¤šå°ä¼™ä¼´çš„å»ºè®®å’ŒæŒ‡æ­£ï¼Œä¸èƒœæ„Ÿæ¿€ï¼Œæˆ‘ä¼šæ…¢æ…¢ä¸°å¯Œè¿™ç¯‡æ–‡ç« çš„å†…å®¹çš„ã€‚è¯·å¤šå¤šæŒ‡æ•™~</p>\n<h1 id=\"å‚è€ƒæ–‡ç« \"><a href=\"#å‚è€ƒæ–‡ç« \" class=\"headerlink\" title=\"å‚è€ƒæ–‡ç« \"></a>å‚è€ƒæ–‡ç« </h1><ol>\n<li><a href=\"http://www.tuicool.com/articles/YRFRrmb\" target=\"_blank\" rel=\"noopener\">å‰ç«¯è·¨åŸŸè¯·æ±‚åŸç†åŠå®è·µ</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\" target=\"_blank\" rel=\"noopener\">Window.postMessage()|MDN</a></li>\n<li><a href=\"http://www.tuicool.com/articles/zEZJzm2\" target=\"_blank\" rel=\"noopener\">è€ç”Ÿå¸¸è°ˆçš„è·¨åŸŸå¤„ç†</a></li>\n<li><a href=\"http://www.tuicool.com/articles/A7Ff2iV\" target=\"_blank\" rel=\"noopener\">JavaScriptè·¨åŸŸé—®é¢˜æ€»ç»“</a></li>\n<li><a href=\"http://www.tuicool.com/articles/JrMFbiY\" target=\"_blank\" rel=\"noopener\">å®ç°è·¨åŸŸçš„å‡ ç§æ–¹å¼</a></li>\n<li><a href=\"https://www.sitepoint.com/jsonp-examples/\" target=\"_blank\" rel=\"noopener\">jQueryâ€™s JSONP Explained with Examples</a></li>\n</ol>\n","categories":["å‰ç«¯å¼€å‘"],"tags":["javascript","è·¨åŸŸ"]},{"title":"STOMP-over-WebSocketæ–‡æ¡£","url":"http://yoursite.com/2016/08/17/STOMP-over-WebSocket/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å‰ä¸¤å¤©æ•´ç†äº†<code>websocket</code>çš„èµ„æ–™ï¼Œä»Šå¤©å°±æŠŠä¸Šæ¬¡æ²¡è¯´å®Œçš„<code>Stomp.js</code>å¥½å¥½è¯´ä¸€è¯´~<br>Stomp Over Webscoketå‚è€ƒæ–‡æ¡£ï¼š<a href=\"http://jmesnil.net/stomp-websocket/doc/\" target=\"_blank\" rel=\"noopener\">http://jmesnil.net/stomp-websocket/doc/</a><br>æœ¬æ–‡ä¸ºå‚è€ƒæ–‡æ¡£çš„éƒ¨åˆ†ç¿»è¯‘ï¼ŒæŠ€æœ¯ä¸ä½³ï¼Œå¦‚æœ‰å¤±è¯¯è¯·æŒ‡æ­£ã€‚</p>\n<h2 id=\"ä»€ä¹ˆæ˜¯Stomp\"><a href=\"#ä»€ä¹ˆæ˜¯Stomp\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯Stomp\"></a>ä»€ä¹ˆæ˜¯Stomp</h2><blockquote>\n<p>STOMPå³Simple (or Streaming) Text Orientated Messaging Protocolï¼Œç®€å•(æµ)æ–‡æœ¬å®šå‘æ¶ˆæ¯åè®®ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¯äº’æ“ä½œçš„è¿æ¥æ ¼å¼ï¼Œå…è®¸STOMPå®¢æˆ·ç«¯ä¸ä»»æ„STOMPæ¶ˆæ¯ä»£ç†ï¼ˆBrokerï¼‰è¿›è¡Œäº¤äº’ã€‚STOMPåè®®ç”±äºè®¾è®¡ç®€å•ï¼Œæ˜“äºå¼€å‘å®¢æˆ·ç«¯ï¼Œå› æ­¤åœ¨å¤šç§è¯­è¨€å’Œå¤šç§å¹³å°ä¸Šå¾—åˆ°å¹¿æ³›åœ°åº”ç”¨ã€‚</p>\n</blockquote>\n<h2 id=\"åè®®æ”¯æŒ\"><a href=\"#åè®®æ”¯æŒ\" class=\"headerlink\" title=\"åè®®æ”¯æŒ\"></a>åè®®æ”¯æŒ</h2><p>è¯¥åº“æ”¯æŒå¤šç§ç‰ˆæœ¬çš„STOMPåè®®ï¼š</p>\n<ul>\n<li><a href=\"http://stomp.github.io/stomp-specification-1.0.html\" target=\"_blank\" rel=\"noopener\">STOMP 1.0</a></li>\n<li><a href=\"http://stomp.github.io/stomp-specification-1.1.html\" target=\"_blank\" rel=\"noopener\">STOMP 1.1</a>(åŒ…å« heart-beating)</li>\n</ul>\n<h2 id=\"ä¸‹è½½STOMP-JS\"><a href=\"#ä¸‹è½½STOMP-JS\" class=\"headerlink\" title=\"ä¸‹è½½STOMP.JS\"></a>ä¸‹è½½STOMP.JS</h2><p>ä½ å¯ä»¥ä¸‹è½½ <a href=\"https://raw.githubusercontent.com/jmesnil/stomp-websocket/master/lib/stomp.js\" target=\"_blank\" rel=\"noopener\">stomp.js</a> å¹¶åœ¨ä½ è‡ªå·±çš„WEBåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚<br>æä¾›äº†<a href=\"https://raw.githubusercontent.com/jmesnil/stomp-websocket/master/lib/stomp.min.js\" target=\"_blank\" rel=\"noopener\">å¤šç§ç‰ˆæœ¬</a>ä¹Ÿå¯ä»¥ç›´æ¥ç”¨äºç”Ÿäº§ã€‚<br>è¿™ä¸ªjsæ–‡ä»¶ç”±CoffeeScriptæ–‡ä»¶æ„å»ºï¼Œè¯·æŸ¥çœ‹<a href=\"http://jmesnil.net/stomp-websocket/doc/#contribute\" target=\"_blank\" rel=\"noopener\">Contribute</a>éƒ¨åˆ†ä¸‹è½½æºç æˆ–æµè§ˆ <a href=\"http://jmesnil.net/stomp-websocket/doc/stomp.html\" target=\"_blank\" rel=\"noopener\">annote source code</a></p>\n<h2 id=\"æœåŠ¡ç«¯è¦æ±‚\"><a href=\"#æœåŠ¡ç«¯è¦æ±‚\" class=\"headerlink\" title=\"æœåŠ¡ç«¯è¦æ±‚\"></a>æœåŠ¡ç«¯è¦æ±‚</h2><p>è¿™ä¸ªåº“ä¸æ˜¯å•çº¯çš„Stomp å®¢æˆ·ç«¯ã€‚å®ƒæ—¨åœ¨WebSocketsä¸Šè¿è¡Œè€Œä¸æ˜¯TCPã€‚åŸºæœ¬ä¸Šï¼ŒWebSocketåè®®éœ€è¦åœ¨æµè§ˆå™¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´è¿›è¡Œæ¡æ‰‹ï¼Œç¡®ä¿æµè§ˆå™¨çš„â€œsame-originâ€ï¼ˆåŒæºï¼‰å®‰å…¨æ¨¡å‹ä»ç„¶æœ‰æ•ˆã€‚</p>\n<p>è¿™æ„å‘³ç€è¯¥åº“ä¸èƒ½è¿æ¥å¸¸è§„çš„STOMP ä»£ç†ï¼Œå› ä¸ºWebsocketåˆå§‹åŒ–çš„æ¡æ‰‹ä¸æ˜¯STOMPåè®®çš„ä¸€éƒ¨åˆ†ï¼Œä»–ä»¬ä¸èƒ½ç†è§£ä»è€Œä¼šæ‹’ç»è¿æ¥ã€‚</p>\n<p>æœ‰ä¸€äº›æ­£åœ¨è¿›è¡Œçš„å·¥ä½œæ·»åŠ äº†WebSocketæ”¯æŒSTOMPä»£ç†ï¼Œä»è€Œä»–ä»¬å¯ä»¥åœ¨WebSocketåè®®ä¸Šæ¥å—STOMPè¿æ¥ã€‚</p>\n<h3 id=\"HornetQ\"><a href=\"#HornetQ\" class=\"headerlink\" title=\"HornetQ\"></a>HornetQ</h3><p>HornetQæ˜¯ç”±Red Hat and JBossåˆ›ç«‹çš„å¼€æºæ¶ˆæ¯ç³»ç»Ÿ.</p>\n<p>è¦ä½¿HornetQæ”¯æŒSTOMP Over WebSocketï¼Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬å¹¶æŒ‰ç…§ä¸‹åˆ—æ­¥éª¤æ‰§è¡Œï¼š</p>\n<pre><code>$ cd hornetq-x.y.z/examples/jms/stomp-websockets\n$ mvn clean install\n...\nINFO: HQ221020: Started Netty Acceptor version 3.6.2.Final-c0d783c         localhost:61614 for STOMP_WS protocol\nApr 15, 2013 1:15:33 PM org.hornetq.core.server.impl.HornetQServerImpl$SharedStoreLiveActivation run\nINFO: HQ221007: Server is now live\nApr 15, 2013 1:15:33 PM org.hornetq.core.server.impl.HornetQServerImpl start\nINFO: HQ221001: HornetQ Server version 2.3.0.CR2 (black&apos;n&apos;yellow2, 123) [c9e29e45-a5bd-11e2-976a-b3fef7ceb5df]\n</code></pre><p>æ­¤æ—¶HornetQå·²ç»å¼€å¯äº†ï¼Œå¹¶ä¸”61614åœ¨ç«¯å£ç›‘å¬STOMP over WebSocket<br>å®ƒä»URLä¸ºws://localhost:61614/stomp æ¥å—WebSocketçš„è¿æ¥ã€‚</p>\n<p><a href=\"http://docs.jboss.org/hornetq/2.3.0.CR2/docs/user-manual/html/interoperability.html#stomp.websockets\" target=\"_blank\" rel=\"noopener\">é…ç½®æ–‡æ¡£</a></p>\n<h3 id=\"ActiveMQ\"><a href=\"#ActiveMQ\" class=\"headerlink\" title=\"ActiveMQ\"></a>ActiveMQ</h3><p><a href=\"http://activemq.apache.org/websockets.html\" target=\"_blank\" rel=\"noopener\">é…ç½®æ–‡æ¡£</a></p>\n<h3 id=\"ActiveMQ-Apollo\"><a href=\"#ActiveMQ-Apollo\" class=\"headerlink\" title=\"ActiveMQ Apollo\"></a>ActiveMQ Apollo</h3><p><a href=\"http://activemq.apache.org/apollo/documentation/user-manual.html#WebSocket_Transports\" target=\"_blank\" rel=\"noopener\">é…ç½®æ–‡æ¡£</a></p>\n<h3 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h3><p><a href=\"RabbitMQ\">é…ç½®æ–‡æ¡£</a></p>\n<h3 id=\"Stilts-amp-Torquebox\"><a href=\"#Stilts-amp-Torquebox\" class=\"headerlink\" title=\"Stilts &amp; Torquebox\"></a>Stilts &amp; Torquebox</h3><p><a href=\"http://stilts.projectodd.org/\" target=\"_blank\" rel=\"noopener\">Stilts</a> æ˜¯ä¸€ä¸ªSTOMPåŸç”Ÿçš„æ¶ˆæ¯æ¡†æ¶ã€‚</p>\n<p><a href=\"http://torquebox.org/\" target=\"_blank\" rel=\"noopener\">TorqueBox</a> ä½¿ç”¨Stiltså»æä¾›å®ƒçš„<a href=\"http://torquebox.org/documentation/2.1.2/stomp.html\" target=\"_blank\" rel=\"noopener\">Websockets and STOMP stack</a>ã€‚</p>\n<h2 id=\"Stomp-API\"><a href=\"#Stomp-API\" class=\"headerlink\" title=\"Stomp API\"></a>Stomp API</h2><h3 id=\"STOMP-å¸§ï¼ˆFrameï¼‰\"><a href=\"#STOMP-å¸§ï¼ˆFrameï¼‰\" class=\"headerlink\" title=\"STOMP å¸§ï¼ˆFrameï¼‰\"></a>STOMP å¸§ï¼ˆFrameï¼‰</h3><p>STOMP Over WebSocket æä¾›äº†ä¸€ä¸ªç›´æ¥ä»<code>Stomp Frame</code>æ˜ å°„åˆ° Javascript å¯¹è±¡çš„æ–¹å¼ã€‚<br><code>Stomp Frame</code>å¸§æ ¼å¼å¦‚ä¸‹ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>Property</th>\n<th style=\"text-align:center\">Type</th>\n<th style=\"text-align:right\">Notes</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>command</td>\n<td style=\"text-align:center\">String</td>\n<td style=\"text-align:right\">name of the frame (â€œCONNECTâ€, â€œSENDâ€, etc.)</td>\n</tr>\n<tr>\n<td>headers</td>\n<td style=\"text-align:center\">JavaScript object    </td>\n</tr>\n<tr>\n<td>body</td>\n<td style=\"text-align:center\">String</td>\n</tr>\n</tbody>\n</table>\n<p><code>command</code>å’Œ<code>headers</code>å±æ€§å§‹ç»ˆä¼šè¢«å®šä¹‰ï¼Œä¸è¿‡å½“è¿™ä¸ª<code>frame</code>æ²¡æœ‰å¤´éƒ¨æ—¶ï¼Œ<code>headers</code>å¯ä»¥ä¸ºç©ºã€‚è‹¥è¿™ä¸ª<code>frame</code>æ²¡æœ‰<code>body</code>ï¼Œ<code>body</code>çš„å€¼å¯ä»¥ä¸º<code>null</code>ã€‚</p>\n<h3 id=\"åˆ›å»ºSTOMPå®¢æˆ·ç«¯\"><a href=\"#åˆ›å»ºSTOMPå®¢æˆ·ç«¯\" class=\"headerlink\" title=\"åˆ›å»ºSTOMPå®¢æˆ·ç«¯\"></a>åˆ›å»º<code>STOMP</code>å®¢æˆ·ç«¯</h3><h4 id=\"åœ¨webæµè§ˆå™¨ä¸­ä½¿ç”¨æ™®é€šçš„Web-Socket\"><a href=\"#åœ¨webæµè§ˆå™¨ä¸­ä½¿ç”¨æ™®é€šçš„Web-Socket\" class=\"headerlink\" title=\"åœ¨webæµè§ˆå™¨ä¸­ä½¿ç”¨æ™®é€šçš„Web Socket\"></a>åœ¨webæµè§ˆå™¨ä¸­ä½¿ç”¨æ™®é€šçš„Web Socket</h4><p>STOMP javascript å®¢æˆ·ç«¯ä¼šä½¿ç”¨<code>ws://</code>çš„URLä¸STOMP æœåŠ¡ç«¯è¿›è¡Œäº¤äº’ã€‚</p>\n<p>ä¸ºäº†åˆ›å»ºä¸€ä¸ªSTOMPå®¢æˆ·ç«¯jså¯¹è±¡ï¼Œä½ éœ€è¦ä½¿ç”¨<code>Stomp.client(url)</code>ï¼Œè€Œè¿™ä¸ªURLè¿æ¥ç€æœåŠ¡ç«¯çš„WebSocketçš„ä»£ç†ï¼š</p>\n<pre><code>var url = &quot;ws://localhost:61614/stomp&quot;;\nvar client = Stomp.client(url);\n</code></pre><p><code>Stomp.client(url, protocols)</code>ä¹Ÿå¯ä»¥ç”¨æ¥è¦†ç›–é»˜è®¤çš„<code>subprotocols</code>ã€‚ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„å»æŒ‡å®šå¤šä¸ª<code>subprotocols</code>ã€‚</p>\n<h4 id=\"åœ¨webæµè§ˆå™¨ä¸­ä½¿ç”¨å®šåˆ¶çš„WebSocket\"><a href=\"#åœ¨webæµè§ˆå™¨ä¸­ä½¿ç”¨å®šåˆ¶çš„WebSocket\" class=\"headerlink\" title=\"åœ¨webæµè§ˆå™¨ä¸­ä½¿ç”¨å®šåˆ¶çš„WebSocket\"></a>åœ¨webæµè§ˆå™¨ä¸­ä½¿ç”¨å®šåˆ¶çš„WebSocket</h4><p>æµè§ˆå™¨æä¾›äº†ä¸åŒçš„WebSocketçš„åè®®ï¼Œä¸€äº›è€çš„æµè§ˆå™¨ä¸æ”¯æŒWebSocketçš„è„šæœ¬æˆ–è€…ä½¿ç”¨åˆ«çš„åå­—ã€‚é»˜è®¤ä¸‹ï¼Œ<code>stomp.js</code>ä¼šä½¿ç”¨æµè§ˆå™¨åŸç”Ÿçš„<code>WebSocket class</code>å»åˆ›å»ºWebSocketã€‚</p>\n<p>ä½†æ˜¯åˆ©ç”¨<code>Stomp.over(ws)</code>è¿™ä¸ªæ–¹æ³•å¯ä»¥ä½¿ç”¨å…¶ä»–ç±»å‹çš„WebSocketsã€‚è¿™ä¸ªæ–¹æ³•å¾—åˆ°ä¸€ä¸ªæ»¡è¶³WebSocketå®šä¹‰çš„å¯¹è±¡ã€‚</p>\n<p>ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ç”±<code>SockJS</code>å®ç°çš„Websocketï¼š</p>\n<pre><code>&lt;script src=&quot;http://cdn.sockjs.org/sockjs-0.3.min.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n    // use SockJS implementation instead of the browser&apos;s native implementation\n    var ws = new SockJS(url);\n    var client = Stomp.over(ws);\n    [...]\n&lt;/script&gt;\n</code></pre><p>å¦‚æœä½¿ç”¨åŸç”Ÿçš„Websocketså°±ä½¿ç”¨<code>Stomp.client(url)</code>ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å…¶ä»–ç±»å‹çš„Websocketï¼ˆä¾‹å¦‚ç”±SockJSåŒ…è£…çš„Websocketï¼‰å°±ä½¿ç”¨<code>Stomp.over(ws)</code>ã€‚</p>\n<p>é™¤äº†åˆå§‹åŒ–æœ‰å·®åˆ«ï¼ŒStomp APIåœ¨è¿™ä¸¤ç§æ–¹å¼ä¸‹æ˜¯ç›¸åŒçš„ã€‚</p>\n<h4 id=\"åœ¨node-jsç¨‹åºä¸­\"><a href=\"#åœ¨node-jsç¨‹åºä¸­\" class=\"headerlink\" title=\"åœ¨node.jsç¨‹åºä¸­\"></a>åœ¨<code>node.js</code>ç¨‹åºä¸­</h4><p>é€šè¿‡<code>stompjs npm package</code>åŒæ ·ä¹Ÿå¯ä»¥åœ¨<code>node.js</code>ç¨‹åºä¸­ä½¿ç”¨è¿™ä¸ªåº“ã€‚</p>\n<pre><code>$ npm install stompjs\n</code></pre><p>åœ¨node.js<code>app</code>ä¸­, <code>require</code>è¿™ä¸ªæ¨¡å—:</p>\n<pre><code>var Stomp = require(&apos;stompjs&apos;);\n</code></pre><p>ä¸ºäº†ä¸å»ºç«‹åœ¨TCP socketçš„STOMP-brokerè¿æ¥ï¼Œä½¿ç”¨<code>Stomp.overTCP(host, port)</code>æ–¹æ³•ã€‚</p>\n<pre><code>var client = Stomp.overTCP(&apos;localhost&apos;, 61613);\n</code></pre><p>ä¸ºäº†ä¸å»ºç«‹åœ¨Web Socketçš„STOMP brokerè¿æ¥ï¼Œä½¿ç”¨<code>Stomp.overWS(url)</code>æ–¹æ³•ã€‚</p>\n<pre><code>var client = Stomp.overWS(&apos;ws://localhost:61614/stomp&apos;);\n</code></pre><p>é™¤äº†åˆå§‹åŒ–ä¸åŒï¼Œæ— è®ºæ˜¯æµè§ˆå™¨è¿˜æ˜¯node.jsç¯å¢ƒä¸‹ï¼ŒStomp APIéƒ½æ˜¯ç›¸åŒçš„ã€‚</p>\n<h3 id=\"è¿æ¥æœåŠ¡ç«¯\"><a href=\"#è¿æ¥æœåŠ¡ç«¯\" class=\"headerlink\" title=\"è¿æ¥æœåŠ¡ç«¯\"></a>è¿æ¥æœåŠ¡ç«¯</h3><p>ä¸€æ—¦Stomp å®¢æˆ·ç«¯å»ºç«‹äº†ï¼Œå¿…é¡»è°ƒç”¨å®ƒçš„<code>connect()</code>æ–¹æ³•å»è¿æ¥ï¼Œä»è€ŒStompæœåŠ¡ç«¯è¿›è¡ŒéªŒè¯ã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç”¨æˆ·çš„ç™»å½•å’Œå¯†ç å‡­è¯ã€‚</p>\n<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯ä¼šä½¿ç”¨Websocketæ‰“å¼€è¿æ¥ï¼Œå¹¶å‘é€ä¸€ä¸ª<code>CONNECT frame</code>ã€‚</p>\n<p>è¿™ä¸ªè¿æ¥æ˜¯å¼‚æ­¥è¿›è¡Œçš„ï¼šä½ ä¸èƒ½ä¿è¯å½“è¿™ä¸ªæ–¹æ³•è¿”å›æ—¶æ˜¯æœ‰æ•ˆè¿æ¥çš„ã€‚ä¸ºäº†çŸ¥é“è¿æ¥çš„ç»“æœï¼Œä½ éœ€è¦ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p>\n<pre><code>var connect_callback = function() {\n    // called back after the client is connected and authenticated to the STOMP server\n};\n</code></pre><p>ä½†æ˜¯å¦‚æœè¿æ¥å¤±è´¥ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ<code>connect()</code>æ–¹æ³•æ¥å—ä¸€ä¸ªå¯é€‰çš„å‚æ•°(<code>error_callback</code>)ï¼Œå½“å®¢æˆ·ç«¯ä¸èƒ½è¿æ¥ä¸ŠæœåŠ¡ç«¯æ—¶ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°<code>error_callback</code>ä¼šè¢«è°ƒç”¨ï¼Œè¯¥å‡½æ•°çš„å‚æ•°ä¸ºå¯¹åº”çš„é”™è¯¯å¯¹è±¡ã€‚</p>\n<pre><code>var error_callback = function(error) {\n    // display the error&apos;s message header:\n    alert(error.headers.message);\n};\n</code></pre><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ<code>connect()</code>æ–¹æ³•å¯æ¥å—ä¸åŒæ•°é‡çš„å‚æ•°æ¥æä¾›ç®€å•çš„APIï¼š</p>\n<pre><code>client.connect(login, passcode, connectCallback);\nclient.connect(login, passcode, connectCallback, errorCallback);\nclient.connect(login, passcode, connectCallback, errorCallback, host);\n</code></pre><p><code>login</code>å’Œ<code>passcode</code>æ˜¯stringsï¼Œ<code>connectCallback</code>å’Œ<code>errorCallback</code>åˆ™æ˜¯functionsã€‚ï¼ˆæœ‰äº›brokersï¼ˆä»£ç†ï¼‰è¿˜éœ€è¦ä¼ é€’ä¸€ä¸ª<code>host</code>ï¼ˆStringç±»å‹ï¼‰å‚æ•°ã€‚ï¼‰</p>\n<p>å¦‚æœä½ éœ€è¦é™„åŠ ä¸€ä¸ª<code>headers</code>å¤´éƒ¨ï¼Œ<code>connect</code>æ–¹æ³•è¿˜æ¥å—å…¶ä»–ä¸¤ç§å½¢å¼çš„å‚æ•°ï¼š</p>\n<pre><code>client.connect(headers, connectCallback);\nclient.connect(headers, connectCallback, errorCallback);\n</code></pre><p><code>header</code>æ˜¯<code>map</code>å½¢å¼ï¼Œ<code>connectCallback</code>å’Œ<code>errorCallback</code>ä¸ºfunctionsã€‚</p>\n<p>éœ€è¦æ³¨æ„ï¼šå¦‚æœä½ ä½¿ç”¨ä¸Šè¿°è¿™ç§æ–¹å¼ï¼Œä½ éœ€è¦è‡ªè¡Œåœ¨<code>headers</code>æ·»åŠ <code>login</code>,<code>passcode</code>ï¼ˆç”šè‡³<code>host</code>ï¼‰ï¼š</p>\n<pre><code>var headers = {\n    login: &apos;mylogin&apos;,\n    passcode: &apos;mypasscode&apos;,\n    // additional header\n    &apos;client-id&apos;: &apos;my-client-id&apos;\n};\nclient.connect(headers, connectCallback);\n</code></pre><p>æ–­å¼€è¿æ¥æ—¶ï¼Œè°ƒç”¨<code>disconnect</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯å¼‚æ­¥çš„ï¼Œå½“æ–­å¼€æˆåŠŸåä¼šæ¥æ”¶ä¸€ä¸ªé¢å¤–çš„å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚å¦‚ä¸‹æ‰€ç¤ºã€‚<br>    client.disconnect(function() {<br>        alert(â€œSee you next time!â€);<br>    };</p>\n<p>å½“å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ–­å¼€è¿æ¥ï¼Œå°±ä¸ä¼šå†å‘é€æˆ–æ¥æ”¶æ¶ˆæ¯äº†ã€‚</p>\n<h3 id=\"Heart-beating\"><a href=\"#Heart-beating\" class=\"headerlink\" title=\"Heart-beating\"></a>Heart-beating</h3><p>å¦‚æœSTOMP broker(ä»£ç†)æ¥æ”¶STOMP 1.1ç‰ˆæœ¬çš„å¸§ï¼Œ<code>heart-beating</code>æ˜¯é»˜è®¤å¯ç”¨çš„ã€‚<code>heart-beating</code>ä¹Ÿå°±æ˜¯é¢‘ç‡ï¼Œ<code>incoming</code>æ˜¯æ¥æ”¶é¢‘ç‡ï¼Œ<code>outgoing</code>æ˜¯å‘é€é¢‘ç‡ã€‚</p>\n<p>é€šè¿‡æ”¹å˜<code>incoming</code>å’Œ<code>outgoing</code>å¯ä»¥æ›´æ”¹å®¢æˆ·ç«¯çš„<code>heart-beating</code>(é»˜è®¤ä¸º10000ms)ï¼š</p>\n<pre><code>client.heartbeat.outgoing = 20000; \n// client will send heartbeats every 20000ms\nclient.heartbeat.incoming = 0;\n// client does not want to receive heartbeats\n// from the server\n</code></pre><p><code>heart-beating</code>æ˜¯åˆ©ç”¨<code>window.setInterval()</code>å»è§„å¾‹åœ°å‘é€<code>heart-beats</code>æˆ–è€…æ£€æŸ¥æœåŠ¡ç«¯çš„<code>heart-beats</code>ã€‚</p>\n<h3 id=\"å‘é€æ¶ˆæ¯\"><a href=\"#å‘é€æ¶ˆæ¯\" class=\"headerlink\" title=\"å‘é€æ¶ˆæ¯\"></a>å‘é€æ¶ˆæ¯</h3><p>å½“å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯è¿æ¥æˆåŠŸåï¼Œå¯ä»¥è°ƒç”¨<code>send()</code>æ¥å‘é€STOMPæ¶ˆæ¯ã€‚è¿™ä¸ªæ–¹æ³•å¿…é¡»æœ‰ä¸€ä¸ªå‚æ•°ï¼Œç”¨æ¥æè¿°å¯¹åº”çš„STOMPçš„ç›®çš„åœ°ã€‚å¦å¤–å¯ä»¥æœ‰ä¸¤ä¸ªå¯é€‰çš„å‚æ•°ï¼š<code>headers</code>ï¼Œ<code>object</code>ç±»å‹åŒ…å«é¢å¤–çš„ä¿¡æ¯å¤´éƒ¨ï¼›<code>body</code>ï¼Œä¸€ä¸ªStringç±»å‹çš„å‚æ•°ã€‚</p>\n<pre><code>client.send(&quot;/queue/test&quot;, {priority: 9}, &quot;Hello, STOMP&quot;);\n</code></pre><p>clientä¼šå‘é€ä¸€ä¸ªSTOMPå‘é€å¸§ç»™<code>/queue/test</code>ï¼Œè¿™ä¸ªå¸§åŒ…å«ä¸€ä¸ªè®¾ç½®äº†<code>priority</code>ä¸º9çš„<code>header</code>å’Œå†…å®¹ä¸ºâ€œHello, STOMPâ€çš„<code>body</code>ã€‚</p>\n<p>å¦‚æœä½ æƒ³å‘é€ä¸€ä¸ªæœ‰<code>body</code>çš„ä¿¡æ¯ï¼Œä¹Ÿå¿…é¡»ä¼ é€’<code>headers</code>å‚æ•°ã€‚å¦‚æœæ²¡æœ‰<code>headers</code>éœ€è¦ä¼ é€’ï¼Œé‚£ä¹ˆå°±ä¼ <code>{}</code>å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<pre><code>client.send(destination, {}, body);\n</code></pre><h3 id=\"è®¢é˜…ï¼ˆSubscribeï¼‰å’Œæ¥æ”¶ï¼ˆreceiveï¼‰æ¶ˆæ¯\"><a href=\"#è®¢é˜…ï¼ˆSubscribeï¼‰å’Œæ¥æ”¶ï¼ˆreceiveï¼‰æ¶ˆæ¯\" class=\"headerlink\" title=\"è®¢é˜…ï¼ˆSubscribeï¼‰å’Œæ¥æ”¶ï¼ˆreceiveï¼‰æ¶ˆæ¯\"></a>è®¢é˜…ï¼ˆSubscribeï¼‰å’Œæ¥æ”¶ï¼ˆreceiveï¼‰æ¶ˆæ¯</h3><p>ä¸ºäº†åœ¨æµè§ˆå™¨ä¸­æ¥æ”¶æ¶ˆæ¯ï¼ŒSTOMPå®¢æˆ·ç«¯å¿…é¡»å…ˆè®¢é˜…ä¸€ä¸ªç›®çš„åœ°<code>destination</code>ã€‚</p>\n<p>ä½ å¯ä»¥ä½¿ç”¨<code>subscribe()</code>å»è®¢é˜…ã€‚è¿™ä¸ªæ–¹æ³•æœ‰2ä¸ªå¿…éœ€çš„å‚æ•°ï¼šç›®çš„åœ°(<code>destination</code>)ï¼Œå›è°ƒå‡½æ•°(<code>callback</code>)ï¼›è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„å‚æ•°<code>headers</code>ã€‚å…¶ä¸­<code>destination</code>æ˜¯Stringç±»å‹ï¼Œå¯¹åº”ç›®çš„åœ°ï¼Œå›è°ƒå‡½æ•°æ˜¯ä¼´éšç€ä¸€ä¸ªå‚æ•°çš„<code>function</code>ç±»å‹ã€‚</p>\n<pre><code>var subscription = client.subscribe(&quot;/queue/test&quot;, callback);\n</code></pre><p><code>subscribe()</code>æ–¹æ³•è¿”å›ä¸€ä¸ª<code>object</code>ï¼Œè¿™ä¸ª<code>object</code>åŒ…å«ä¸€ä¸ª<code>id</code>å±æ€§ï¼Œå¯¹åº”è¿™ä¸ªè¿™ä¸ªå®¢æˆ·ç«¯çš„è®¢é˜…IDã€‚è€Œ<code>unsubscribe()</code>å¯ä»¥ç”¨æ¥å–æ¶ˆå®¢æˆ·ç«¯å¯¹è¿™ä¸ªç›®çš„åœ°<code>destination</code>çš„è®¢é˜…ã€‚</p>\n<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰åœ¨<code>headers</code>é¢å¤–æ·»åŠ ï¼Œè¿™ä¸ªåº“ä¼šé»˜è®¤æ„å»ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„<code>ID</code>ã€‚åœ¨ä¼ é€’<code>headers</code>è¿™ä¸ªå‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä½ è‡ªå·±çš„<code>ID</code>:</p>\n<pre><code>var mysubid = &apos;...&apos;;\nvar subscription = client.subscribe(destination, callback, { id: mysubid });\n</code></pre><p>è¿™ä¸ªå®¢æˆ·ç«¯ä¼šå‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªSTOMPè®¢é˜…å¸§ï¼ˆ<code>SUBSCRIBE frame</code>ï¼‰å¹¶æ³¨å†Œå›è°ƒäº‹ä»¶ã€‚æ¯æ¬¡æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯æ—¶ï¼Œå®¢æˆ·ç«¯éƒ½ä¼šè½®æµè°ƒç”¨å›è°ƒå‡½æ•°ï¼Œå‚æ•°ä¸ºå¯¹åº”æ¶ˆæ¯çš„STOMPå¸§å¯¹è±¡ï¼ˆ<code>Frame object</code>ï¼‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<pre><code>callback = function(message) {\n    // called when the client receives a STOMP message from the server\n    if (message.body) {\n        alert(&quot;got message with body &quot; + message.body)\n    } else {\n        alert(&quot;got empty message&quot;);\n    }\n});\n</code></pre><p><code>subscribe()</code>æ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ªå¯é€‰çš„<code>headers</code>å‚æ•°ç”¨æ¥æ ‡è¯†é™„åŠ çš„å¤´éƒ¨ã€‚</p>\n<pre><code>var headers = {ack: &apos;client&apos;, &apos;selector&apos;: &quot;location = &apos;Europe&apos;&quot;};\n\nclient.subscribe(&quot;/queue/test&quot;, message_callback, headers);\n</code></pre><p>è¿™ä¸ªå®¢æˆ·ç«¯æŒ‡å®šäº†å®ƒä¼šç¡®è®¤æ¥æ”¶çš„ä¿¡æ¯ï¼Œåªæ¥æ”¶ç¬¦åˆè¿™ä¸ª<code>selector : location = &#39;Europe&#39;</code>çš„æ¶ˆæ¯ã€‚</p>\n<p>å¦‚æœæƒ³è®©å®¢æˆ·ç«¯è®¢é˜…å¤šä¸ªç›®çš„åœ°ï¼Œä½ å¯ä»¥åœ¨æ¥æ”¶æ‰€æœ‰ä¿¡æ¯çš„æ—¶å€™è°ƒç”¨ç›¸åŒçš„å›è°ƒå‡½æ•°ï¼š</p>\n<pre><code>onmessage = function(message) {\n    // called every time the client receives a message\n}\nvar sub1 = client.subscribe(&quot;queue/test&quot;, onmessage);\nvar sub2 = client.subscribe(&quot;queue/another&quot;, onmessage)\n</code></pre><p>å¦‚æœè¦ä¸­æ­¢æ¥æ”¶æ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨<code>subscribe()</code>è¿”å›çš„<code>object</code>å¯¹è±¡è°ƒç”¨<code>unsubscribe()</code>æ¥ç»“æŸæ¥æ”¶ã€‚</p>\n<pre><code>var subscription = client.subscribe(...);\n\n...\n\nsubscription.unsubscribe();\n</code></pre><h3 id=\"æ”¯æŒJSON\"><a href=\"#æ”¯æŒJSON\" class=\"headerlink\" title=\"æ”¯æŒJSON\"></a>æ”¯æŒJSON</h3><p>STOMPæ¶ˆæ¯çš„<code>body</code>å¿…é¡»ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœä½ éœ€è¦å‘é€/æ¥æ”¶<code>JSON</code>å¯¹è±¡ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>JSON.stringify()</code>å’Œ<code>JSON.parse()</code>å»è½¬æ¢JSONå¯¹è±¡ã€‚</p>\n<pre><code>var quote = {symbol: &apos;APPL&apos;, value: 195.46};\nclient.send(&quot;/topic/stocks&quot;, {}, JSON.stringify(quote));\n\nclient.subcribe(&quot;/topic/stocks&quot;, function(message) {\n    var quote = JSON.parse(message.body);\n    alert(quote.symbol + &quot; is at &quot; + quote.value);\n};\n</code></pre><h3 id=\"Acknowledgment-ç¡®è®¤\"><a href=\"#Acknowledgment-ç¡®è®¤\" class=\"headerlink\" title=\"Acknowledgment(ç¡®è®¤)\"></a>Acknowledgment(ç¡®è®¤)</h3><p>é»˜è®¤æƒ…å†µï¼Œåœ¨æ¶ˆæ¯å‘é€ç»™å®¢æˆ·ç«¯ä¹‹å‰ï¼ŒæœåŠ¡ç«¯ä¼šè‡ªåŠ¨ç¡®è®¤ï¼ˆ<code>acknowledged</code>ï¼‰ã€‚</p>\n<p>å®¢æˆ·ç«¯å¯ä»¥é€‰æ‹©é€šè¿‡è®¢é˜…ä¸€ä¸ªç›®çš„åœ°æ—¶è®¾ç½®ä¸€ä¸ª<code>ack header</code>ä¸º<code>client</code>æˆ–<code>client-individual</code>æ¥å¤„ç†æ¶ˆæ¯ç¡®è®¤ã€‚</p>\n<p>åœ¨ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œå®¢æˆ·ç«¯å¿…é¡»è°ƒç”¨<code>message.ack()</code>æ¥é€šçŸ¥å®¢æˆ·ç«¯å®ƒå·²ç»æ¥æ”¶äº†æ¶ˆæ¯ã€‚</p>\n<pre><code>var subscription = client.subscribe(&quot;/queue/test&quot;,\n    function(message) {\n        // do something with the message\n        ...\n        // and acknowledge it\n        message.ack();\n    },\n    {ack: &apos;client&apos;}\n);\n</code></pre><p><code>ack()</code>æ¥å—<code>headers</code>å‚æ•°ç”¨æ¥é™„åŠ ç¡®è®¤æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œå°†æ¶ˆæ¯ä½œä¸ºäº‹åŠ¡(transaction)çš„ä¸€éƒ¨åˆ†ï¼Œå½“è¦æ±‚æ¥æ”¶æ¶ˆæ¯æ—¶å…¶å®ä»£ç†ï¼ˆbrokerï¼‰å·²ç»å°†<code>ACK STOMP frame</code>å¤„ç†äº†ã€‚</p>\n<pre><code>var tx = client.begin();\nmessage.ack({ transaction: tx.id, receipt: &apos;my-receipt&apos; });\ntx.commit();\n</code></pre><p><code>nack()</code>ä¹Ÿå¯ä»¥ç”¨æ¥é€šçŸ¥STOMP 1.1.brokersï¼ˆä»£ç†ï¼‰ï¼šå®¢æˆ·ç«¯ä¸èƒ½æ¶ˆè´¹è¿™ä¸ªæ¶ˆæ¯ã€‚ä¸<code>ack()</code>æ–¹æ³•çš„å‚æ•°ç›¸åŒã€‚</p>\n<h3 id=\"äº‹åŠ¡-Transactions\"><a href=\"#äº‹åŠ¡-Transactions\" class=\"headerlink\" title=\"äº‹åŠ¡(Transactions)\"></a>äº‹åŠ¡(Transactions)</h3><p>å¯ä»¥åœ¨å°†æ¶ˆæ¯çš„å‘é€å’Œç¡®è®¤æ¥æ”¶æ”¾åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚</p>\n<p>å®¢æˆ·ç«¯è°ƒç”¨è‡ªèº«çš„<code>begin()</code>æ–¹æ³•å°±å¯ä»¥å¼€å§‹å¯åŠ¨äº‹åŠ¡äº†ï¼Œ<code>begin()</code>æœ‰ä¸€ä¸ªå¯é€‰çš„å‚æ•°<code>transaction</code>ï¼Œä¸€ä¸ªå”¯ä¸€çš„å¯æ ‡è¯†äº‹åŠ¡çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰ä¼ é€’è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆåº“ä¼šè‡ªåŠ¨æ„å»ºä¸€ä¸ªã€‚</p>\n<p>è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªobjectã€‚è¿™ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ª<code>id</code>å±æ€§å¯¹åº”è¿™ä¸ªäº‹åŠ¡çš„IDï¼Œè¿˜æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š<br><code>commit()</code>æäº¤äº‹åŠ¡<br><code>abort()</code>ä¸­æ­¢äº‹åŠ¡</p>\n<p>åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨å‘é€/æ¥å—æ¶ˆæ¯æ—¶æŒ‡å®štransaction idæ¥è®¾ç½®transactionã€‚</p>\n<pre><code>// start the transaction\nvar tx = client.begin();\n// send the message in a transaction\nclient.send(&quot;/queue/test&quot;, {transaction: tx.id}, &quot;message in a transaction&quot;);\n// commit the transaction to effectively send the message\ntx.commit();\n</code></pre><p>å¦‚æœä½ åœ¨è°ƒç”¨<code>send()</code>æ–¹æ³•å‘é€æ¶ˆæ¯çš„æ—¶å€™å¿˜è®°æ·»åŠ transction headerï¼Œé‚£ä¹ˆè¿™ä¸ä¼šç§°ä¸ºäº‹åŠ¡çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸ªæ¶ˆæ¯ä¼šç›´æ¥å‘é€ï¼Œä¸ä¼šç­‰åˆ°äº‹åŠ¡å®Œæˆåæ‰å‘é€ã€‚</p>\n<pre><code>var txid = &quot;unique_transaction_identifier&quot;;\n// start the transaction\nvar tx = client.begin();\n// oops! send the message outside the transaction\nclient.send(&quot;/queue/test&quot;, {}, &quot;I thought I was in a transaction!&quot;);\ntx.abort(); // Too late! the message has been sent\n</code></pre><h3 id=\"è°ƒè¯•ï¼ˆDebugï¼‰\"><a href=\"#è°ƒè¯•ï¼ˆDebugï¼‰\" class=\"headerlink\" title=\"è°ƒè¯•ï¼ˆDebugï¼‰\"></a>è°ƒè¯•ï¼ˆDebugï¼‰</h3><p>æœ‰ä¸€äº›æµ‹è¯•ä»£ç èƒ½æœ‰åŠ©äºä½ çŸ¥é“åº“å‘é€æˆ–æ¥æ”¶çš„æ˜¯ä»€ä¹ˆï¼Œä»è€Œæ¥è°ƒè¯•ç¨‹åºã€‚</p>\n<p>å®¢æˆ·ç«¯å¯ä»¥å°†å…¶<code>debug</code>å±æ€§è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°å»è§‚å¯Ÿåº“æ‰€æœ‰çš„debugè¯­å¥ã€‚</p>\n<pre><code>client.debug = function(str) {\n    // append the debug log to a #debug div somewhere in the page using JQuery:\n    $(&quot;#debug&quot;).append(str + &quot;\\n&quot;);\n};\n</code></pre><p>é»˜è®¤æƒ…å†µï¼Œdebugæ¶ˆæ¯ä¼šè¢«è®°å½•åœ¨åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ã€‚</p>\n","categories":["å‰ç«¯å¼€å‘"],"tags":["javascript","Stomp","websocket","html5"]},{"title":"jsè°œä¹‹æ­£åˆ™è¡¨è¾¾å¼","url":"http://yoursite.com/2016/08/15/RegExp-notes/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å¥½ä¹…ä¹‹å‰å°±è¯´è¦å†™ä¸€ç¯‡æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡ç« ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ€»æ˜¯è®°äº†åˆå¿˜ï¼Œå¿˜äº†å†è®°ï¼Œè®°äº†å†å¿˜ï¼Œå’ã€‚<br>è¨€å½’æ­£ä¼ ï¼Œä»Šå¤©ç»ˆäºè¦ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªè°œä¸€æ ·çš„æ­£åˆ™è¡¨è¾¾å¼äº†ã€‚å…¶å®æ­£åˆ™è¡¨è¾¾å¼å¹¶ä¸éš¾ï¼ˆçœŸçš„å—ï¼Ÿorzï¼‰</p>\n<h2 id=\"ä¸ºä»€ä¹ˆè¦ç”¨æ­£åˆ™è¡¨è¾¾å¼\"><a href=\"#ä¸ºä»€ä¹ˆè¦ç”¨æ­£åˆ™è¡¨è¾¾å¼\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦ç”¨æ­£åˆ™è¡¨è¾¾å¼\"></a>ä¸ºä»€ä¹ˆè¦ç”¨æ­£åˆ™è¡¨è¾¾å¼</h2><p>åœ¨å­¦ä¹ ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¼„æ˜ç™½ï¼Œåˆ°åº•ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨åˆ°æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„ç”¨é€”ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ<br>æ¯”å¦‚è¯´ï¼Œä½ æ­£åœ¨æœç´¢ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶é‡Œé¢åŒ…å«å•è¯car(ä¸åŒºåˆ†å¤§å°å†™)ï¼Œä½†æ˜¯å‘¢ä½ åˆä¸æƒ³æŠŠåŒ…å«å­—ç¬¦ä¸²carçš„å…¶ä»–å•è¯ï¼ˆä¾‹å¦‚carryï¼‰ä¹Ÿä¸€èµ·æ‰¾å‡ºæ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ä½ å°±å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥å¸®ä½ è§£å†³é—®é¢˜ã€‚å½“ç„¶ï¼Œè¿™åªæ˜¯ä¼—å¤šåœºæ™¯ä¸­çš„ä¸€ç§ã€‚æ­£åˆ™è¡¨è¾¾å¼åŠŸèƒ½å¼ºå¤§ï¼Œå¯ä»¥å¸®ä½ è§£å†³å„ç§åŒ¹é…æ–‡æœ¬é—®é¢˜ã€‚åˆæˆ–è€…è¡¨å•éªŒè¯çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è§£å†³ã€‚</p>\n<h2 id=\"æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ\"><a href=\"#æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ\"></a>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ</h2><p>ç®€å•æ¥è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯å­—ç¬¦ä¸²ï¼Œæ˜¯ç”¨æ¥åŒ¹é…å’Œå¤„ç†æ–‡æœ¬çš„å­—ç¬¦ä¸²ã€‚ç”¨æ­£åˆ™è¡¨è¾¾å¼è¯­è¨€åˆ›å»ºçš„ã€‚</p>\n<h2 id=\"æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•\"><a href=\"#æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•\" class=\"headerlink\" title=\"æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•\"></a>æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•</h2><h3 id=\"åŒ¹é…å­—ç¬¦\"><a href=\"#åŒ¹é…å­—ç¬¦\" class=\"headerlink\" title=\"åŒ¹é…å­—ç¬¦\"></a>åŒ¹é…å­—ç¬¦</h3><ul>\n<li><code>.</code>ï¼ˆè‹±æ–‡å¥å·ï¼‰ï¼šåŒ¹é…ä»»ä½•ä¸€ä¸ªå•ä¸ªå­—ç¬¦</li>\n<li><code>[]</code>ï¼šåŒ¹é…é›†åˆå†…å¤šä¸ªå­—ç¬¦ä¸­çš„æŸä¸ªå­—ç¬¦<br>e.g. <code>[ns]a</code> â€“&gt; åŒ¹é… na æˆ–sa</li>\n<li><code>[-]</code>ï¼šåŒ¹é…è¯¥åŒºé—´å†…çš„å­—ç¬¦<br>e.g. [a-z] , [0-9]</li>\n<li><code>^</code> å–éåŒ¹é…ï¼šé™¤äº†è¯¥å­—ç¬¦é›†å†…çš„å­—ç¬¦ï¼Œéƒ½å¯ä»¥åŒ¹é…ã€‚åªæœ‰å½“<code>^</code>å‡ºç°åœ¨<code>[</code>å’Œ<code>]</code>ä¹‹é—´ï¼Œä¸”ç´§è·Ÿåœ¨<code>[</code>åé¢ï¼Œæ‰èƒ½å‘æŒ¥å–éçš„ä½œç”¨ã€‚<br>e.g. <code>[^0-9]</code> åŒ¹é…éæ•°å­—çš„å­—ç¬¦</li>\n</ul>\n<h3 id=\"ä½¿ç”¨å…ƒå­—ç¬¦\"><a href=\"#ä½¿ç”¨å…ƒå­—ç¬¦\" class=\"headerlink\" title=\"ä½¿ç”¨å…ƒå­—ç¬¦\"></a>ä½¿ç”¨å…ƒå­—ç¬¦</h3><p>å…ƒå­—ç¬¦ï¼šåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ã€‚è‹¥éœ€è¦è¡¨ç¤ºè¯¥å­—ç¬¦æœ¬èº«ï¼Œéœ€ä½¿ç”¨<code>\\</code>è½¬ä¹‰ã€‚</p>\n<ul>\n<li><code>\\d</code> ä»»ä½•ä¸€ä¸ªæ•°å­—å­—ç¬¦ï¼Œç›¸å½“äº[0-9]</li>\n<li><code>\\D</code> ä»»ä½•ä¸€ä¸ªéæ•°å­—å­—ç¬¦ï¼Œç›¸å½“äº[^0-9]</li>\n<li><code>\\w</code> ä»»ä½•ä¸€ä¸ªå­—æ¯æ•°å­—å­—ç¬¦æˆ–ä¸‹åˆ’çº¿å­—ç¬¦ï¼Œç›¸å½“äº[a-zA-Z0-9_]</li>\n<li><code>\\W</code> ä»»ä½•ä¸€ä¸ªéå­—æ¯æ•°å­—å­—ç¬¦æˆ–éä¸‹åˆ’çº¿å­—ç¬¦ï¼Œç›¸å½“äº[^a-zA-Z0-9_]</li>\n<li><code>\\s</code> ä»»ä½•ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼Œç­‰ä»·äº[\\f\\n\\r\\t\\v]</li>\n<li><code>\\S</code> ä»»ä½•ä¸€ä¸ªéç©ºç™½å­—ç¬¦ï¼Œç­‰ä»·äº[^\\f\\n\\r\\t\\v]</li>\n</ul>\n<p>æ€»è€Œè¨€ä¹‹ï¼Œå°å†™å­—æ¯ä¸å¤§å†™å­—æ¯éƒ½æ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥è®°ä½å°å†™å­—æ¯çš„å«ä¹‰ï¼Œå¤§å†™å­—æ¯åˆ™æ˜¯å¯¹åº”çš„å–éå«ä¹‰ã€‚</p>\n<h3 id=\"é‡å¤åŒ¹é…\"><a href=\"#é‡å¤åŒ¹é…\" class=\"headerlink\" title=\"é‡å¤åŒ¹é…\"></a>é‡å¤åŒ¹é…</h3><ul>\n<li><code>?</code> 0ä¸ªæˆ–1ä¸ªå­—ç¬¦<br>e.g. [0-9]? å‡ºç°0æ¬¡æˆ–ä¸€æ¬¡ï¼Œä¸”æœ€å¤šåªèƒ½å‡ºç°1æ¬¡æ•°å­—ã€‚</li>\n<li><code>+</code> ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦<br>e.g. [0-9]+ è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­çš„æ•°å­—</li>\n<li><code>*</code> 0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦<br>e.g. [0-9]* è¿ç»­å‡ºç°0æ¬¡è´§å¤šæ¬¡çš„æ•°å­—</li>\n<li><code>{n}</code> è®¾ç½®ä¸€ä¸ªç²¾ç¡®çš„é‡å¤çš„å€¼<br>e.g. [0-9]{3} ä¸‰ä¸ªæ•°å­—</li>\n<li><code>{min,max}</code> è®¾ç½®é‡å¤æ¬¡æ•°çš„æœ€å°å€¼å’Œæœ€å¤§å€¼<br>e.g. [0-9]{2,4} æœ€å°‘2ä¸ªæ•°å­—ï¼Œæœ€å¤š4ä¸ªæ•°å­—</li>\n<li><code>{min, }</code> è®¾ç½®é‡å¤æ¬¡æ•°çš„æœ€å°å€¼<br>e.g. [0-9]{2,} æœ€å°‘2ä¸ªæ•°å­—</li>\n</ul>\n<h3 id=\"æ‡’æƒ°å‹åŒ¹é…\"><a href=\"#æ‡’æƒ°å‹åŒ¹é…\" class=\"headerlink\" title=\"æ‡’æƒ°å‹åŒ¹é…\"></a>æ‡’æƒ°å‹åŒ¹é…</h3><p>ä¸ºäº†é˜²æ­¢å‡ºç°é‡å¤åŒ¹é…é€ æˆçš„è¿‡åº¦åŒ¹é…ï¼Œå› ä¸º<code>*</code>å’Œ<code>+</code>éƒ½æ˜¯â€œè´ªå©ªå‹â€å…ƒå­—ç¬¦ï¼Œå®ƒä»¬åœ¨è¿›è¡ŒåŒ¹é…æ—¶ä¼šå°½å¯èƒ½ä»ä¸€æ®µæ–‡æœ¬çš„å¼€å¤´ä¸€ç›´åŒ¹é…åˆ°è¿™æ®µæ–‡æœ¬çš„æœ«å°¾ï¼Œè€Œä¸æ˜¯ç¢°åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…å°±ç»“æŸã€‚</p>\n<p>é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨â€æ‡’æƒ°å‹â€ã€‚ä»…éœ€åœ¨è´ªå©ªå‹å…ƒå­—ç¬¦ååŠ ä¸Š<code>?</code>å³å¯ã€‚å¦‚ï¼š<code>*?</code>,<code>+?</code>,<code>{n,}?</code> </p>\n<h3 id=\"ä½ç½®åŒ¹é…\"><a href=\"#ä½ç½®åŒ¹é…\" class=\"headerlink\" title=\"ä½ç½®åŒ¹é…\"></a>ä½ç½®åŒ¹é…</h3><ul>\n<li><code>\\b</code> å•è¯è¾¹ç•Œ</li>\n<li><code>\\B</code> éå•è¯è¾¹ç•Œã€‚æŸ¥æ‰¾å‰åéƒ½æœ‰å¤šä½™ç©ºæ ¼çš„è¿å­—ç¬¦ã€‚</li>\n<li><code>^</code> å­—ç¬¦ä¸²å¼€å¤´ã€‚å‡ºç°åœ¨å­—ç¬¦é›†åˆçš„å¤–é¢ä¸”ä½äºä¸€ä¸ªæ¨¡å¼çš„å¼€å¤´ï¼Œ<code>^</code>åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´</li>\n<li><code>$</code> å­—ç¬¦ä¸²ç»“å°¾</li>\n</ul>\n<hr>\n<h2 id=\"Javascriptä¸­çš„æ­£åˆ™è¡¨è¾¾å¼\"><a href=\"#Javascriptä¸­çš„æ­£åˆ™è¡¨è¾¾å¼\" class=\"headerlink\" title=\"Javascriptä¸­çš„æ­£åˆ™è¡¨è¾¾å¼\"></a>Javascriptä¸­çš„æ­£åˆ™è¡¨è¾¾å¼</h2><p>ECMAScripté€šè¿‡<code>RegExp</code>ç±»å‹æ¥æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚</p>\n<pre><code>var expression = / pattern / flagsï¼›\n</code></pre><p>å…¶ä¸­<code>pattern</code>å¯ä»¥æ˜¯ä»»ä½•ç®€å•æˆ–å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚<br><code>flags</code>ç”¨æ¥æ ‡æ˜æ­£åˆ™è¡¨è¾¾å¼çš„è¡Œä¸ºã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<ul>\n<li><code>g</code> : å…¨å±€æ¨¡å¼ã€‚æ¨¡å¼åº”ç”¨äºæ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯åœ¨å‘ç°ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹åå°±ç«‹å³åœæ­¢çš„ã€‚</li>\n<li><code>i</code> : ä¸åŒºåˆ†å¤§å°å†™ã€‚æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤æ˜¯åŒºåˆ«å¤§å°å†™çš„ã€‚<code>i</code>åˆ™æ˜¯å¿½ç•¥å¤§å°å†™</li>\n<li><code>m</code> : è¡¨ç¤ºå¤šè¡Œæ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ°è¾¾ä¸€è¡Œæ–‡æœ¬æœ«å°¾çš„æ—¶å€™è¿˜ä¼šç»§ç»­æŸ¥æ‰¾ä¸‹ä¸€è¡Œä¸­æ˜¯å¦å­˜åœ¨ä¸æ¨¡å¼åŒ¹é…çš„é¡¹ã€‚</li>\n</ul>\n<h3 id=\"åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼\"><a href=\"#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼\" class=\"headerlink\" title=\"åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼\"></a>åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼</h3><ul>\n<li><p>ä»¥<strong>å­—é¢é‡å½¢å¼</strong>æ¥å®šä¹‰<br><code>var pattern = /sxj/i;</code></p>\n</li>\n<li><p>ä½¿ç”¨<code>RegExp</code>æ„é€ å‡½æ•°<br><code>var pattern = new RegExp(&quot;sxj&quot;, &quot;i&quot;);</code></p>\n</li>\n</ul>\n<p>é‚£ä¹ˆè¿™ä¸¤ç§æ–¹å¼çš„åŒºåˆ«é™¤äº†å½¢å¼ä¸ä¸€æ ·ï¼Œè¿˜æœ‰ä¸€ä¸ªå·®åˆ«åœ¨äºï¼š<br>ECMAScript 3ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡å§‹ç»ˆä¼š<strong>å…±äº«</strong>åŒä¸€ä¸ª<code>RegExp</code>å®ä¾‹ï¼›è€Œä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„æ¯ä¸€ä¸ªå®ä¾‹éƒ½æ˜¯ä¸€ä¸ª<strong>æ–°</strong>å®ä¾‹ã€‚</p>\n<p>ä¸è¿‡ï¼ã€æ•²é»‘æ¿ï¼ã€‘ECMAScript 5æ˜ç¡®è§„å®šäº†ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡å¿…é¡»æƒ³ç›´æ¥è°ƒç”¨<code>RegExp</code>æ„é€ å‡½æ•°ä¸€æ ·ï¼Œæ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„RegExpå®ä¾‹ã€‚è€Œå„å¤§æµè§ˆå™¨ä¹Ÿå¯¹æ­¤è¿›è¡Œäº†ä¿®æ”¹ã€‚</p>\n<h3 id=\"RegExpå®ä¾‹\"><a href=\"#RegExpå®ä¾‹\" class=\"headerlink\" title=\"RegExpå®ä¾‹\"></a><code>RegExp</code>å®ä¾‹</h3><h4 id=\"å®ä¾‹å±æ€§\"><a href=\"#å®ä¾‹å±æ€§\" class=\"headerlink\" title=\"å®ä¾‹å±æ€§\"></a>å®ä¾‹å±æ€§</h4><ul>\n<li><code>global</code>: å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†<code>g</code>æ ‡å¿—</li>\n<li><code>ignoreCase</code>: å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†<code>i</code>æ ‡å¿—</li>\n<li><code>multiline</code>: å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†<code>m</code>æ ‡å¿—</li>\n<li><code>lastIndex</code>ï¼šæ•´æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹çš„å­—ç¬¦ä½ç½®ï¼Œä»0å¼€å§‹ã€‚</li>\n<li><code>source</code>ï¼š æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚æŒ‰ç…§<strong>å­—é¢é‡å½¢å¼</strong>è¿”å›ã€‚</li>\n</ul>\n<h4 id=\"å®ä¾‹æ–¹æ³•\"><a href=\"#å®ä¾‹æ–¹æ³•\" class=\"headerlink\" title=\"å®ä¾‹æ–¹æ³•\"></a>å®ä¾‹æ–¹æ³•</h4><h5 id=\"exec\"><a href=\"#exec\" class=\"headerlink\" title=\"exec()\"></a><code>exec()</code></h5><pre><code>pattern.exec(text);\n</code></pre><p>æŸ¥æ‰¾textä¸­çš„åŒ¹é…é¡¹ã€‚</p>\n<pre><code>//ä¾‹å­\nvar pattern = /sxj/i;\nvar text = &quot;sxj is a good student sxj haha&quot;;\nconsole.log(pattern.exec(text));\n//[&quot;sxj&quot;, index: 0, input: &quot;sxj is a good student sxj haha&quot;]\nvar pattern2 = /shi/i;\nconsole.log(pattern2,exec(text));//null\n</code></pre><p>ä»ä¸Šè¿°ä¾‹å­å¯ä»¥å‘ç°ï¼Œè‹¥æ‰¾åˆ°ï¼Œåˆ™è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„åŒ…å«ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªå±æ€§ï¼š<code>index</code>ï¼ˆåŒ¹é…é¡¹åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼‰,<code>input</code>ï¼ˆåº”ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ï¼‰ã€‚è‹¥æ²¡æœ‰åŒ¹é…é¡¹è¿”å›<code>null</code>ã€‚</p>\n<p>å¯¹äº<code>exec</code>è€Œè¨€ï¼Œæ— è®ºæ˜¯å¦è®¾ç½®<code>g</code>å…¨å±€æ ‡å¿—ï¼Œæ¯æ¬¡ä¹Ÿåªä¼šè¿”å›ä¸€ä¸ªåŒ¹é…é¡¹ã€‚ä½†æ˜¯å¦‚æœåœ¨åŒä¸€ä¸ªå­—ç¬¦ä¸²ä¸Šå¤šæ¬¡è°ƒç”¨ï¼Œè®¾ç½®äº†<code>g</code>æ ‡å¿—åˆ™ä¼šç»§ç»­æŸ¥æ‰¾æ–°çš„åŒ¹é…é¡¹ï¼Œè€Œæ²¡æœ‰è®¾ç½®çš„è¯åªä¼šè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ä¿¡æ¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œpatternçš„<code>lastIndex</code>å±æ€§åœ¨å…¨å±€æ¨¡å¼ä¼šå¢åŠ ï¼Œéå…¨å±€æ¨¡å¼å§‹ç»ˆä¸å˜ã€‚</p>\n<h5 id=\"test\"><a href=\"#test\" class=\"headerlink\" title=\"test()\"></a><code>test()</code></h5><pre><code>pattern.test(text);\n</code></pre><p>æŸ¥çœ‹ç›®æ ‡å­—ç¬¦ä¸²ä¸è¯¥æ¨¡å¼æ˜¯å¦åŒ¹é…ã€‚åŒ¹é…è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p>\n<h3 id=\"Stringä¸­çš„æ­£åˆ™è¡¨è¾¾å¼\"><a href=\"#Stringä¸­çš„æ­£åˆ™è¡¨è¾¾å¼\" class=\"headerlink\" title=\"Stringä¸­çš„æ­£åˆ™è¡¨è¾¾å¼\"></a>Stringä¸­çš„æ­£åˆ™è¡¨è¾¾å¼</h3><h5 id=\"match\"><a href=\"#match\" class=\"headerlink\" title=\"match()\"></a><code>match()</code></h5><pre><code>text.match(pattern);\n</code></pre><p><code>match</code>åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚è‹¥æ²¡æœ‰<code>g</code>æ ‡è¯†ï¼Œåˆ™ç»“æœä¸<code>pattern.exec(text)</code>ç›¸åŒã€‚è‹¥æœ‰<code>g</code>æ ‡å¿—ï¼Œåˆ™è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…çš„æ•°ç»„ã€‚</p>\n<h5 id=\"search\"><a href=\"#search\" class=\"headerlink\" title=\"search()\"></a><code>search()</code></h5><pre><code>text.search(pattern);\n</code></pre><p>è‹¥æ‰¾åˆ°åŒ¹é…ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„é¦–å­—ç¬¦ä½ç½®ã€‚è‹¥æ²¡æœ‰æ‰¾åˆ°è¿”å›-1ã€‚<br>æ­¤æ–¹æ³•ä¼šå¿½ç•¥<code>g</code>æ ‡è¯†ï¼Œä¸”æ²¡æœ‰positionå‚æ•°ã€‚</p>\n<h5 id=\"replace\"><a href=\"#replace\" class=\"headerlink\" title=\"replace()\"></a><code>replace()</code></h5><pre><code>string.replace(searchValue, replaceValue);\n</code></pre><p><code>searchValue</code>å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚è‹¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåªä¼šåœ¨ç¬¬ä¸€æ¬¡å‡ºç°çš„åœ°æ–¹è¢«æ›¿æ¢ã€‚è‹¥æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè‹¥æœ‰<code>g</code>æ ‡å¿—åˆ™æ›¿æ¢æ‰€æœ‰åŒ¹é…ä¹‹å¤„ï¼Œè‹¥æ²¡æœ‰åˆ™åªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ä¹‹å¤„ã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸ªéå¸¸å¥½ç”¨çš„å·¥å…·ï¼Œè‹¥æŒæ¡äº†å¯è¾¾åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚å¥½å¥½å­¦å“Ÿ~</p>\n","categories":["å‰ç«¯å¼€å‘"],"tags":["javascript","æ­£åˆ™è¡¨è¾¾å¼"]},{"title":"websocketèµ„æ–™æ€»ç»“","url":"http://yoursite.com/2016/08/14/websocket-notes/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>ä¹‹å‰çš„é¡¹ç›®ä¸­ä½¿ç”¨äº†<code>websocket</code>ã€<code>socketJS</code>ï¼Œè¶æ­¤æœºä¼šå°†ä¸€äº›çŸ¥è¯†ç‚¹åŠèµ„æ–™è¿›è¡Œæ•´ç†æ€»ç»“ã€‚æ­£æ‰€è°“æ¸©æ•…è€ŒçŸ¥æ–°~</p>\n<h2 id=\"websocketæ˜¯ä»€ä¹ˆ\"><a href=\"#websocketæ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"websocketæ˜¯ä»€ä¹ˆ\"></a>websocketæ˜¯ä»€ä¹ˆ</h2><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹æ¦‚å¿µã€‚</p>\n<blockquote>\n<p><code>websocket</code>æ˜¯åœ¨<code>html5</code>ä¸­æä¾›äº†ä¸€ç§æµè§ˆå™¨å’ŒæœåŠ¡å™¨é—´è¿›è¡Œ<strong>å…¨åŒå·¥</strong>é€šè®¯çš„ç½‘ç»œæŠ€æœ¯ã€‚</p>\n</blockquote>\n<p>æµè§ˆå™¨å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œé€šè¿‡æŠ¥æ–‡å¤´éƒ¨<code>Upgrade</code>æ¥è¡¨æ˜éœ€è¦ä»<code>HTTP</code>åˆ‡æ¢è‡³<code>Websocket</code>åè®®ã€‚</p>\n<pre><code>GET ws://echo.websocket.org/?encoding=text HTTP/1.1\nOrigin: http://websocket.org\nCookie: __utma=99as\nConnection: Upgrade\nHost: echo.websocket.org\nSec-WebSocket-Key: uRovscZjNol/umbTt5uKmw==\nUpgrade: websocket\nSec-WebSocket-Version: 13\n</code></pre><p>å¦‚æœæœåŠ¡ç«¯ç†è§£websocketåè®®ï¼Œå®ƒä¹Ÿæ˜¯é€šè¿‡æŠ¥æ–‡<code>Upgrade</code>ä»HTTPè½¬æ¢ä¸ºWebsocketåè®®ã€‚</p>\n<pre><code>HTTP/1.1 101 WebSocket Protocol Handshake\nDate: Fri, 10 Feb 2012 17:38:18 GMT\nConnection: Upgrade\nServer: Kaazing Gateway\nUpgrade: WebSocket\nAccess-Control-Allow-Origin: http://websocket.org\nAccess-Control-Allow-Credentials: true\nSec-WebSocket-Accept: rLHCkw/SKsO9GAH/ZSFhBATDKrU=\nAccess-Control-Allow-Headers: content-type\n</code></pre><p>è¿™ä¸ªæ—¶å€™å°±å»ºç«‹èµ·äº†websocketè¿æ¥ï¼ŒåŸºäºTCP/IPã€‚ä½¿ç”¨ç«¯å£ä¸HTTP(80)å’ŒHTTPS(443)ä¸€æ ·ã€‚</p>\n<h2 id=\"ä¸ºä»€ä¹ˆè¦ç”¨websocketï¼Ÿ\"><a href=\"#ä¸ºä»€ä¹ˆè¦ç”¨websocketï¼Ÿ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦ç”¨websocketï¼Ÿ\"></a>ä¸ºä»€ä¹ˆè¦ç”¨websocketï¼Ÿ</h2><p>çŸ¥é“äº†ä»€ä¹ˆæ˜¯websocketï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨websocketå‘¢ï¼Ÿé™¤äº†websocketä¹‹å¤–ï¼Œæµè§ˆå™¨è¿›è¡Œå³æ—¶é€šä¿¡çš„æ–¹å¼è¿˜æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>\n<ul>\n<li><p>å®šæœŸæŸ¥è¯¢<br>æ¯éš”ä¸€ä¸ªæ—¶é—´æ®µå°±å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè¯·æ±‚æœåŠ¡å™¨çš„æœ€æ–°æ•°æ®å†è¿›è¡Œæ›´æ–°ã€‚ä½†è¿™æ ·åšçš„åæœå°±æ˜¯æµªè´¹å¤§é‡æµé‡ï¼Œå¯¹æœåŠ¡ç«¯é€ æˆäº†å·¨å¤§å‹åŠ›ã€‚</p>\n</li>\n<li><p>Comet<br>åŸºäºhttpé•¿è¿æ¥çš„â€œæœåŠ¡å™¨æ¨â€æŠ€æœ¯ã€‚å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ä¿æŒä¸€ä¸ªé•¿è¿æ¥ï¼Œåªæœ‰å®¢æˆ·ç«¯éœ€è¦çš„æ•°æ®æ›´æ–°æ—¶ï¼ŒæœåŠ¡å™¨æ‰ä¸»åŠ¨å°†æ•°æ®æ¨é€ç»™å®¢æˆ·ç«¯ã€‚æœ‰ä¸¤ç§å½¢å¼ï¼š</p>\n<ul>\n<li>åŸºäº<code>Ajax</code>çš„é•¿è½®è¯¢ï¼ˆlong-pollingï¼‰æ–¹å¼<br>æµè§ˆå™¨å‘å‡ºXMLHttpRequestè¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šé˜»å¡è¯·æ±‚ç›´åˆ°æœ‰æ•°æ®æˆ–è€…è¶…æ—¶æ‰è¿”å›ï¼Œæµè§ˆå™¨åœ¨å¤„ç†è¯·æ±‚è¿”å›ä¿¡æ¯ï¼ˆè¶…æ—¶æˆ–æœ‰æ•ˆæ•°æ®ï¼‰åå†æ¬¡å‘å‡ºè¯·æ±‚ï¼Œé‡æ–°å»ºç«‹è¿æ¥ã€‚åœ¨æ­¤æœŸé—´æœåŠ¡å™¨ç«¯å¯èƒ½å·²ç»æœ‰æ–°çš„æ•°æ®åˆ°è¾¾ï¼ŒæœåŠ¡å™¨ä¼šé€‰æ‹©æŠŠæ•°æ®ä¿å­˜ï¼Œç›´åˆ°é‡æ–°å»ºç«‹è¿æ¥ï¼Œæµè§ˆå™¨ä¼šæŠŠæ‰€æœ‰æ•°æ®ä¸€æ¬¡æ€§å–å›ã€‚</li>\n<li>åŸºäº<code>Iframe</code>åŠ<code>htmlfile</code>çš„æµï¼ˆhttp streamingï¼‰æ–¹å¼<br>é€šå¸¸çš„åšæ³•æ˜¯åœ¨é¡µé¢ä¸­åµŒå…¥ä¸€ä¸ªéšè—çš„iframe,ç„¶åè®©è¿™ä¸ªiframeçš„srcå±æ€§æŒ‡å‘æˆ‘ä»¬è¯·æ±‚çš„ä¸€ä¸ªæœåŠ¡ç«¯åœ°å€ï¼Œå¹¶ä¸”ä¸ºäº†æ•°æ®æ›´æ–°ï¼Œæˆ‘ä»¬å°†é¡µé¢ä¸Šæ•°æ®æ›´æ–°æ“ä½œå°è£…ä¸ºä¸€ä¸ªjså‡½æ•°ï¼Œå°†å‡½æ•°åå½“åšå‚æ•°ä¼ é€’åˆ°è¿™ä¸ªåœ°å€å½“ä¸­ã€‚æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åè§£æåœ°å€å–å‡ºå‚æ•°ï¼ˆå®¢æˆ·ç«¯jså‡½æ•°è°ƒç”¨åï¼‰ï¼Œæ¯å½“æœ‰æ•°æ®æ›´æ–°çš„æ—¶å€™ï¼Œè¿”å›å¯¹å®¢æˆ·ç«¯å‡½æ•°çš„è°ƒç”¨ï¼Œå¹¶ä¸”å°†è¦è·Ÿæ–°çš„æ•°æ®ä»¥jså‡½æ•°çš„å‚æ•°å¡«å…¥åˆ°è¿”å›å†…å®¹å½“ä¸­ï¼Œä¾‹å¦‚è¿”å›â€œ<script type=\"text/javascript\">update(â€œdataâ€)</script>â€è¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ„å‘³ç€ä»¥dataä¸ºå‚æ•°è°ƒç”¨å®¢æˆ·ç«¯updateå‡½æ•°è¿›è¡Œå®¢æˆ·ç«¯viewæ›´æ–°ã€‚<br>å½“åº”ç”¨ç¨‹åºæœ‰é«˜ååé‡çš„éœ€æ±‚ï¼ŒCometçš„é•¿è½®è¯¢å°±ä¸é€‚åˆäº†ã€‚</li>\n</ul>\n</li>\n<li><p>SSE<br>SSE(æœåŠ¡ç«¯æ¨é€äº‹ä»¶)æ˜¯ä¸€ç§å…è®¸æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯æ¨é€æ–°æ•°æ®çš„HTML5æŠ€æœ¯ã€‚ä¸websocketç›¸æ¯”ï¼ŒWebSocketç›¸è¾ƒSSEæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºå®ƒæ˜¯åŒå‘äº¤æµçš„ï¼Œè¿™æ„å‘³å‘æœåŠ¡ç«¯å‘é€æ•°æ®å°±åƒä»æœåŠ¡ç«¯æ¥æ”¶æ•°æ®ä¸€æ ·ç®€å•ã€‚ç”¨SSEæ—¶ï¼Œä¸€èˆ¬é€šè¿‡ä¸€ä¸ªç‹¬ç«‹çš„Ajaxè¯·æ±‚ä»å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯ä¼ é€æ•°æ®ã€‚ç›¸å¯¹äºWebSocketï¼Œè¿™æ ·ä½¿ç”¨Ajaxä¼šå¢åŠ å¼€é”€ï¼Œä½†ä¹Ÿå°±å¤šä¸€ç‚¹ç‚¹è€Œå·²ã€‚</p>\n</li>\n</ul>\n<p>ç›¸æ¯”äºé—´æ–­çš„è½®è¯¢æˆ–é•¿è½®è¯¢æ¥æ¨¡æ‹Ÿå…¨åŒå·¥è¿æ¥çš„è§£å†³æ–¹å¼ï¼ŒWebsocketæå¤§çš„å‡å°‘äº†ä¸å¿…è¦çš„ç½‘ç»œæµé‡å’Œå»¶è¿Ÿã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒWebsocket-basedçš„åº”ç”¨å‡è½»äº†æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œè®©ç°æœ‰çš„æœºå™¨èƒ½æ”¯æŒæ›´å¤šçš„å¹¶å‘è¿æ¥ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0814_2.png\" alt=\"clipboard.png\"></p>\n<h2 id=\"å¦‚ä½•ä½¿ç”¨websocket\"><a href=\"#å¦‚ä½•ä½¿ç”¨websocket\" class=\"headerlink\" title=\"å¦‚ä½•ä½¿ç”¨websocket\"></a>å¦‚ä½•ä½¿ç”¨websocket</h2><p>ã€ä»¥ä¸‹ä¾‹å­æ¥æºäº<a href=\"http://www.websocket.org/aboutwebsocket.htmlã€‘\" target=\"_blank\" rel=\"noopener\">http://www.websocket.org/aboutwebsocket.htmlã€‘</a><br>åªéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„Websocketå®ä¾‹ï¼Œæä¾›ä¸€ä¸ªURLï¼Œè¿™ä¸ªURLè¡¨ç¤ºçš„æ˜¯ä½ å¸Œæœ›è¿æ¥çš„é‚£ä¸ªend-pointã€‚å¦‚ä¸‹æ‰€ç¤ºã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯: <code>ws://</code>å’Œ<code>wss://</code>çš„å‰ç¼€è¡¨ç¤ºäº†Websokcetå’Œå®‰å…¨åè®®çš„Websocketè¿æ¥ã€‚</p>\n<pre><code>var myWebsocket = new Websocket(&quot;ws://www.websocket.org&quot;);\n</code></pre><p>åœ¨è¿æ¥åˆ°ä¸€ä¸ªç«¯ç‚¹å‘é€æ¶ˆæ¯ä¹‹å‰ï¼Œä½ å¯ä»¥å°†ä¸€ç³»åˆ—çš„äº‹ä»¶ç›‘å¬å™¨æ¥å¤„ç†è¿æ¥çš„ç”Ÿå‘½å‘¨æœŸçš„æ¯ä¸ªé˜¶æ®µã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<pre><code>myWebSocket.onopen = function(evt) { \n    alert(&quot;Connection open ...&quot;); \n};\nmyWebSocket.onmessage = function(evt) { \n    alert( &quot;Received Message: &quot; + evt.data); \n};\nmyWebSocket.onclose = function(evt) { \n    alert(&quot;Connection closed.&quot;); \n};\n</code></pre><p>å‘æœåŠ¡ç«¯å‘é€ä¿¡æ¯ï¼Œåªéœ€è¦ç®€å•çš„<code>send</code>å¹¶æä¾›ä½ å¸Œæœ›ä¼ é€’çš„å†…å®¹ã€‚å‘é€ä¿¡æ¯åï¼Œ<code>close</code>ç»ˆæ­¢è¿æ¥ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<pre><code>myWebSocket.send(&quot;Hello WebSockets!&quot;);\nmyWebSocket.close();\n</code></pre><h2 id=\"socketJS\"><a href=\"#socketJS\" class=\"headerlink\" title=\"socketJS\"></a>socketJS</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œwebscoketæ˜¯HTML5çš„æ–°ç©æ„ï¼Œé‚£ä¹ˆå…¼å®¹æ€§æ–¹é¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0814_1.png\" alt=\"clipboard.png\"></p>\n<p>å¯ä»¥çœ‹å‡ºIE8ä»¥åŠAndroid 4.3æ˜¯ä¸æ”¯æŒçš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥çœ‹çœ‹<code>socketJS</code>çš„ä¼˜åŠ¿äº†ã€‚</p>\n<blockquote>\n<p>SockJS is a browser JavaScript library that provides a WebSocket-like object. SockJS gives you a coherent, cross-browser, Javascript API which creates a low latency, full duplex, cross-domain communication channel between the browser and the web server.<br><code>socketJS</code>çš„ä¸€å¤§å¥½å¤„åœ¨äº<strong>æä¾›äº†æµè§ˆå™¨å…¼å®¹æ€§</strong>ã€‚ä¼˜å…ˆä½¿ç”¨åŸç”Ÿ<code>websocket</code>ï¼Œå¦‚æœåœ¨ä¸æ”¯æŒ<code>websocket</code>çš„æµè§ˆå™¨ä¸­ï¼Œä¼šè‡ªåŠ¨é™ä¸ºè½®è¯¢çš„æ–¹å¼ã€‚<br>é™¤æ­¤ä¹‹å¤–ï¼Œ<code>spring</code>ä¹Ÿå¯¹<code>socketJS</code>æä¾›äº†æ”¯æŒã€‚å¦‚æœä»£ç ä¸­æ·»åŠ äº†<code>withSockJS()</code>å¦‚ä¸‹ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šè‡ªåŠ¨é™çº§ä¸ºè½®è¯¢ã€‚</p>\n</blockquote>\n<pre><code>registry.addEndpoint(&quot;/coordination&quot;).withSockJS();  \n</code></pre><h2 id=\"å¦‚ä½•ä½¿ç”¨socketJS\"><a href=\"#å¦‚ä½•ä½¿ç”¨socketJS\" class=\"headerlink\" title=\"å¦‚ä½•ä½¿ç”¨socketJS\"></a>å¦‚ä½•ä½¿ç”¨socketJS</h2><pre><code>&lt;script src=&quot;//cdn.jsdelivr.net/sockjs/1.0.0/sockjs.min.js&quot;&gt;&lt;/script&gt;\n\nvar sock = new SockJS(&apos;/coordination&apos;);  \nsock.onopen = function() {\n    console.log(&apos;open&apos;);\n};\nsock.onmessage = function(e) {\n    console.log(&apos;message&apos;, e.data);\n};\nsock.onclose = function() {\n    console.log(&apos;close&apos;);\n};\nsock.send(&apos;test&apos;);\nsock.close();\n</code></pre><p>æ›´å¤šå†…å®¹ï¼Œå¯æŸ¥çœ‹githubåœ°å€ï¼š<a href=\"https://github.com/sockjs/sockjs-client\" target=\"_blank\" rel=\"noopener\">https://github.com/sockjs/sockjs-client</a></p>\n<h2 id=\"ä»€ä¹ˆæ˜¯Stomp\"><a href=\"#ä»€ä¹ˆæ˜¯Stomp\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯Stomp\"></a>ä»€ä¹ˆæ˜¯Stomp</h2><p>é€šè¿‡ä»¥ä¸Šéƒ¨åˆ†æˆ‘ä»¬å¯ä»¥çŸ¥é“<code>websocket</code>çš„ä¼˜åŠ¿ï¼Œå…¼å®¹æ€§çš„é—®é¢˜<code>socketJS</code>ä¹Ÿå¸®æˆ‘ä»¬è§£å†³äº†ã€‚ä¸è¿‡è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘è¿˜è¦å®‰åˆ©ä¸€ä¸ªå¥½ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯<code>Stomp</code>ã€‚</p>\n<blockquote>\n<p>STOMP is a simple text-orientated messaging protocol. It defines an interoperable wire format so that any of the available STOMP clients can communicate with any STOMP message broker to provide easy and widespread messaging interoperability among languages and platforms (the STOMP web site has a list of STOMP client and server implementations.</p>\n</blockquote>\n<p>å…·ä½“å†…å®¹ï¼Œå¯æŸ¥çœ‹å®˜ç½‘ï¼š<a href=\"http://jmesnil.net/stomp-websocket/doc/ã€‚æˆ–è€…ç­‰æˆ‘ä¸‹ä¸€ç¯‡æ–‡ç« è¯¦è°ˆå§~\" target=\"_blank\" rel=\"noopener\">http://jmesnil.net/stomp-websocket/doc/ã€‚æˆ–è€…ç­‰æˆ‘ä¸‹ä¸€ç¯‡æ–‡ç« è¯¦è°ˆå§~</a></p>\n<p>å‚è€ƒèµ„æ–™ï¼š</p>\n<ol>\n<li><a href=\"http://blog.csdn.net/xjyzxx/article/details/24182677\" target=\"_blank\" rel=\"noopener\">Spring WebSocketæ•™ç¨‹ï¼ˆä¸€ï¼‰</a></li>\n<li><a href=\"http://www.52im.net/forum.php?mod=viewthread&amp;tid=331&amp;ctid=15\" target=\"_blank\" rel=\"noopener\">WebSocketè¯¦è§£ï¼ˆä¸€ï¼‰ï¼šåˆæ­¥è®¤è¯†WebSocketæŠ€æœ¯</a></li>\n<li><a href=\"http://jmesnil.net/stomp-websocket/doc/\" target=\"_blank\" rel=\"noopener\">STOMP Over WebSocket</a></li>\n<li><a href=\"https://github.com/sockjs/sockjs-client\" target=\"_blank\" rel=\"noopener\">sockjs/sockjs-client</a></li>\n<li><a href=\"http://blog.csdn.net/yxb19870428vv/article/details/41495543\" target=\"_blank\" rel=\"noopener\">Spring websocket ä½¿ç”¨</a></li>\n<li><a href=\"http://www.tuicool.com/articles/uINBfiZ\" target=\"_blank\" rel=\"noopener\">Webç«¯å³æ—¶é€šè®¯æŠ€æœ¯ç›˜ç‚¹ï¼šçŸ­è½®è¯¢ã€Cometã€Websocketã€SSE</a></li>\n<li><a href=\"http://www.websocket.org/aboutwebsocket.html\" target=\"_blank\" rel=\"noopener\">websocketå®˜ç½‘About HTML5 WebSocket</a></li>\n</ol>\n","categories":["å‰ç«¯å¼€å‘"],"tags":["javascript","websocket","html5"]},{"title":"summernoteç¼–è¾‘å™¨æ’ä»¶ä½¿ç”¨ç¬”è®°","url":"http://yoursite.com/2016/08/10/summernote-notes/","content":"<p>è¿™æ¬¡é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°ç¼–è¾‘å™¨æ’ä»¶ï¼Œäºæ˜¯ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹ã€‚ç”±äºéœ€è¦çš„ç¼–è¾‘å™¨åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œä¸éœ€è¦å¤ªå¤šå¤æ‚åŠŸèƒ½ï¼Œæ‰€ä»¥é€‰æ‹©äº†ä¸€æ¬¾ç‰¹åˆ«è½»é‡çš„summernoteæ’ä»¶ï¼Œè€Œä¸”åå°æ“ä½œä¹Ÿå¾ˆç®€å•ã€‚<br>å®˜ç½‘ï¼š<a href=\"http://summernote.org/\" target=\"_blank\" rel=\"noopener\">http://summernote.org/</a><br>githubåœ°å€ï¼š<a href=\"https://github.com/summernote/summernote\" target=\"_blank\" rel=\"noopener\">https://github.com/summernote/summernote</a></p>\n<p>å…ˆæ¥çœ‹ä¸€ä¸‹å®˜ç½‘çš„æˆªå›¾</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0810_1.png\" alt=\"å®˜ç½‘æˆªå›¾\"></p>\n<p>éº»é›€è™½å°äº”è„ä¿±å…¨ã€‚å®Œå…¨å¯ä»¥æ»¡è¶³ç¼–è¾‘å™¨çš„éœ€è¦ã€‚</p>\n<p>æŒ‰ç…§å®˜ç½‘é“¾æ¥ä¸‹è½½ä¸‹æ¥çš„æ˜¯</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0810_5.png\" alt=\"clipboard.png\"></p>\n<p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ˜¯åœ¨distæ–‡ä»¶å¤¹å†…</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0810_2.png\" alt=\"clipboard.png\"></p>\n<p>å…¶ä¸­fontä¸»è¦æ˜¯ç¼–è¾‘å™¨å†…çš„å›¾æ ‡æ˜¾ç¤ºï¼Œlangæ˜¯å„ç§è¯­è¨€ï¼Œcssåˆ™æ˜¯æ ·å¼ã€‚æˆ‘ä»¬ä¸»è¦æ¥çœ‹ä¸€ä¸‹summernote.jsã€‚</p>\n<h2 id=\"summernote-js\"><a href=\"#summernote-js\" class=\"headerlink\" title=\"summernote.js\"></a>summernote.js</h2><h3 id=\"å®šä¹‰\"><a href=\"#å®šä¹‰\" class=\"headerlink\" title=\"å®šä¹‰\"></a>å®šä¹‰</h3><pre><code>$.fn.extend({\n   summernote: function () {\n     var type = $.type(list.head(arguments));\n     var isExternalAPICalled = type === &apos;string&apos;;\n     var hasInitOptions = type === &apos;object&apos;;\n\n     var options = hasInitOptions ? list.head(arguments) : {};\n\n     options = $.extend({}, $.summernote.options, options);\n     options.langInfo = $.extend(true, {}, $.summernote.lang[&apos;en-US&apos;], $.summernote.lang[options.lang]);\n\n     this.each(function (idx, note) {\n       var $note = $(note);\n       if (!$note.data(&apos;summernote&apos;)) {\n         var context = new Context($note, options);\n         $note.data(&apos;summernote&apos;, context);\n         $note.data(&apos;summernote&apos;).triggerEvent(&apos;init&apos;, context.layoutInfo);\n       }\n     });\n\n     var $note = this.first();\n     if ($note.length) {\n       var context = $note.data(&apos;summernote&apos;);\n       if (isExternalAPICalled) {\n         return context.invoke.apply(context, list.from(arguments));\n       } else if (options.focus) {\n         context.invoke(&apos;editor.focus&apos;);\n       }\n     }\n\n     return this;\n   }\n });\n</code></pre><p>è¿™å°±æ˜¯åˆå§‹åŒ–summernoteæ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚</p>\n<pre><code>$.extend(object) å¯ä»¥ç†è§£ä¸ºJQuery æ·»åŠ ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚\n$.fn.extend(object) å¯ä»¥ç†è§£ä¸ºJQueryå®ä¾‹æ·»åŠ ä¸€ä¸ªæ–¹æ³•ã€‚\n</code></pre><p>é»˜è®¤çš„optionså¦‚ä¸‹</p>\n<pre><code>options: {\n  modules: {\n    &apos;editor&apos;: Editor,\n    &apos;clipboard&apos;: Clipboard,\n    &apos;dropzone&apos;: Dropzone,\n    &apos;codeview&apos;: Codeview,\n    &apos;statusbar&apos;: Statusbar,\n    &apos;fullscreen&apos;: Fullscreen,\n    &apos;handle&apos;: Handle,\n    // FIXME: HintPopover must be front of autolink\n    //  - Script error about range when Enter key is pressed on hint popover\n    &apos;hintPopover&apos;: HintPopover,\n    &apos;autoLink&apos;: AutoLink,\n    &apos;autoSync&apos;: AutoSync,\n    &apos;placeholder&apos;: Placeholder,\n    &apos;buttons&apos;: Buttons,\n    &apos;toolbar&apos;: Toolbar,\n    &apos;linkDialog&apos;: LinkDialog,\n    &apos;linkPopover&apos;: LinkPopover,\n    &apos;imageDialog&apos;: ImageDialog,\n    &apos;imagePopover&apos;: ImagePopover,\n    &apos;videoDialog&apos;: VideoDialog,\n    &apos;helpDialog&apos;: HelpDialog,\n    &apos;airPopover&apos;: AirPopover\n  },\n\n  buttons: {},\n\n  lang: &apos;zh-CN&apos;,\n\n  // toolbarå·¥å…·æ é»˜è®¤\n  toolbar: [\n    [&apos;style&apos;, [&apos;style&apos;]],\n    [&apos;font&apos;, [&apos;bold&apos;, &apos;underline&apos;, &apos;clear&apos;]],\n    [&apos;fontname&apos;, [&apos;fontname&apos;]],\n    [&apos;color&apos;, [&apos;color&apos;]],\n    [&apos;para&apos;, [&apos;ul&apos;, &apos;ol&apos;, &apos;paragraph&apos;]],\n    [&apos;table&apos;, [&apos;table&apos;]],\n    [&apos;insert&apos;, [&apos;link&apos;, &apos;picture&apos;, &apos;video&apos;]],\n    [&apos;view&apos;, [&apos;fullscreen&apos;, &apos;codeview&apos;, &apos;help&apos;]]\n  ],\n\n  // popover\n  popover: {\n    image: [\n      [&apos;imagesize&apos;, [&apos;imageSize100&apos;, &apos;imageSize50&apos;, &apos;imageSize25&apos;]],\n      [&apos;float&apos;, [&apos;floatLeft&apos;, &apos;floatRight&apos;, &apos;floatNone&apos;]],\n      [&apos;remove&apos;, [&apos;removeMedia&apos;]]\n    ],\n    link: [\n      [&apos;link&apos;, [&apos;linkDialogShow&apos;, &apos;unlink&apos;]]\n    ],\n    air: [\n      [&apos;color&apos;, [&apos;color&apos;]],\n      [&apos;font&apos;, [&apos;bold&apos;, &apos;underline&apos;, &apos;clear&apos;]],\n      [&apos;para&apos;, [&apos;ul&apos;, &apos;paragraph&apos;]],\n      [&apos;table&apos;, [&apos;table&apos;]],\n      [&apos;insert&apos;, [&apos;link&apos;, &apos;picture&apos;]]\n    ]\n  },\n\n  // air mode: inline editor\n  airMode: false,\n\n  width: null,\n  height: null,\n\n  focus: false,\n  tabSize: 4,\n  styleWithSpan: false,\n  shortcuts: true,\n  textareaAutoSync: true,\n  direction: null,\n\n  styleTags: [&apos;p&apos;, &apos;blockquote&apos;, &apos;pre&apos;, &apos;h1&apos;, &apos;h2&apos;, &apos;h3&apos;, &apos;h4&apos;, &apos;h5&apos;, &apos;h6&apos;],\n\n  fontNames: [\n    &apos;Arial&apos;, &apos;Arial Black&apos;, &apos;Comic Sans MS&apos;, &apos;Courier New&apos;,\n    &apos;Helvetica Neue&apos;, &apos;Helvetica&apos;, &apos;Impact&apos;, &apos;Lucida Grande&apos;,\n    &apos;Tahoma&apos;, &apos;Times New Roman&apos;, &apos;Verdana&apos;\n  ],\n\n  fontSizes: [&apos;8&apos;, &apos;9&apos;, &apos;10&apos;, &apos;11&apos;, &apos;12&apos;, &apos;14&apos;, &apos;18&apos;, &apos;24&apos;, &apos;36&apos;],\n\n  // pallete colors(n x n)\n  colors: [\n    [&apos;#000000&apos;, &apos;#424242&apos;, &apos;#636363&apos;, &apos;#9C9C94&apos;, &apos;#CEC6CE&apos;, &apos;#EFEFEF&apos;, &apos;#F7F7F7&apos;, &apos;#FFFFFF&apos;],\n    [&apos;#FF0000&apos;, &apos;#FF9C00&apos;, &apos;#FFFF00&apos;, &apos;#00FF00&apos;, &apos;#00FFFF&apos;, &apos;#0000FF&apos;, &apos;#9C00FF&apos;, &apos;#FF00FF&apos;],\n    [&apos;#F7C6CE&apos;, &apos;#FFE7CE&apos;, &apos;#FFEFC6&apos;, &apos;#D6EFD6&apos;, &apos;#CEDEE7&apos;, &apos;#CEE7F7&apos;, &apos;#D6D6E7&apos;, &apos;#E7D6DE&apos;],\n    [&apos;#E79C9C&apos;, &apos;#FFC69C&apos;, &apos;#FFE79C&apos;, &apos;#B5D6A5&apos;, &apos;#A5C6CE&apos;, &apos;#9CC6EF&apos;, &apos;#B5A5D6&apos;, &apos;#D6A5BD&apos;],\n    [&apos;#E76363&apos;, &apos;#F7AD6B&apos;, &apos;#FFD663&apos;, &apos;#94BD7B&apos;, &apos;#73A5AD&apos;, &apos;#6BADDE&apos;, &apos;#8C7BC6&apos;, &apos;#C67BA5&apos;],\n    [&apos;#CE0000&apos;, &apos;#E79439&apos;, &apos;#EFC631&apos;, &apos;#6BA54A&apos;, &apos;#4A7B8C&apos;, &apos;#3984C6&apos;, &apos;#634AA5&apos;, &apos;#A54A7B&apos;],\n    [&apos;#9C0000&apos;, &apos;#B56308&apos;, &apos;#BD9400&apos;, &apos;#397B21&apos;, &apos;#104A5A&apos;, &apos;#085294&apos;, &apos;#311873&apos;, &apos;#731842&apos;],\n    [&apos;#630000&apos;, &apos;#7B3900&apos;, &apos;#846300&apos;, &apos;#295218&apos;, &apos;#083139&apos;, &apos;#003163&apos;, &apos;#21104A&apos;, &apos;#4A1031&apos;]\n  ],\n\n  lineHeights: [&apos;1.0&apos;, &apos;1.2&apos;, &apos;1.4&apos;, &apos;1.5&apos;, &apos;1.6&apos;, &apos;1.8&apos;, &apos;2.0&apos;, &apos;3.0&apos;],\n\n  tableClassName: &apos;table table-bordered&apos;,\n\n  insertTableMaxSize: {\n    col: 10,\n    row: 10\n  },\n\n  dialogsInBody: false,\n  dialogsFade: false,\n\n  maximumImageFileSize: null,\n\n  callbacks: {\n    onInit: null,//åˆå§‹åŒ–å›è°ƒå‡½æ•°\n    onFocus: null,//èšé›†\n    onBlur: null,//å¤±å»ç„¦ç‚¹\n    onEnter: null,//å›è½¦é”®çš„å›è°ƒå‡½æ•°\n    onKeyup: null,\n    onKeydown: null,\n    onSubmit: null,//æäº¤æ—¶å›è°ƒå‡½æ•°\n    onImageUpload: null,//è¿™å°±æ˜¯ä¸Šä¼ å›¾ç‰‡çš„å›è°ƒå‡½æ•°\n    onImageUploadError: null//ä¸Šä¼ å›¾ç‰‡å‡ºé”™\n  },\n\n  codemirror: {\n    mode: &apos;text/html&apos;,\n    htmlMode: true,\n    lineNumbers: true\n  },\n\n  keyMap: {\n    pc: {\n      &apos;ENTER&apos;: &apos;insertParagraph&apos;,\n      &apos;CTRL+Z&apos;: &apos;undo&apos;,\n      &apos;CTRL+Y&apos;: &apos;redo&apos;,\n      &apos;TAB&apos;: &apos;tab&apos;,\n      &apos;SHIFT+TAB&apos;: &apos;untab&apos;,\n      &apos;CTRL+B&apos;: &apos;bold&apos;,\n      &apos;CTRL+I&apos;: &apos;italic&apos;,\n      &apos;CTRL+U&apos;: &apos;underline&apos;,\n      &apos;CTRL+SHIFT+S&apos;: &apos;strikethrough&apos;,\n      &apos;CTRL+BACKSLASH&apos;: &apos;removeFormat&apos;,\n      &apos;CTRL+SHIFT+L&apos;: &apos;justifyLeft&apos;,\n      &apos;CTRL+SHIFT+E&apos;: &apos;justifyCenter&apos;,\n      &apos;CTRL+SHIFT+R&apos;: &apos;justifyRight&apos;,\n      &apos;CTRL+SHIFT+J&apos;: &apos;justifyFull&apos;,\n      &apos;CTRL+SHIFT+NUM7&apos;: &apos;insertUnorderedList&apos;,\n      &apos;CTRL+SHIFT+NUM8&apos;: &apos;insertOrderedList&apos;,\n      &apos;CTRL+LEFTBRACKET&apos;: &apos;outdent&apos;,\n      &apos;CTRL+RIGHTBRACKET&apos;: &apos;indent&apos;,\n      &apos;CTRL+NUM0&apos;: &apos;formatPara&apos;,\n      &apos;CTRL+NUM1&apos;: &apos;formatH1&apos;,\n      &apos;CTRL+NUM2&apos;: &apos;formatH2&apos;,\n      &apos;CTRL+NUM3&apos;: &apos;formatH3&apos;,\n      &apos;CTRL+NUM4&apos;: &apos;formatH4&apos;,\n      &apos;CTRL+NUM5&apos;: &apos;formatH5&apos;,\n      &apos;CTRL+NUM6&apos;: &apos;formatH6&apos;,\n      &apos;CTRL+ENTER&apos;: &apos;insertHorizontalRule&apos;,\n      &apos;CTRL+K&apos;: &apos;linkDialog.show&apos;\n    },\n\n    mac: {\n      &apos;ENTER&apos;: &apos;insertParagraph&apos;,\n      &apos;CMD+Z&apos;: &apos;undo&apos;,\n      &apos;CMD+SHIFT+Z&apos;: &apos;redo&apos;,\n      &apos;TAB&apos;: &apos;tab&apos;,\n      &apos;SHIFT+TAB&apos;: &apos;untab&apos;,\n      &apos;CMD+B&apos;: &apos;bold&apos;,\n      &apos;CMD+I&apos;: &apos;italic&apos;,\n      &apos;CMD+U&apos;: &apos;underline&apos;,\n      &apos;CMD+SHIFT+S&apos;: &apos;strikethrough&apos;,\n      &apos;CMD+BACKSLASH&apos;: &apos;removeFormat&apos;,\n      &apos;CMD+SHIFT+L&apos;: &apos;justifyLeft&apos;,\n      &apos;CMD+SHIFT+E&apos;: &apos;justifyCenter&apos;,\n      &apos;CMD+SHIFT+R&apos;: &apos;justifyRight&apos;,\n      &apos;CMD+SHIFT+J&apos;: &apos;justifyFull&apos;,\n      &apos;CMD+SHIFT+NUM7&apos;: &apos;insertUnorderedList&apos;,\n      &apos;CMD+SHIFT+NUM8&apos;: &apos;insertOrderedList&apos;,\n      &apos;CMD+LEFTBRACKET&apos;: &apos;outdent&apos;,\n      &apos;CMD+RIGHTBRACKET&apos;: &apos;indent&apos;,\n      &apos;CMD+NUM0&apos;: &apos;formatPara&apos;,\n      &apos;CMD+NUM1&apos;: &apos;formatH1&apos;,\n      &apos;CMD+NUM2&apos;: &apos;formatH2&apos;,\n      &apos;CMD+NUM3&apos;: &apos;formatH3&apos;,\n      &apos;CMD+NUM4&apos;: &apos;formatH4&apos;,\n      &apos;CMD+NUM5&apos;: &apos;formatH5&apos;,\n      &apos;CMD+NUM6&apos;: &apos;formatH6&apos;,\n      &apos;CMD+ENTER&apos;: &apos;insertHorizontalRule&apos;,\n      &apos;CMD+K&apos;: &apos;linkDialog.show&apos;\n    }\n  },\n  icons: {\n    &apos;align&apos;: &apos;icon-align&apos;,\n    &apos;alignCenter&apos;: &apos;icon-align-center&apos;,\n    &apos;alignJustify&apos;: &apos;icon-align-justify&apos;,\n    &apos;alignLeft&apos;: &apos;icon-align-left&apos;,\n    &apos;alignRight&apos;: &apos;icon-align-right&apos;,\n    &apos;indent&apos;: &apos;icon-indent-right&apos;,\n    &apos;outdent&apos;: &apos;icon-indent-left&apos;,\n    &apos;arrowsAlt&apos;: &apos;icon-resize-full&apos;,\n    &apos;bold&apos;: &apos;icon-bold&apos;,\n    &apos;caret&apos;: &apos;icon-caret-down&apos;,\n    &apos;circle&apos;: &apos;icon-circle&apos;,\n    &apos;close&apos;: &apos;icon-close&apos;,\n    &apos;code&apos;: &apos;icon-code&apos;,\n    &apos;eraser&apos;: &apos;icon-eraser&apos;,\n    &apos;font&apos;: &apos;icon-font&apos;,\n    &apos;frame&apos;: &apos;icon-frame&apos;,\n    &apos;italic&apos;: &apos;icon-italic&apos;,\n    &apos;link&apos;: &apos;icon-link&apos;,\n    &apos;unlink&apos;: &apos;icon-chain-broken&apos;,\n    &apos;magic&apos;: &apos;icon-magic&apos;,\n    &apos;menuCheck&apos;: &apos;icon-check&apos;,\n    &apos;minus&apos;: &apos;icon-minus&apos;,\n    &apos;orderedlist&apos;: &apos;icon-list-ol&apos;,\n    &apos;pencil&apos;: &apos;icon-pencil&apos;,\n    &apos;picture&apos;: &apos;icon-picture&apos;,\n    &apos;question&apos;: &apos;icon-question&apos;,\n    &apos;redo&apos;: &apos;icon-redo&apos;,\n    &apos;square&apos;: &apos;icon-square&apos;,\n    &apos;strikethrough&apos;: &apos;icon-strikethrough&apos;,\n    &apos;subscript&apos;: &apos;icon-subscript&apos;,\n    &apos;superscript&apos;: &apos;icon-superscript&apos;,\n    &apos;table&apos;: &apos;icon-table&apos;,\n    &apos;textHeight&apos;: &apos;icon-text-height&apos;,\n    &apos;trash&apos;: &apos;icon-trash&apos;,\n    &apos;underline&apos;: &apos;icon-underline&apos;,\n    &apos;undo&apos;: &apos;icon-undo&apos;,\n    &apos;unorderedlist&apos;: &apos;icon-list-ul&apos;,\n    &apos;video&apos;: &apos;icon-facetime-video&apos;\n  }\n}\n</code></pre><p>å…³äºç¼–è¾‘å™¨éœ€è¦çš„å·¥å…·æ toolbarå…·ä½“å±æ€§å¯æŸ¥çœ‹å®˜ç½‘<a href=\"http://summernote.org/deep-dive/#custom-toolbar-popover\" target=\"_blank\" rel=\"noopener\">summernote-toolbarå±æ€§</a></p>\n<h3 id=\"æ›´æ”¹å·¥å…·æ å›¾æ ‡\"><a href=\"#æ›´æ”¹å·¥å…·æ å›¾æ ‡\" class=\"headerlink\" title=\"æ›´æ”¹å·¥å…·æ å›¾æ ‡\"></a><strong>æ›´æ”¹å·¥å…·æ å›¾æ ‡</strong></h3><p>ç”±äºé¡¹ç›®ä¸­æˆ‘æ˜¯ç›´æ¥ä½¿ç”¨fontawesomeï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰å†å¼•å…¥summernote.fontï¼Œç›´æ¥åœ¨optionsä¸­çš„iconsä¸­ä¿®æ”¹ã€‚ä½†æ¯”è¾ƒéº»çƒ¦ï¼Œä¸çŸ¥é“æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ³•ï¼Œæ±‚æŒ‡å¯¼ã€‚</p>\n<p>å…³äºå›¾ç‰‡ä¸Šä¼ ã€æäº¤ã€æŒ‰é”®ç­‰å›è°ƒå‡½æ•°ä¹Ÿæ˜¯åœ¨optionsä¸­ï¼Œè¯¦è§<a href=\"http://summernote.org/deep-dive/#callbacks\" target=\"_blank\" rel=\"noopener\">callbackséƒ¨åˆ†</a>ã€‚</p>\n<p>åˆå§‹åŒ–ä¸€ä¸ªç¼–è¾‘å™¨å¾ˆç®€å•ã€‚åªéœ€è¦å®šä¹‰<br>    <div class=\"summernote\" id=\"myid\"></div></p>\n<pre><code> $(function () {\n    $(&apos;.summernote&apos;).summernote();\n    //æˆ–è€…\n    $(&apos;#myid&apos;).summernote();\n});\n</code></pre><h3 id=\"è®¾ç½®placeholder\"><a href=\"#è®¾ç½®placeholder\" class=\"headerlink\" title=\"è®¾ç½®placeholder:\"></a><strong>è®¾ç½®placeholder:</strong></h3><pre><code>$(&apos;.summernote&apos;).summernote({\n        placeholder:&apos;è¯·è¾“å…¥æ–‡ç« å†…å®¹&apos;,\n        ...\n    });\n</code></pre><h3 id=\"è®¾ç½®toolbar\"><a href=\"#è®¾ç½®toolbar\" class=\"headerlink\" title=\"è®¾ç½®toolbar\"></a><strong>è®¾ç½®toolbar</strong></h3><pre><code>$(&apos;.summernote&apos;).summernote({\n        toolbar:[\n            [&apos;style&apos;,[&apos;bold&apos;,&apos;italic&apos;,&apos;underline&apos;,&apos;clear&apos;]],\n            [&apos;fontsize&apos;,[&apos;fontsize&apos;]],\n            [&apos;para&apos;,[&apos;ul&apos;,&apos;ol&apos;,&apos;paragraph&apos;]],\n            [&apos;color&apos;,[&apos;color&apos;]]\n        ],\n        ...\n\n    });\n</code></pre><h3 id=\"æ›´æ”¹å›¾ç‰‡ä¸Šä¼ çš„æ–¹å¼ï¼š\"><a href=\"#æ›´æ”¹å›¾ç‰‡ä¸Šä¼ çš„æ–¹å¼ï¼š\" class=\"headerlink\" title=\"æ›´æ”¹å›¾ç‰‡ä¸Šä¼ çš„æ–¹å¼ï¼š\"></a><strong>æ›´æ”¹å›¾ç‰‡ä¸Šä¼ çš„æ–¹å¼</strong>ï¼š</h3><p>éœ€è¦æåŠçš„æ˜¯ï¼Œsummernoteé»˜è®¤çš„å›¾ç‰‡ä¸Šä¼ æ–¹å¼ä¸ºbase64æ–¹å¼ã€‚è‹¥éœ€è¦ä¿®æ”¹ï¼Œçœ‹ä»¥ä¸‹ä»£ç ã€‚<br>ã€ä¸€å®šè¦æ³¨æ„ï¼šonImageUploadæ–¹æ³•ä¿®æ”¹æ—¶è¦æ”¾åœ¨callbackså†…é…ç½®ï¼Œå¦åˆ™æ²¡ç”¨ã€‘</p>\n<pre><code>$(&apos;#myid&apos;).summernote({\n    callbacks:{\n        onImageUpload: function(files, editor, $editable) {\n            UploadFiles(files,insertImg);\n        }\n    },\n    ...\n});\n\nfunction insertImg(){\n    for(i in imageUrl){\n        $(&apos;.summernote&apos;).summernote(&apos;editor.insertImage&apos;,imageUrl[i]);\n    }\n}\n\n\nfunction UploadFiles(files,func){\n//è¿™é‡Œfilesæ˜¯å› ä¸ºæˆ‘è®¾ç½®äº†å¯ä¸Šä¼ å¤šå¼ å›¾ç‰‡ï¼Œæ‰€ä»¥éœ€è¦ä¾æ¬¡æ·»åŠ åˆ°formDataä¸­\n    var formData = new FormData();\n    for(f in files){\n        formData.append(&quot;file&quot;, files[f]);\n    }\n\n    $.ajax({\n        data: formData,\n        type: &quot;POST&quot;,\n        url: &quot;/uploadMultipleFile&quot;,\n        cache: false,\n        contentType: false,\n        processData: false,\n        success: function(imageUrl) {\n            func(imageUrl);\n\n        },\n        error: function() {\n            console.log(&quot;uploadError&quot;);\n        }\n    })\n}\n</code></pre><p>æˆ‘ä»¬é¡¹ç›®çš„åå°æ˜¯ç”¨spring+springMVCå®ç°çš„ã€‚åå°å›¾ç‰‡ä¸Šä¼ ä»£ç å¦‚ä¸‹:</p>\n<pre><code>@RequestMapping(value = &quot;/uploadMultipleFile&quot;, method = RequestMethod.POST, produces = &quot;application/json;charset=utf8&quot;)\n@ResponseBody\npublic String uploadMultipleFileHandler(@RequestParam(&quot;file&quot;) MultipartFile[] files, HttpServletRequest request) throws IOException {\n    return     UploadUtil.uploadImage(request.getServletContext().getRealPath(&quot;/&quot;), files);\n}\n\n\n//UploadUtil.javaä¸­uploadImageæ–¹æ³•å¦‚ä¸‹\n public static String uploadImage(String serverPath, MultipartFile[] files) {\n    try {\n        String uploadPath = serverPath + getImageRelativePath();\n        String images = &quot;{}&quot;;\n        //å¦‚æœä¸å­˜åœ¨ç›®å½•,åˆ›å»ºä¸€ä¸ªç›®å½•\n        isDirectory(uploadPath);\n        if (files != null &amp;&amp; files.length &gt; 0) {\n            for (int i = 0; i &lt; files.length; i++) {\n                MultipartFile file = files[i];\n                //save file\n                if (!file.isEmpty()) {\n                    String savePath = getImageRelativePath() + file.getOriginalFilename();//æ•°æ®åº“ä¿å­˜çš„å›¾ç‰‡è·¯å¾„\n                    images = JSONUtil.addProperty(images, String.valueOf(i), savePath);\n                    save(file, uploadPath);\n                }\n            }\n        }\n        return images;\n    } catch (Exception e) {\n        e.printStackTrace();\n        return &quot;{}&quot;;\n    }\n}\n</code></pre><h3 id=\"è®¾ç½®ç¼–è¾‘å™¨ä¸­çš„å€¼ï¼š\"><a href=\"#è®¾ç½®ç¼–è¾‘å™¨ä¸­çš„å€¼ï¼š\" class=\"headerlink\" title=\"è®¾ç½®ç¼–è¾‘å™¨ä¸­çš„å€¼ï¼š\"></a><strong>è®¾ç½®ç¼–è¾‘å™¨ä¸­çš„å€¼ï¼š</strong></h3><pre><code>$(&apos;#myid&apos;).summernote(&apos;code&apos;,content);\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œcontentæ˜¯htmlä»£ç ï¼Œå¯èƒ½å­˜åœ¨<strong>å¼•å·åµŒå¥—</strong>çš„é—®é¢˜å¯¼è‡´æŠ¥é”™ï¼Œè®°å¾—å°†å¼•å·è¿›è¡Œè½¬ä¹‰ã€‚<br>åå°å¤„ç†-javaä»£ç ï¼š</p>\n<pre><code>content = content.replaceAll(&quot;&apos;&quot;,&quot;\\\\\\\\&apos;&quot;);\ncontent = content.replaceAll(&quot;\\&quot;&quot;, &quot;\\\\\\\\\\&quot;&quot;);\n</code></pre><h3 id=\"è·å–ç¼–è¾‘å™¨ä¸­çš„å€¼ï¼š\"><a href=\"#è·å–ç¼–è¾‘å™¨ä¸­çš„å€¼ï¼š\" class=\"headerlink\" title=\"è·å–ç¼–è¾‘å™¨ä¸­çš„å€¼ï¼š\"></a><strong>è·å–ç¼–è¾‘å™¨ä¸­çš„å€¼ï¼š</strong></h3><pre><code>var content = $(&apos;.summernote&apos;).summernote(&apos;code&apos;);\n</code></pre><h3 id=\"ä¸Šä¼ é™„ä»¶\"><a href=\"#ä¸Šä¼ é™„ä»¶\" class=\"headerlink\" title=\"ä¸Šä¼ é™„ä»¶\"></a><strong>ä¸Šä¼ é™„ä»¶</strong></h3><p>è¿™æ¬¡é¡¹ç›®éœ€è¦ä½¿ç”¨é™„ä»¶ï¼Œä½†å‘ç°summernoteè²Œä¼¼æ²¡æœ‰é™„ä»¶åŠŸèƒ½ï¼Œäºæ˜¯è‡ªå·±ç ”ç©¶äº†ä¸€ä¸‹ä»£ç ï¼Œæ ¹æ®é¡¹ç›®çš„éœ€æ±‚ï¼Œåœ¨<code>link</code>é“¾æ¥éƒ¨åˆ†è¿›è¡Œäº†ä¿®æ”¹ã€‚<br>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0810_3.png\" alt=\"clipboard.png\"></p>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆçœ‹<code>link</code>æŒ‰é’®æ‰€ç»‘å®šçš„äº‹ä»¶ã€‚</p>\n<pre><code>context.memo(&apos;button.link&apos;, function () {\n        return ui.button({\n          contents: ui.icon(options.icons.link),\n          tooltip: lang.link.link,\n          click: context.createInvokeHandler(&apos;linkDialog.show&apos;)\n        }).render();\n      });\n</code></pre><p>ç”±ä¸Šé¢çš„ä»£ç å¯ä»¥å‘ç°<code>click</code>äº‹ä»¶ä¸ºï¼š<code>linkDialog.show</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹<code>linkDialog</code>ã€‚</p>\n<pre><code>var LinkDialog = function (context) {\n    ...\n    this.initialize = function () {//åˆå§‹åŒ–\n        ...\n        var body = &apos;&lt;div class=&quot;form-group&quot;&gt;&apos; +\n               &apos;&lt;label&gt;&apos; + lang.link.textToDisplay + &apos;&lt;/label&gt;&apos; +\n               &apos;&lt;input class=&quot;note-link-text form-control&quot; type=&quot;text&quot; /&gt;&apos; +\n             &apos;&lt;/div&gt;&apos; +\n              &apos;&lt;div class=&quot;form-group&quot;&gt;&apos; +\n              &apos;&lt;label&gt;&apos; + lang.link.attachment + &apos;&lt;/label&gt;&apos; +\n              &apos;&lt;input class=&quot;note-link-attachment form-control&quot; type=&quot;file&quot; /&gt;&apos; +\n              &apos;&lt;/div&gt;&apos; +\n             &apos;&lt;div class=&quot;form-group&quot;&gt;&apos; +\n               &apos;&lt;label&gt;&apos; + lang.link.url + &apos;&lt;/label&gt;&apos; +\n               &apos;&lt;input class=&quot;note-link-url form-control&quot; type=&quot;text&quot; value=&quot;http://&quot; /&gt;&apos; +\n             &apos;&lt;/div&gt;&apos; +\n             (!options.disableLinkTarget ?\n               &apos;&lt;div class=&quot;checkbox&quot;&gt;&apos; +\n                 &apos;&lt;label&gt;&apos; + &apos;&lt;input type=&quot;checkbox&quot; checked&gt; &apos; + lang.link.openInNewWindow + &apos;&lt;/label&gt;&apos; +\n               &apos;&lt;/div&gt;&apos; : &apos;&apos;\n             );\n        var footer = &apos;&lt;button href=&quot;#&quot; class=&quot;btn btn-primary note-link-btn disabled&quot; disabled&gt;&apos; + lang.link.insert + &apos;&lt;/button&gt;&apos;;\n\n    }\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œç‚¹å‡»é“¾æ¥æŒ‰é’®å‡ºç°çš„å¼¹æ¡†æ ·å¼å°±åœ¨<code>LinkDialog</code>çš„<code>initialize</code>æ–¹æ³•ä¸­çš„<code>body</code>ï¼Œæ‰€ä»¥æˆ‘åœ¨ä¸­é—´æ·»åŠ äº†ä¸€ä¸ª<code>input</code>ä¸Šä¼ é™„ä»¶çš„éƒ¨åˆ†ã€‚</p>\n<pre><code>&apos;&lt;div class=&quot;form-group&quot;&gt;&apos; +\n&apos;&lt;label&gt;&apos; + lang.link.attachment + &apos;&lt;/label&gt;&apos; +\n&apos;&lt;input class=&quot;note-link-attachment form-control&quot; type=&quot;file&quot; /&gt;&apos; +\n&apos;&lt;/div&gt;&apos; +\n</code></pre><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>lang.link</code>å±æ€§ä¸­ï¼Œæ–°å¢ä¸€ä¸ª<code>attachment</code>é™„ä»¶å±æ€§ã€‚</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0810_4.png\" alt=\"clipboard.png\"></p>\n<p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ä¸­æ–‡çš„è½¬æ¢éƒ¨åˆ†summernote-zh-CN.min.jsä¸­ï¼Œæ·»åŠ <code>link</code>çš„<code>attachment: &#39;æ·»åŠ é™„ä»¶&#39;</code></p>\n<p>å¥½äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦å¤„ç†çš„é—®é¢˜æ˜¯ä¸Šä¼ æ–‡ä»¶åçš„å¤„ç†ã€‚</p>\n<pre><code>this.showLinkDialog = function (linkInfo) {\n    return $.Deferred(function (deferred) {\n        ...\n        //ä¸Šä¼ æ–‡ä»¶çš„è¾“å…¥æ¡†\n        $linkAttachment = self.$dialog.find(&apos;.note-link-attachment&apos;),\n\n        ui.onDialogShown(self.$dialog, function () {\n            ...\n            //å¯¹äºè¾“å…¥æ¡†çš„äº‹ä»¶ç»‘å®š\n            $linkAttachment.on(&apos;change&apos;, function() {\n                UploadFiles($linkAttachment.val(),function(url){\n                    $linkUrl.val(url);//å°†ä¸Šä¼ åçš„URLèµ‹å€¼åˆ°linkUrlçš„è¾“å…¥æ¡†ä¸­\n                });\n            });\n        }\n    }\n}\n</code></pre><p>UploadFilesä¸ä¸Šè¿°ä¿®æ”¹ä¸Šä¼ å›¾ç‰‡çš„å½¢å¼ä¸€æ ·ã€‚   </p>\n<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€‚å¦‚æœæœ‰ç–æ¼ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚</p>\n","categories":["å‰ç«¯å¼€å‘"],"tags":["javascript","jQuery","jQueryæ’ä»¶","summernote"]},{"title":"ä¸€é“ç¬”è¯•é¢˜å¼•å‘çš„promiseç¬”è®°","url":"http://yoursite.com/2016/08/04/promise-notes/","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>è¿‘æ¥å‚åŠ æ ¡æ‹›ç¬”è¯•ï¼Œå‘ç°æœ‰å¥½å‡ é“å…³äºPromiseçš„é¢˜ç›®ã€‚ç„¶è€Œæˆ‘éƒ½æ²¡æœ‰äº†è§£è¿‡ã€‚æ‰€ä»¥ï¼Œè¿™ç¯‡æ–‡ç« ä»¥ç½‘æ˜“ç¬”è¯•çš„ä¸€é“é¢˜å¼€å§‹ï¼Œè®°å½•å…³äºPromiseçš„é‚£äº›äº‹ã€‚</p>\n<h3 id=\"ç¬”è¯•é¢˜\"><a href=\"#ç¬”è¯•é¢˜\" class=\"headerlink\" title=\"ç¬”è¯•é¢˜\"></a>ç¬”è¯•é¢˜</h3><pre><code>console.log(1);\nnew Promise(function (resolve, reject){\n    reject(true);\n    window.setTimeout(function (){\n        resolve(false);\n    }, 0);\n}).then(function(){\n    console.log(2);\n}, function(){\n    console.log(3);\n});\nconsole.log(4);\n</code></pre><p>è¯·é—®è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿåœ¨æ­æ™“ç­”æ¡ˆä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥äº†è§£ä¸€ä¸‹Promiseå§ã€‚</p>\n<h3 id=\"Promiseæ˜¯ä»€ä¹ˆ\"><a href=\"#Promiseæ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"Promiseæ˜¯ä»€ä¹ˆ\"></a>Promiseæ˜¯ä»€ä¹ˆ</h3><blockquote>\n<p>Promise å¯¹è±¡ç”¨äºå¼‚æ­¥(asynchronous)è®¡ç®—.ã€‚ä¸€ä¸ªPromiseå¯¹è±¡ä»£è¡¨ç€ä¸€ä¸ªè¿˜æœªå®Œæˆï¼Œä½†é¢„æœŸå°†æ¥ä¼šå®Œæˆçš„æ“ä½œã€‚<br>Promise å¯¹è±¡æ˜¯ä¸€ä¸ªè¿”å›å€¼çš„ä»£ç†ï¼Œè¿™ä¸ªè¿”å›å€¼åœ¨promiseå¯¹è±¡åˆ›å»ºæ—¶æœªå¿…å·²çŸ¥ã€‚å®ƒå…è®¸ä½ ä¸ºå¼‚æ­¥æ“ä½œçš„æˆåŠŸæˆ–å¤±è´¥æŒ‡å®šå¤„ç†æ–¹æ³•ã€‚ è¿™ä½¿å¾—å¼‚æ­¥æ–¹æ³•å¯ä»¥åƒåŒæ­¥æ–¹æ³•é‚£æ ·è¿”å›å€¼ï¼šå¼‚æ­¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªåŒ…å«äº†åŸè¿”å›å€¼çš„ promise å¯¹è±¡æ¥æ›¿ä»£åŸè¿”å›å€¼ã€‚</p>\n</blockquote>\n<h3 id=\"Promiseçš„API\"><a href=\"#Promiseçš„API\" class=\"headerlink\" title=\"Promiseçš„API\"></a>Promiseçš„API</h3><h4 id=\"Constructor\"><a href=\"#Constructor\" class=\"headerlink\" title=\"Constructor\"></a>Constructor</h4><p>ä½¿ç”¨<code>new</code>æ¥è°ƒç”¨<code>Promise</code>çš„æ„é€ å™¨è¿›è¡Œå®ä¾‹åŒ–</p>\n<pre><code>var promise = new Promise(function(resolve, reject){\n    //å¼‚æ­¥å¤„ç†\n    //å¤„ç†ç»“æŸåï¼Œè°ƒç”¨resolveæˆ–reject\n});\n</code></pre><h4 id=\"Instance-Method\"><a href=\"#Instance-Method\" class=\"headerlink\" title=\"Instance Method\"></a>Instance Method</h4><p>å¯¹é€šè¿‡newç”Ÿæˆçš„promiseå¯¹è±¡ä¸ºäº†è®¾ç½®å…¶åœ¨resolve(æˆåŠŸ)/reject(å¤±è´¥)æ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°å¯ä»¥ä½¿ç”¨<code>promise.then()</code>å®ä¾‹æ–¹æ³•</p>\n<pre><code>promise.then(onFulfilled, onRejected);\n//ä»¥é˜²è¯¯è§£ï¼Œä¸Šè¿°çš„å³ä¸ºä»¥ä¸‹è¿™ç§å½¢å¼\npromise.then(function(){...}, function(){...});\n</code></pre><p>å½“resolve(æˆåŠŸ)æ—¶ï¼Œä¼šè°ƒç”¨<code>onFulfilled</code>å‡½æ•°ï¼›<br>reject(å¤±è´¥)æ—¶ï¼Œä¼šè°ƒç”¨<code>onRejected</code>å‡½æ•°ã€‚<br>è¿™ä¹Ÿå¯¹åº”äº†å‰é¢ç¬”è¯•é¢˜ä¸­,<code>onFulfilled</code>å…¶å®å°±æ˜¯<code>console.log(2)</code>ï¼Œä¹Ÿå°±æ˜¯è¯´æˆåŠŸæ—¶ä¼šè°ƒç”¨<code>console.log(2)</code>ï¼Œè€Œå¤±è´¥æ—¶ï¼Œ<code>onRejected</code>å°±æ˜¯è°ƒç”¨<code>console.log(3)</code>ã€‚</p>\n<p>è‹¥åªæƒ³å¤„ç†å¼‚å¸¸æƒ…å†µçš„å‡½æ•°ï¼Œå¯<code>promise.then(undefined, onRejected)</code>ï¼Œå½“ç„¶æ›´å¥½çš„é€‰æ‹©æ˜¯ç”¨<code>promise.catch()</code>æ¥å¤„ç†ã€‚äºŒè€…æ•ˆæœç›¸åŒã€‚</p>\n<pre><code>promise.then(function (value) {\n    console.log(value); \n}).catch(function (error) {\n    console.log(error);\n});\n\n//ç­‰åŒäºä»¥ä¸‹å½¢å¼\npromise.then(function (value) {\n    console.log(value);\n}, function (error) {\n    console.log(error);\n});\n</code></pre><h4 id=\"å…¶ä»–æ–¹æ³•\"><a href=\"#å…¶ä»–æ–¹æ³•\" class=\"headerlink\" title=\"å…¶ä»–æ–¹æ³•\"></a>å…¶ä»–æ–¹æ³•</h4><ul>\n<li><code>Promise.all()</code></li>\n<li><code>Promise.race()</code></li>\n<li><code>Promise.resolve()</code></li>\n<li><code>Promise.reject()</code></li>\n</ul>\n<h3 id=\"Promiseçš„çŠ¶æ€\"><a href=\"#Promiseçš„çŠ¶æ€\" class=\"headerlink\" title=\"Promiseçš„çŠ¶æ€\"></a>Promiseçš„çŠ¶æ€</h3><p>Promiseå¯¹è±¡æœ‰ä¸‰ç§çŠ¶æ€</p>\n<ul>\n<li>pending åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯fulfilledä¹Ÿä¸æ˜¯rejected</li>\n<li>fulfilled æˆåŠŸã€‚æ­¤æ—¶è°ƒç”¨<code>onFulfilled</code></li>\n<li>rejected å¤±è´¥ã€‚æ­¤æ—¶è°ƒç”¨<code>onRejected</code></li>\n</ul>\n<p>Fulfilledå’ŒRejectedéƒ½å¯ä»¥è¡¨ç¤ºä¸º<code>Settled</code>ã€‚<br>ç”±ä¸‹å›¾å¯ä»¥äº†è§£ï¼Œæœ€åˆPromiseä¸º<code>pending</code>çŠ¶æ€ï¼Œåœ¨æ‰§è¡Œåè½¬ä¸º<code>settled</code>çŠ¶æ€ï¼Œè€Œ<code>settled</code>çŠ¶æ€åˆ†ä¸ºä¸¤ç§ï¼šåœ¨æˆåŠŸåè½¬ä¸º<code>fulfilled</code>ï¼Œæ‰§è¡Œ<code>.then(onFulfilled)</code>æ–¹æ³•ï¼›åœ¨å¤±è´¥åè½¬ä¸º<code>reject</code>ï¼Œæ‰§è¡Œ<code>.then(onRejecttion)</code>æˆ–<code>.catch(onRejecttion)</code>ï¼Œè¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œå†è¿”å›Promiseå¯¹è±¡ï¼Œè½¬ä¸º<code>pending</code>çŠ¶æ€ã€‚</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0804_1.png\" alt=\"PromiseçŠ¶æ€å›¾\"></p>\n<h3 id=\"Promise-resolve-amp-Promise-reject\"><a href=\"#Promise-resolve-amp-Promise-reject\" class=\"headerlink\" title=\"Promise.resolve &amp; Promise.reject\"></a><code>Promise.resolve</code> &amp; <code>Promise.reject</code></h3><h4 id=\"Promise-resolve\"><a href=\"#Promise-resolve\" class=\"headerlink\" title=\"Promise.resolve\"></a>Promise.resolve</h4><p><code>Promise.resolve(value)</code>å¯è®¤ä¸ºæ˜¯<code>new Promise()</code>æ–¹æ³•çš„å¿«æ·æ–¹å¼</p>\n<pre><code>Promise.value(value);\n\n//ç­‰åŒäºä»¥ä¸‹ä»£ç \n\nnew Promise(function(resolve){\n    resolve(value);\n});\n</code></pre><p>æ­¤æ—¶è¿™ä¸ªpromiseå¯¹è±¡ä¼šè¿›å…¥<code>fulfilled</code>çŠ¶æ€ã€‚è€Œ<code>resolve(value)</code>ä¸­çš„<code>value</code>ä¼šä¼ é€’ç»™åé¢<code>then</code>ä¸­æŒ‡å®šçš„<code>onFulfilled</code>å‡½æ•°ã€‚</p>\n<p><code>Promise.resolve(value)</code>è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œé“¾å¼è°ƒç”¨.</p>\n<h4 id=\"Promise-reject\"><a href=\"#Promise-reject\" class=\"headerlink\" title=\"Promise.reject\"></a>Promise.reject</h4><p><code>Promise.reject(error)</code>ä¸ä¸Šè¿°é™æ€æ–¹æ³•ç±»ä¼¼ï¼Œä¹Ÿæ˜¯<code>new Promise()</code>æ–¹æ³•çš„å¿«æ·æ–¹å¼</p>\n<pre><code>Promise.reject(new Error(&quot;å‡ºé”™äº†&quot;));\n//ç­‰åŒäºä»¥ä¸‹ä»£ç \nnew Promise(function(resolve, reject){\n    reject(new Error(&quot;å‡ºé”™äº†&quot;));\n});\n</code></pre><p>è¿™æ®µä»£ç åˆ™æ˜¯è°ƒç”¨è¯¥promiseå¯¹è±¡é€šè¿‡<code>then</code>æŒ‡å®šçš„<code>onRejected</code>å‡½æ•°ï¼Œå¹¶å°†é”™è¯¯å¯¹è±¡(Error)ä¼ é€’ç»™<code>onRejected</code>å‡½æ•°ã€‚</p>\n<h3 id=\"ç¬”è¯•é¢˜è§£ç­”\"><a href=\"#ç¬”è¯•é¢˜è§£ç­”\" class=\"headerlink\" title=\"ç¬”è¯•é¢˜è§£ç­”\"></a>ç¬”è¯•é¢˜è§£ç­”</h3><p>è¯ä¸å¤šè¯´ï¼Œè´´å›¾å°±æ˜¯ã€‚</p>\n<p><img src=\"http://oao50r2ex.bkt.clouddn.com/image.blog0804_2.png\" alt=\"ç­”æ¡ˆæˆªå›¾\"></p>\n<p>å¯ä»¥çŸ¥é“ï¼Œå½“promiseè°ƒç”¨äº†<code>reject(true)</code>æ–¹æ³•ï¼Œåˆ™ä¼ é€’<code>true</code>è¿™ä¸ªå‚æ•°ç»™â€™thenâ€™æŒ‡å®šçš„<code>onRejected</code>å‡½æ•°ï¼Œå³é¢˜ç›®ä¸­çš„<code>function(){console.log(3);}</code>ã€‚ä½†ç”±äºâ€™.thenâ€™ä¸­æŒ‡å®šçš„æ–¹æ³•è°ƒç”¨æ˜¯<strong>å¼‚æ­¥æ‰§è¡Œ</strong>çš„ï¼Œæ‰€ä»¥ä¼šå…ˆæ‰§è¡Œconsole.log(4);</p>\n<p>æœ¬ç¯‡æ–‡ç« ä»…æ˜¯ç®€å•ä»‹ç»promiseã€‚æ¬²äº†è§£æ›´å¤šå†…å®¹ï¼Œå¯æŸ¥çœ‹ä»¥ä¸‹èµ„æ–™ã€‚è°¢è°¢~</p>\n<p>èµ„æ–™æ¥æºï¼š</p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" target=\"_blank\" rel=\"noopener\">Promise- Javascipt | MDN</a></li>\n<li><a href=\"http://liubin.org/promises-book/\" target=\"_blank\" rel=\"noopener\">JavaScript Promiseè¿·ä½ ä¹¦ï¼ˆä¸­æ–‡ç‰ˆ)</a></li>\n</ul>\n","categories":["å‰ç«¯å¼€å‘"],"tags":["javascript","es6","promise"]},{"title":"ç§»åŠ¨ç«¯ä¸Šä¸‹æ»‘åŠ¨åˆ‡æ¢å±å¹•çš„å®ç°","url":"http://yoursite.com/2016/07/21/mobile-touch-switch/","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>çœ‹è¿‡äº†ä¸å°‘ç§»åŠ¨ç«¯ä¸Šä¸‹æ»‘åŠ¨åˆ‡æ¢å±å¹•çš„æ•ˆæœï¼Œäºæ˜¯è‡ªå·±æ‹¿ç®€å†è¯•ç€å®ç°äº†ä¸€ä¸‹ã€‚æ•ˆæœå¯çœ‹:<a href=\"http://lsxj615.com/cv\" target=\"_blank\" rel=\"noopener\">æ»‘åŠ¨åˆ‡æ¢å±å¹•æ•ˆæœ</a>æˆ–è€…æ‰«æäºŒç»´ç <br><img src=\"http://oao50r2ex.bkt.clouddn.com/imagcv.png\" alt=\"lsxj615.com/cv\"></p>\n<h2 id=\"å®ç°è¿‡ç¨‹\"><a href=\"#å®ç°è¿‡ç¨‹\" class=\"headerlink\" title=\"å®ç°è¿‡ç¨‹\"></a>å®ç°è¿‡ç¨‹</h2><ul>\n<li><h3 id=\"å¤§ä½“æ€è·¯\"><a href=\"#å¤§ä½“æ€è·¯\" class=\"headerlink\" title=\"å¤§ä½“æ€è·¯\"></a>å¤§ä½“æ€è·¯</h3></li>\n</ul>\n<p>é¡µé¢çš„åˆ‡æ¢ä¸»è¦æ˜¯é‡‡ç”¨<code>css3</code>åŠ¨ç”»æ•ˆæœ<code>transform:translateY()</code>æ¥å®ç°ã€‚äº‹ä»¶ç›‘å¬ä¸»è¦ä»¥<code>touchstart</code>,<code>touchmove</code>,<code>touchend</code>ã€‚</p>\n<ul>\n<li><h3 id=\"HTMLç»“æ„\"><a href=\"#HTMLç»“æ„\" class=\"headerlink\" title=\"HTMLç»“æ„\"></a>HTMLç»“æ„</h3><pre><code>&lt;div class=&quot;container&quot;&gt; \n    &lt;section id = &quot;intro&quot;&gt;...&lt;/section&gt;   \n    &lt;section id = &quot;project&quot;&gt;...&lt;/section&gt; \n    &lt;section id = &quot;profession&quot;&gt;...&lt;/section&gt;\n    &lt;section id = &quot;education&quot;&gt;...&lt;/section&gt;\n    &lt;section id = &quot;contact&quot;&gt;...&lt;/section&gt;  \n&lt;/div&gt;\n</code></pre></li>\n<li><h3 id=\"CSSæ ·å¼å¦‚ä¸‹ï¼š\"><a href=\"#CSSæ ·å¼å¦‚ä¸‹ï¼š\" class=\"headerlink\" title=\"CSSæ ·å¼å¦‚ä¸‹ï¼š\"></a>CSSæ ·å¼å¦‚ä¸‹ï¼š</h3><pre><code>//cssæ ·å¼\nhtml,body {\n    width: 100%;\n    height: 100%;\n    padding: 0;\n    margin: 0;\n    overflow: hidden; \n}\n\n.container {\n    position: absolute; \n    width: 100%;\n    height: 100%;\n    -webkit-transform: translate3d(0, 0, 0);\n    -moz-transform: translate3d(0, 0, 0);\n    -o-transform: translate3d(0, 0, 0);\n    -ms-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n    -webkit-backface-visibility: hidden;\n    -webkit-transition: all 0.5s ease;\n    -moz-transition: all 0.5s ease;\n    -o-transition: all 0.5s ease;\n    -ms-transition: all 0.5s ease;\n    transition: all 0.5s ease; \n}\n\n.container &gt; section {\n    position: relative;\n    width: 100%;\n    height: 100%; \n}\n</code></pre><p> å…¶ä¸­<code>-webkit-backface-visibility:hidden</code>æ˜¯ä¸ºäº†éšè—è¢«æ—‹è½¬çš„å…ƒç´ çš„èƒŒé¢ã€‚å…³äºåŠ¨ç”»æ•ˆæœï¼Œç”±äºæˆ‘é‡‡ç”¨çš„<code>SCSS</code>ï¼Œåœ¨æ›´æ”¹æ—¶åªéœ€è¦æ›´æ”¹$nå³containerå†…sectionçš„ä¸ªæ•°ï¼Œè¾ƒä¸ºä¾¿æ·ã€‚</p>\n<pre><code>//ä»¥ä¸‹ä¸ºSCSSéƒ¨åˆ†ï¼š\n$n:5;\n@function getContentTopOffset($i) {\n    @return -100%*$i+100%;\n}\n@for $i from 1 through $n {\n    .slide_to_#{$i} {\n        transform: translateY(getContentTopOffset($i));\n    }\n}\n//CSSçš„æ•ˆæœå¦‚ä¸‹ï¼š\n.slide_to_1 {\n    transform: translateY(0%); }\n\n.slide_to_2 {\n    transform: translateY(-100%); }\n\n.slide_to_3 {\n    transform: translateY(-200%); }\n\n.slide_to_4 {\n    transform: translateY(-300%); }\n\n.slide_to_5 {\n    transform: translateY(-400%); }\n</code></pre></li>\n</ul>\n<p>   åˆ‡æ¢çš„æ•ˆæœç¤ºæ„å›¾å¦‚ä¸‹ï¼šcontainerç›¸å½“äºçº¢è‰²è¾¹æ¡†çŸ©å½¢ï¼Œå†…å®¹éƒ¨åˆ†å°±ç›¸å½“äºç™½è‰²éƒ¨åˆ†ã€‚ä¸‹å›¾ä¸ºæœ€åˆæ•ˆæœï¼Œçº¢è‰²çŸ©å½¢å†…ä¸ºå¯è§çš„ã€‚å¦‚å›¾1.å½“containeræ‰§è¡ŒtranslateY(-100%)æ—¶ï¼Œå°±ç›¸å½“äºå†…å®¹éƒ¨åˆ†å‘ä¸Šç§»åŠ¨äº†100%ï¼Œå³æ˜¾ç¤ºäº†ä¸‹ä¸€éƒ¨åˆ†çš„é¡µé¢ã€‚å¦‚å›¾2æ‰€ç¤ºã€‚<br>å›¾1ï¼šæœ€åˆæ•ˆæœ <img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0721_1.png\" alt=\"\"><br>å›¾2ï¼šç§»åŠ¨åçš„æ•ˆæœ<img src=\"http://oao50r2ex.bkt.clouddn.com/image/blog0721_2.png\" alt=\"\"></p>\n<ul>\n<li><h3 id=\"jså®ç°\"><a href=\"#jså®ç°\" class=\"headerlink\" title=\"jså®ç°\"></a>jså®ç°</h3><p>çŸ¥é“å¦‚ä½•åˆ‡æ¢é¡µé¢ä¹‹åå°±å¥½åŠäº†ã€‚</p>\n<pre><code>var cur_page = 1, //å½“å‰é¡µæ•°\n    slide_range = 30, \n    page_count = 5,//å…±æœ‰5é¡µ\n    obj_container = &apos;.container&apos;;//éœ€è¦åˆ‡æ¢é¡µé¢çš„å…ƒç´ \n\n$(document).on(&quot;touchstart&quot;,obj_container, function(e){\n    touchFirst_obj = {\n        startY: e.touches[0].clientY\n    };\n});//è®°å½•èµ·å§‹è§¦å±ä½ç½®\n\n$(document).on(&quot;touchmove&quot;,obj_container, function(e){\n    e.preventDefault();//é˜»æ­¢æµè§ˆå™¨é»˜è®¤äº‹ä»¶\n    touchLast_obj = e.touches[0];\n    moveY = touchLast_obj.clientY - touchFirst_obj.startY;\n});\n\n$(document).on(&quot;touchstart&quot;,obj_container, function(e){\n    if(moveY &gt; 0) { //å‘ä¸Šæ»‘\n        moveUp();\n    } else if(moveY &lt; 0) { //å‘ä¸‹æ»‘\n        moveDown();\n    }\n    if(moveY != 0) {//å¦‚æœæœ‰æ»‘åŠ¨ï¼Œåˆ™éœ€è¦åˆ‡æ¢é¡µé¢\n        switching();\n    }\n});\n\nfunction moveDown() { //å‘ä¸‹æ»‘\n    if(cur_page == +page_count) {\n        return;\n    }\n    cur_page++;\n}\n\nfunction moveUp() { //å‘ä¸Šæ»‘\n    if(cur_page == 1) return;\n    cur_page--;\n}\n\nfunction switching() {//åˆ‡æ¢é¡µé¢\n    $(obj_selector).attr(&apos;class&apos;, obj_container + &apos; slide_to_&apos; + cur_page);\n}\n</code></pre></li>\n</ul>\n<p>   æŠ€æœ¯ä¸ç²¾ï¼Œè‹¥æœ‰Bugæ¬¢è¿æŒ‡æ­£ï¼åŸåˆ›ä½œå“ï¼Œè‹¥æœ‰è½¬è½½è¯·å‘ŠçŸ¥ã€‚è°¢è°¢ï¼</p>\n","categories":["å‰ç«¯å¼€å‘"],"tags":["javascript","html5","css"]},{"title":"about","url":"http://yoursite.com/about/index.html","content":"","categories":[],"tags":[]},{"title":"category","url":"http://yoursite.com/category/index.html","content":"","categories":[],"tags":[]},{"title":"link","url":"http://yoursite.com/link/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://yoursite.com/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://yoursite.com/tag/index.html","content":"","categories":[],"tags":[]}]